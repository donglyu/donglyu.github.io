<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>lydsnm</title>
  
  <subtitle>...å¤šåšå¤šè¯´...</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.lydsnm.top/"/>
  <updated>2018-09-01T13:45:17.557Z</updated>
  <id>http://www.lydsnm.top/</id>
  
  <author>
    <name>lydsnm</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Slice 1.0.1 â€”â€” Macæå‡ä¸ªäººæ•ˆç‡çš„ä¸€ä¸ªå°å·¥å…·</title>
    <link href="http://www.lydsnm.top/2018/08/30/Slice%E6%9B%B4%E6%96%B01.0.1/"/>
    <id>http://www.lydsnm.top/2018/08/30/Sliceæ›´æ–°1.0.1/</id>
    <published>2018-08-29T16:00:00.000Z</published>
    <updated>2018-09-01T13:45:17.557Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Sliceæ›´æ–°ï¼š"><a href="#ä¸€ã€Sliceæ›´æ–°ï¼š" class="headerlink" title="ä¸€ã€Sliceæ›´æ–°ï¼š"></a>ä¸€ã€Sliceæ›´æ–°ï¼š</h2><p><img src="http://ocs32tleq.bkt.clouddn.com/2018-08-30-SlicePreview.png" alt="SlicePrevie"></p><p>&emsp;&emsp;ä½ æ˜¯å¦æœ‰è¿™æ ·çš„ä½“éªŒï¼Œå¦‚æœç»™ä½ ä¸€ä¸Šåˆçš„å‘¨æœ«æ—¶é—´ï¼Œå¯èƒ½ä¼šæƒ³ç€åæ­£æ—¶é—´ä¹Ÿå¤šï¼Œæ‰“æ‰«ä¸ªå«ç”Ÿï¼Œåˆ·åˆ·å¾®åšä¸€ä¸Šåˆå°±è¿‡å»ï¼Œä½†å¦‚æœæ˜¯æŠŠè¿™äº›æ—¶é—´åˆ’åˆ†æˆ15åˆ†é’Ÿçš„ç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µåšä¸€ä»¶äº‹ï¼Œä¸€ä¸Šåˆèƒ½åšçš„äº‹ç»å¯¹è¶…å‡ºä½ çš„æƒ³è±¡ã€‚</p><p>&emsp;&emsp;åœ¨çŸ­æš‚çš„ç‰‡åˆ»æ—¶é—´å†…ï¼ŒæŒ‡å®šä¸€ä¸ªå‡ ååˆ†é’Ÿå†…è¦å®Œæˆçš„ä»»åŠ¡ã€‚è¿™å‡ ååˆ†é’Ÿå†…åªä¸“åšè¿™ä»¶äº‹ï¼Œä¸è¦è¢«å…¶ä»–æ‰“æ‰°ã€‚åªæœ‰å€’è®¡æ—¶æ‰ä¼šç»™äººç´§è¿«æ„Ÿã€‚ä¸å…¶åœ¨æœŸæœ›æœªæ¥è™šå¹»çš„æˆå°±ï¼Œä¸å¦‚ç€çœ¼ç°åœ¨ï¼ŒæŠŠæ¡å³å°†åˆ°æ¥çš„ä¸€å°æ®µæ—¶é—´ã€‚</p><p>&emsp;&emsp;æˆ‘ä¸ªäººä¹Ÿåœ¨ç”¨è¿™ä¸ªè½¯ä»¶ï¼Œä½¿ç”¨ä¸‹æ¥ï¼Œç¡®å®æå‡äº†ä¸å°‘æ•ˆç‡ã€‚</p><a id="more"></a><h2 id="äºŒã€æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ï¼š"><a href="#äºŒã€æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ï¼š" class="headerlink" title="äºŒã€æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ï¼š"></a>äºŒã€æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ï¼š</h2><p>&emsp;&emsp;è„‘ä¸­æŒ‡å®šä¸€ä»¶æ¥ä¸‹æ¥è¦åšçš„äº‹ï¼Œæ¥ä¸‹æ¥çš„ä¸€æ®µæ—¶é—´å†…åªä¸“æ³¨äºè¿™ä¸€ä»¶äº‹ï¼ˆä¸€æ®µæ—¶é—´ï¼šå°±æ˜¯è‡ªå·±è¾“å…¥çš„æ—¶é—´ï¼‰ã€‚äº²æµ‹ï¼Œæ•ˆç‡æå‡ä¸å°‘ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ç´§è¿«æ„Ÿã€‚</p><p>&emsp;&emsp;å»ºè®®15åˆ†é’Ÿä¸€æ¬¡ï¼Œå¤ªé•¿ä¼šé›†ä¸­ä¸äº†æ³¨æ„åŠ›ï¼Œå½±å“æ•ˆç‡ã€‚æ­¤å¤–ï¼Œæ°¸è¿œä¹Ÿä¸è¦åšä¸€ä»¶äº‹ï¼Œè¶…è¿‡1ä¸ªå°æ—¶ã€‚åˆ©ç”¨ç¢ç‰‡æ—¶é—´ï¼Œå°†æ•´å—çš„æ—¶é—´åˆ†æˆå°ç‰‡æ®µï¼Œå»åšä»»ä½•çç¢çš„äº‹ï¼Œè€Œä¸ä¼šèŠ±æ‰æ•´å—æ—¶é—´å¤„ç†ã€‚</p><h2 id="ä¸‰ã€åŠŸèƒ½ç‰¹ç‚¹ï¼š"><a href="#ä¸‰ã€åŠŸèƒ½ç‰¹ç‚¹ï¼š" class="headerlink" title="ä¸‰ã€åŠŸèƒ½ç‰¹ç‚¹ï¼š"></a>ä¸‰ã€åŠŸèƒ½ç‰¹ç‚¹ï¼š</h2><ul><li>å ç”¨æå°ã€‚</li><li>å§‹ç»ˆæ‚¬åœåœ¨æ‰€æœ‰çª—å£æœ€å‰é¢ã€‚</li><li>èœå•æ ç‚¹å‡»ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å€’è®¡æ—¶çª—å£ï¼ˆå³æ”¯æŒå¤šä¸ªè®¡æ—¶å™¨ï¼‰</li><li>è‡ªå®šä¹‰æé†’ä¿¡æ¯</li></ul><p>Slice 1.0.1. åœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„åŸºç¡€ä¸Šï¼Œç²¾ç®€äº†ä¸€äº›åŠŸèƒ½ã€‚æ–°å¢äº†ä»¥ä¸‹ä¸€äº›åŠŸèƒ½ï¼š</p><ul><li>æš‚åœåŠŸèƒ½ï¼š<br>å¯èƒ½åœ¨ä¸­é€”å‡ºç°çªå‘äº‹æƒ…è¦å»å¤„ç†ï¼Œå¯ä»¥æš‚åœSliceæ—¶é—´ã€‚</li><li>æ›´æ˜æ˜¾çš„æé†’ä¿¡æ¯</li></ul><hr><h2 id="å››ã€åæœŸåŠŸèƒ½è®¡åˆ’"><a href="#å››ã€åæœŸåŠŸèƒ½è®¡åˆ’" class="headerlink" title="å››ã€åæœŸåŠŸèƒ½è®¡åˆ’"></a>å››ã€åæœŸåŠŸèƒ½è®¡åˆ’</h2><ul><li>æé†’éŸ³æ•ˆå¯é€‰æ‹©ã€‚</li><li>åæœŸä¼šåŠ ç»Ÿè®¡åŠŸèƒ½ã€‚</li></ul><hr><h2 id="äº”ã€ä½¿ç”¨"><a href="#äº”ã€ä½¿ç”¨" class="headerlink" title="äº”ã€ä½¿ç”¨"></a>äº”ã€ä½¿ç”¨</h2><p>ä¸‹è½½é“¾æ¥:<a href="https://pan.baidu.com/s/1roNYPESUcKJJhXRkOl6uzw" target="_blank" rel="noopener">https://pan.baidu.com/s/1roNYPESUcKJJhXRkOl6uzw</a>  å¯†ç :s1vx</p><p>è§£å‹åå°†<code>slice.app</code>æ‹–åŠ¨åˆ°ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºä¸­</p><p>å¦å¤–ï¼Œé’ˆå¯¹æŸäº›ç”¨æˆ·æ‰€è¯´ï¼Œåœ¨10.11ä»¥åç³»ç»Ÿå¯èƒ½å®‰è£…ä¸äº†çš„æƒ…å†µï¼Œå¯ä»¥åœ¨â€œè®¾ç½®â€ä¸­â€œå®‰å…¨ä¸éšç§â€çš„â€œé€šç”¨â€é€‰é¡¹ä¸‹ï¼Œ è®¾ç½®<b>å…è®¸ä»ä»»ä½•æ¥æºçš„åº”ç”¨</b>ã€‚ç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨Sliceäº†ã€‚å› ä¸ºSliceæ˜¯æœ¬äººåœ¨ä¸šä½™æ—¶é—´å¼€å‘ï¼Œå¹¶æœªä¸Šæ¶App storeï¼Œä¸”OS Xç³»ç»Ÿæœ‰è¿™ä¹ˆä¸€ä¸ªä¿æŠ¤æœºåˆ¶ï¼Œæ•…æœ‰è¿™æ ·ç°è±¡ã€‚</p><p><img src="http://ocs32tleq.bkt.clouddn.com/PastedGraphic-1-systemSettingforMac.png" width="500"></p><p>å¦‚æœåœ¨è¿™ä¸ªåœ°æ–¹æ²¡æœ‰â€œä»»ä½•æ¥æºâ€ä¸€é¡¹çš„è¯ï¼Œå°±éœ€è¦æ‰“å¼€ç³»ç»Ÿåº”ç”¨â€œç»ˆç«¯â€ï¼Œè¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure><p>ç„¶åå†è¾“å…¥ä½ çš„ç³»ç»Ÿå¯†ç å›è½¦å³å¯ï¼ˆä¸å±æ˜¾ï¼‰ã€‚</p><h2 id="å…­ã€è”ç³»æˆ‘"><a href="#å…­ã€è”ç³»æˆ‘" class="headerlink" title="å…­ã€è”ç³»æˆ‘"></a>å…­ã€è”ç³»æˆ‘</h2><p>å¦‚æœä½ æœ‰ä»€ä¹ˆå»ºè®®æˆ–æ„è§ï¼Œè¯·å‘Šè¯‰æˆ‘~<br>[é‚®ç®±]ï¼š<a href="mailto:dongingdao@163.com" target="_blank" rel="noopener">dongingdao@163.com</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸€ã€Sliceæ›´æ–°ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€ã€Sliceæ›´æ–°ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Sliceæ›´æ–°ï¼š&quot;&gt;&lt;/a&gt;ä¸€ã€Sliceæ›´æ–°ï¼š&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://ocs32tleq.bkt.clouddn.com/2018-08-30-SlicePreview.png&quot; alt=&quot;SlicePrevie&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;ä½ æ˜¯å¦æœ‰è¿™æ ·çš„ä½“éªŒï¼Œå¦‚æœç»™ä½ ä¸€ä¸Šåˆçš„å‘¨æœ«æ—¶é—´ï¼Œå¯èƒ½ä¼šæƒ³ç€åæ­£æ—¶é—´ä¹Ÿå¤šï¼Œæ‰“æ‰«ä¸ªå«ç”Ÿï¼Œåˆ·åˆ·å¾®åšä¸€ä¸Šåˆå°±è¿‡å»ï¼Œä½†å¦‚æœæ˜¯æŠŠè¿™äº›æ—¶é—´åˆ’åˆ†æˆ15åˆ†é’Ÿçš„ç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µåšä¸€ä»¶äº‹ï¼Œä¸€ä¸Šåˆèƒ½åšçš„äº‹ç»å¯¹è¶…å‡ºä½ çš„æƒ³è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;åœ¨çŸ­æš‚çš„ç‰‡åˆ»æ—¶é—´å†…ï¼ŒæŒ‡å®šä¸€ä¸ªå‡ ååˆ†é’Ÿå†…è¦å®Œæˆçš„ä»»åŠ¡ã€‚è¿™å‡ ååˆ†é’Ÿå†…åªä¸“åšè¿™ä»¶äº‹ï¼Œä¸è¦è¢«å…¶ä»–æ‰“æ‰°ã€‚åªæœ‰å€’è®¡æ—¶æ‰ä¼šç»™äººç´§è¿«æ„Ÿã€‚ä¸å…¶åœ¨æœŸæœ›æœªæ¥è™šå¹»çš„æˆå°±ï¼Œä¸å¦‚ç€çœ¼ç°åœ¨ï¼ŒæŠŠæ¡å³å°†åˆ°æ¥çš„ä¸€å°æ®µæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;æˆ‘ä¸ªäººä¹Ÿåœ¨ç”¨è¿™ä¸ªè½¯ä»¶ï¼Œä½¿ç”¨ä¸‹æ¥ï¼Œç¡®å®æå‡äº†ä¸å°‘æ•ˆç‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="tools" scheme="http://www.lydsnm.top/categories/tools/"/>
    
    
  </entry>
  
  <entry>
    <title>åº”ç”¨å®¡æ ¸é€šè¿‡ï¼Œä½†æ˜¯å†…è´­é¡¹ç›®ä¸€ç›´å¤„äºæ­£åœ¨å®¡æ ¸ä¸­</title>
    <link href="http://www.lydsnm.top/2018/07/03/2018-07-03%E5%BA%94%E7%94%A8%E5%AE%A1%E6%A0%B8%E9%80%9A%E8%BF%87%EF%BC%8C%E4%BD%86%E6%98%AF%E5%86%85%E8%B4%AD%E9%A1%B9%E7%9B%AE%E4%B8%80%E7%9B%B4%E5%A4%84%E4%BA%8E%E6%AD%A3%E5%9C%A8%E5%AE%A1%E6%A0%B8%E4%B8%AD/"/>
    <id>http://www.lydsnm.top/2018/07/03/2018-07-03åº”ç”¨å®¡æ ¸é€šè¿‡ï¼Œä½†æ˜¯å†…è´­é¡¹ç›®ä¸€ç›´å¤„äºæ­£åœ¨å®¡æ ¸ä¸­/</id>
    <published>2018-07-03T14:52:43.852Z</published>
    <updated>2018-07-03T14:54:22.967Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;è¿‘æœŸåº”ç”¨ä¸Šæ¶ä¼šå‘˜åŠŸèƒ½ï¼Œæ–°å¢äº†å‡ ä¸ªå†…è´­é¡¹ç›®ï¼ŒæŒ‰éƒ¨å°±ç­ï¼Œåº”ç”¨æµ‹è¯•é€šè¿‡åï¼Œæäº¤åº”ç”¨å•†åº—å®¡æ ¸ã€‚è‡ªä¿¡çš„å‹¾é€‰ä¸Šå®¡æ ¸é€šè¿‡åè‡ªåŠ¨å‘å¸ƒï¼Œå¯æ˜¯åº”ç”¨é€šè¿‡å®¡æ ¸å¹¶è‡ªåŠ¨é‡Šæ”¾äº†ï¼Œå†…è´­é¡¹ç›®æ²¡æœ‰é€šè¿‡ï¼Œå¯¼è‡´çº¿ä¸Šç”¨æˆ·ç‰ˆæœ¬ï¼Œç‚¹å‡»è´­ä¹°ä¼šå‘˜è·å–ä¸åˆ°å•†å“ä¿¡æ¯ï¼Œæ²¡æœ‰ä»»ä½•ååº”ï¼Œç‰¹éš¾å—ã€‚ç°åœ¨è®°å½•ä¸€ä¸‹æˆ‘çš„è§£å†³è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹å…¶ä»–æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚</p><a id="more"></a><p>&emsp;&emsp;å°è¯•è¿‡é‡æ–°ä¿®æ”¹ä¸‹åˆ¤æ–­æ²¡æœ‰å•†åº—ä¿¡æ¯ç»™å‡ºæé†’ï¼ŒæŒ‰ç…§ä¸€äº›ç½‘å‹çš„è§£å†³æ–¹æ³•ï¼šé‡æ–°æäº¤ä¸€ä¸ªæ–°ç‰ˆæœ¬å®¡æ ¸ï¼Œå¹¶æ”¹æˆäº†æ‰‹åŠ¨å‘å¸ƒã€‚ç„¶è€Œäº‹å®å‘Šè¯‰æˆ‘ï¼Œè¿™æ ·å¹¶æ²¡æœ‰ç”¨ã€‚å®¡æ ¸å‘˜å†æ¬¡é—æ¼äº†æˆ‘çš„å†…è´­é¡¹ç›®ã€‚æ— å¥ˆä¹‹ä¸‹ï¼Œå°è¯•äº†é‚®ä»¶ç”³è¯‰åé¦ˆã€‚</p><p>é™„ï¼š<a href="https://developer.apple.com/" target="_blank" rel="noopener">https://developer.apple.com/</a> -&gt; Contact Us -&gt; App Review -&gt; Other App Review questions -&gt; I would like to <code>get the status of my app</code>ã€‚è¿™æ˜¯æˆ‘çš„é€‰æ‹©æ­¥éª¤ã€‚</p><p>&emsp;&emsp;ç¬¬äºŒå¤©ï¼Œæ—©ä¸Š8ç‚¹å¤šé‚®ä»¶æœ‰é€šçŸ¥ï¼Œå†…è´­é€šè¿‡äº†ï¼Œçº¿ä¸Šç‰ˆæœ¬ä¸ç”¨æ›´æ–°å¯ä»¥ç›´æ¥ç”¨äº†ï¼ˆPSï¼šæœåŠ¡å™¨åŒæ­¥è¦æ—¶é—´ï¼Œç­‰åˆ°ä¸‹åˆçš„æ—¶å€™ï¼Œä¼šå‘˜æ‰å¯ä»¥æ­£å¸¸è´­ä¹°ï¼‰ã€‚</p><h2 id="ç»“è¯­ï¼š"><a href="#ç»“è¯­ï¼š" class="headerlink" title="ç»“è¯­ï¼š"></a>ç»“è¯­ï¼š</h2><p>&emsp;&emsp;å¦‚æœä¸€ä¸ªç‰ˆæœ¬æœ‰æ–°å¢çš„å†…è´­é¡¹ï¼Œé‚£ä¹ˆè¿™ä¸ªç‰ˆæœ¬è¿˜æ˜¯æ”¹æˆ<code>æ‰‹åŠ¨é‡Šæ”¾</code>æ¯”è¾ƒå¥½ã€‚ç‚¹å‡»å‘å¸ƒå‰è¦æ£€æŸ¥ä½ çš„å†…è´­é¡¹æ˜¯å¦æ˜¯å¤„äº<code>å·²æ‰¹å‡†</code>çŠ¶æ€ã€‚å¦‚æœå‘ç°åº”ç”¨é€šè¿‡åï¼Œå†…è´­å®¡æ ¸æ²¡æœ‰çº¢ç‚¹ï¼ˆä¹Ÿå°±è¯´æ²¡æœ‰æŒ‰è¦æ±‚å¡«å†™è€Œæ‰“å›ï¼‰å¤„äºæ­£åœ¨å®¡æ ¸ä¸­ï¼Œè¯·è”ç³»è‹¹æœå®¢æœï¼Œä¸è¦é‡æ–°å‘åŒ…äº†ï¼Œè‡³å°‘æˆ‘è¿™é‡Œçš„ç»éªŒæ˜¯è¿™æ ·çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;è¿‘æœŸåº”ç”¨ä¸Šæ¶ä¼šå‘˜åŠŸèƒ½ï¼Œæ–°å¢äº†å‡ ä¸ªå†…è´­é¡¹ç›®ï¼ŒæŒ‰éƒ¨å°±ç­ï¼Œåº”ç”¨æµ‹è¯•é€šè¿‡åï¼Œæäº¤åº”ç”¨å•†åº—å®¡æ ¸ã€‚è‡ªä¿¡çš„å‹¾é€‰ä¸Šå®¡æ ¸é€šè¿‡åè‡ªåŠ¨å‘å¸ƒï¼Œå¯æ˜¯åº”ç”¨é€šè¿‡å®¡æ ¸å¹¶è‡ªåŠ¨é‡Šæ”¾äº†ï¼Œå†…è´­é¡¹ç›®æ²¡æœ‰é€šè¿‡ï¼Œå¯¼è‡´çº¿ä¸Šç”¨æˆ·ç‰ˆæœ¬ï¼Œç‚¹å‡»è´­ä¹°ä¼šå‘˜è·å–ä¸åˆ°å•†å“ä¿¡æ¯ï¼Œæ²¡æœ‰ä»»ä½•ååº”ï¼Œç‰¹éš¾å—ã€‚ç°åœ¨è®°å½•ä¸€ä¸‹æˆ‘çš„è§£å†³è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹å…¶ä»–æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
  </entry>
  
  <entry>
    <title>ç§æœ‰APIæ£€æµ‹ç³»ç»Ÿä¸­æ˜¯å¦å®‰è£…äº†æŸæ¬¾æŒ‡å®šçš„è½¯ä»¶</title>
    <link href="http://www.lydsnm.top/2018/06/25/2018-06-25%E7%A7%81%E6%9C%89API%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E4%BA%86%E6%9F%90%E6%AC%BE%E6%8C%87%E5%AE%9A%E7%9A%84%E8%BD%AF%E4%BB%B6/"/>
    <id>http://www.lydsnm.top/2018/06/25/2018-06-25ç§æœ‰APIæ£€æµ‹ç³»ç»Ÿä¸­æ˜¯å¦å®‰è£…äº†æŸæ¬¾æŒ‡å®šçš„è½¯ä»¶/</id>
    <published>2018-06-25T12:34:11.000Z</published>
    <updated>2018-07-08T01:56:23.146Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å‰æ®µæ—¶é—´ï¼Œåœ¨ä¸€ä¸ªç§¯åˆ†ä»»åŠ¡å¢™çš„é¡¹ç›®ï¼Œéœ€è¦è·³è½¬åˆ°å¸‚åœºå»å®‰è£…Appï¼Œäº†éœ€è¦æ£€æµ‹iOSè®¾å¤‡å·²å®‰è£…åº”ç”¨åˆ—è¡¨çš„éœ€æ±‚ï¼Œè¦èƒ½è·å–åˆ°å®‰è£…æƒ…å†µï¼ˆåŒ…æ‹¬å®‰è£…è¿›åº¦å•Šï¼Œå®Œæˆå›è°ƒç­‰ï¼‰ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„äº†è§£ï¼Œè¿˜ç®—å®Œæˆäº†æ—¢å®šä»»åŠ¡ã€‚</p><a id="more"></a><h2 id="URL-Scheme"><a href="#URL-Scheme" class="headerlink" title="URL Scheme"></a>URL Scheme</h2><p>&emsp;&emsp;å‰æœŸè€ƒè™‘è¿‡<code>URL Scheme</code>æ¥åˆ¤æ–­æ˜¯å¦å®‰è£…äº†æŸä¸ªåº”ç”¨ï¼Œä½†æ˜¯æ¯ä¸ªappæ˜¯å¦è®¾ç½®äº†URL schemeä¸çŸ¥é“ï¼Œè€Œä¸”iOS9ä¸Š  <code>[[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:url]]</code>çš„èƒ½åˆ¤æ–­çš„ä¸Šé™æ˜¯50ä¸ªï¼Œå› æ­¤è¿™ä¸ªå®é™…æƒ…å†µä¸‹æ— æ³•ä½¿ç”¨ã€‚ä½†æ˜¯æˆ‘ä»¬å¯èƒ½åœ¨å…¶ä»–åœºæ™¯ä¸‹ä½¿ç”¨åˆ°URL Scheme(æ¯”å¦‚æ‰“å¼€ç³»ç»Ÿåº”ç”¨)ï¼Œå¯ä»¥ä¸‹é¢çš„æ–¹æ³•åˆ—å‡ºæ‰€æœ‰çš„URL Schemeï¼Œä½†æ˜¯å“ªä¸ªschemeæ˜¯å“ªä¸ªåº”ç”¨å°±å¾—é çŒœäº†ï¼Œä¸€ä¸ªåº”ç”¨ä¹Ÿå¯èƒ½æœ‰å¤šä¸ªURL Schemeã€‚</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSArray</span>*)privateURLSchemes&#123;</span><br><span class="line">    <span class="keyword">return</span> [_workspace privateURLSchemes];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSArray</span>*)publicURLSchemes&#123;</span><br><span class="line">    <span class="keyword">return</span> [_workspace publicURLSchemes];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è·å–ç³»ç»Ÿä¸­å®‰è£…åˆ—è¡¨å’Œå„åº”ç”¨çš„bundleIdã€‚"><a href="#è·å–ç³»ç»Ÿä¸­å®‰è£…åˆ—è¡¨å’Œå„åº”ç”¨çš„bundleIdã€‚" class="headerlink" title="è·å–ç³»ç»Ÿä¸­å®‰è£…åˆ—è¡¨å’Œå„åº”ç”¨çš„bundleIdã€‚"></a>è·å–ç³»ç»Ÿä¸­å®‰è£…åˆ—è¡¨å’Œå„åº”ç”¨çš„bundleIdã€‚</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Class LSApplicationWorkspace_class = objc_getClass(<span class="string">"LSApplicationWorkspace"</span>);  </span><br><span class="line">SEL selector=<span class="built_in">NSSelectorFromString</span>(<span class="string">@"defaultWorkspace"</span>);  </span><br><span class="line"><span class="built_in">NSObject</span>* workspace = [LSApplicationWorkspace_class performSelector:selector];  </span><br><span class="line">_workspace = workspace</span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include <span class="meta-string">&lt;objc/runtime.h&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"> SEL selectorALL = <span class="built_in">NSSelectorFromString</span>(<span class="string">@"allApplications"</span>);  </span><br><span class="line"> <span class="built_in">NSArray</span> *apps = [_workspace performSelector:selectorALL];</span><br><span class="line"> <span class="built_in">NSLog</span>(<span class="string">@"apps: %@"</span>, );  </span><br><span class="line"> [apps[<span class="number">0</span>] performSelector:<span class="built_in">NSSelectorFromString</span>(<span class="string">@"applicationIdentifier"</span>)];<span class="comment">//shortVersionStringç­‰ã€‚</span></span><br></pre></td></tr></table></figure><p>å…¶ä½™ä¸€äº›æ–¹æ³•å¯ä»¥å»è¿™å„¿<a href="https://github.com/nst/iOS-Runtime-Headers/blob/master/Frameworks/MobileCoreServices.framework/LSApplicationProxy.h" target="_blank" rel="noopener">æŸ¥çœ‹</a>ï¼š</p><p>å…³äºLSApplicationWorkspaceçš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹<a href="https://www.jianshu.com/p/b8d882069197" target="_blank" rel="noopener">iOSç§æœ‰æ–¹æ³•LSApplicationWorkspace.hçš„ä¸€äº›ä½¿ç”¨</a></p><h2 id="é€šè¿‡å®šæ—¶å™¨ä¸æ–­çš„è°ƒåº¦-å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•å¾—åˆ°-æ‰€æœ‰æ­£åœ¨ä¸‹è½½çš„app"><a href="#é€šè¿‡å®šæ—¶å™¨ä¸æ–­çš„è°ƒåº¦-å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•å¾—åˆ°-æ‰€æœ‰æ­£åœ¨ä¸‹è½½çš„app" class="headerlink" title="é€šè¿‡å®šæ—¶å™¨ä¸æ–­çš„è°ƒåº¦ å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•å¾—åˆ° æ‰€æœ‰æ­£åœ¨ä¸‹è½½çš„app"></a>é€šè¿‡å®šæ—¶å™¨ä¸æ–­çš„è°ƒåº¦ å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•å¾—åˆ° æ‰€æœ‰æ­£åœ¨ä¸‹è½½çš„app</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** é€šè¿‡å®šæ—¶å™¨ä¸æ–­è°ƒç”¨æ¥è·å–ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨ä¸‹è½½çš„å†…å®¹åŠè¿›åº¦ã€‚*/</span></span><br><span class="line">- (<span class="keyword">IBAction</span>)TimerUpdateToGetDownloadProgress:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> *lib = dlopen(<span class="string">"/System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices"</span>, RTLD_LAZY);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (lib)&#123;</span><br><span class="line">        Class LSApplicationWorkspace = <span class="built_in">NSClassFromString</span>(<span class="string">@"LSApplicationWorkspace"</span>);</span><br><span class="line">        <span class="keyword">id</span> AAURLConfiguration1 = [LSApplicationWorkspace performSelector:<span class="keyword">@selector</span>(defaultWorkspace)];</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (AAURLConfiguration1)&#123;</span><br><span class="line">            <span class="keyword">id</span> arrApp = [AAURLConfiguration1 performSelector:<span class="keyword">@selector</span>(allApplications)];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;[arrApp count]; i++) &#123;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">id</span> LSApplicationProxy = [arrApp objectAtIndex:i];</span><br><span class="line">                <span class="built_in">NSString</span>* bundleId =[LSApplicationProxy performSelector:<span class="keyword">@selector</span>(applicationIdentifier)];</span><br><span class="line">                <span class="built_in">NSString</span>* name = [LSApplicationProxy localizedName];</span><br><span class="line">                </span><br><span class="line">                <span class="built_in">NSProgress</span> *progress = (<span class="built_in">NSProgress</span> *)[LSApplicationProxy performSelector:<span class="keyword">@selector</span>(installProgress)];</span><br><span class="line">                </span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"current progress:%lf bundleId:%@"</span>, [<span class="built_in">NSProgress</span> currentProgress], bundleId);</span><br><span class="line">                <span class="comment">// æ­£åœ¨å®‰è£…çš„æ¨¡å‹æ•°æ®</span></span><br><span class="line"><span class="comment">//                InstallingModel *model = [self getInstallModel:bundleId];</span></span><br><span class="line">                <span class="comment">//å¦‚æœæ˜¯æ­£åœ¨ä¸‹è½½çŠ¶æ€</span></span><br><span class="line">                <span class="keyword">if</span> (progress)&#123;</span><br><span class="line">                    <span class="comment">//å·²ç»æ£€æµ‹åˆ°çš„</span></span><br><span class="line"><span class="comment">//                    if (model) &#123;</span></span><br><span class="line"><span class="comment">//                        model.progress = [progress localizedDescription];</span></span><br><span class="line"><span class="comment">//                        model.status  =  [NSString stringWithFormat:@"%@",[[progress userInfo] valueForKey:@"installState"]];</span></span><br><span class="line">                        <span class="comment">//ç¬¬ä¸€æ¬¡æ£€æµ‹åˆ°çš„</span></span><br><span class="line"><span class="comment">//                    &#125;else&#123;</span></span><br><span class="line"><span class="comment">//                        InstallingModel *model = [[InstallingModel alloc] init];</span></span><br><span class="line"><span class="comment">//                        model.appName = name;</span></span><br><span class="line"><span class="comment">//                        model.bundleID = bundleId;</span></span><br><span class="line"><span class="comment">//                        model.progress = [progress localizedDescription];</span></span><br><span class="line"><span class="comment">//                        model.status  = [NSString stringWithFormat:@"%@",[[progress userInfo] valueForKey:@"installState"]];</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//                        [_installedAry addObject:model];</span></span><br><span class="line"><span class="comment">//                    &#125;</span></span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (lib) dlclose(lib);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡bundle-idåˆ¤æ–­æ˜¯å¦å®‰è£…å¹¶æ‰“å¼€app"><a href="#é€šè¿‡bundle-idåˆ¤æ–­æ˜¯å¦å®‰è£…å¹¶æ‰“å¼€app" class="headerlink" title="é€šè¿‡bundle idåˆ¤æ–­æ˜¯å¦å®‰è£…å¹¶æ‰“å¼€app"></a>é€šè¿‡bundle idåˆ¤æ–­æ˜¯å¦å®‰è£…å¹¶æ‰“å¼€app</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡applicationIdentifier idã€‚åˆ¤æ–­æ˜¯å¦å®‰è£…æŸä¸ªAPP</span></span><br><span class="line">        <span class="built_in">BOOL</span> isInstall = [workspace performSelector:<span class="keyword">@selector</span>(applicationIsInstalled:) withObject:<span class="string">@"com.tencent.xin"</span>];</span><br><span class="line">        <span class="keyword">if</span> (isInstall) &#123;</span><br><span class="line">            <span class="comment">//é€šè¿‡bundle idæ‰“å¼€APP</span></span><br><span class="line">            [workspace performSelector:<span class="keyword">@selector</span>(openApplicationWithBundleID:) withObject:<span class="string">@"com.tencent.xin"</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"æ‚¨è¿˜æ²¡å®‰è£…"</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ä»¥ä¸Šä¸€äº›æ–¹æ³•å¤§éƒ½ä½¿ç”¨åˆ°äº†ç§æœ‰APIã€æ•…åˆ‡è®°è¦ä¸Šæ¶åˆ°app storeçš„åº”ç”¨ä¸è¦ä½¿ç”¨ã€‚<br>åœ¨äº†è§£è¿‡ç¨‹ä¸­ï¼Œä¸€å¹¶å®Œæˆäº†ä¸€ä¸ªæµ‹è¯•demoï¼Œæœ‰éœ€è¦çš„å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¯•éªŒã€‚<br><a href="https://github.com/donglyu/CheckInstalledAppEtcIniOS" target="_blank" rel="noopener">Demoåœ°å€</a></p><p>- EOF -</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;å‰æ®µæ—¶é—´ï¼Œåœ¨ä¸€ä¸ªç§¯åˆ†ä»»åŠ¡å¢™çš„é¡¹ç›®ï¼Œéœ€è¦è·³è½¬åˆ°å¸‚åœºå»å®‰è£…Appï¼Œäº†éœ€è¦æ£€æµ‹iOSè®¾å¤‡å·²å®‰è£…åº”ç”¨åˆ—è¡¨çš„éœ€æ±‚ï¼Œè¦èƒ½è·å–åˆ°å®‰è£…æƒ…å†µï¼ˆåŒ…æ‹¬å®‰è£…è¿›åº¦å•Šï¼Œå®Œæˆå›è°ƒç­‰ï¼‰ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„äº†è§£ï¼Œè¿˜ç®—å®Œæˆäº†æ—¢å®šä»»åŠ¡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
  </entry>
  
  <entry>
    <title>è®°ä¸€åˆ™iOSå°è£…SDKçš„å¼€å‘è¿‡ç¨‹ä¹‹WebViewå’ŒJSäº¤äº’</title>
    <link href="http://www.lydsnm.top/2018/05/20/%E8%AE%B0%E4%B8%80%E5%88%99iOS%E5%B0%81%E8%A3%85SDK%E7%9A%84%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B9%8BWebView%E5%92%8CJS%E4%BA%A4%E4%BA%92/"/>
    <id>http://www.lydsnm.top/2018/05/20/è®°ä¸€åˆ™iOSå°è£…SDKçš„å¼€å‘è¿‡ç¨‹ä¹‹WebViewå’ŒJSäº¤äº’/</id>
    <published>2018-05-19T16:00:00.000Z</published>
    <updated>2018-06-25T14:49:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;è¿‘æ¥æ¥è§¦äº†ä¸€ä¸ªå°è£…sdkçš„é¡¹ç›®ï¼Œè¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç°åœ¨ç©ºäº†ä¸‹æ¥ï¼Œå°†è¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚<br>é¡¹ç›®ä¸»è¦ç”±<u>iOSå°è£…ä¸€ä¸ªframeworké™æ€åº“ï¼Œåº“é‡Œé¢å¼•å…¥ç”±ç”²æ–¹æä¾›çš„jsæ–¹æ³•åº“ï¼ˆä¸€ä¸ªjsæ–‡ä»¶ï¼‰ï¼ŒåŸç”Ÿè°ƒç”¨jsä¸­çš„æ–¹æ³•ï¼Œå°†æ–¹æ³•è¿”å›å€¼é€šè¿‡åŸç”Ÿæ–¹æ³•å›è°ƒä¼šå»</u>ã€‚ç›¸å½“äºä¸€ä¸ªä¸­é—´ä»¶çš„åŠŸèƒ½ã€‚</p><p>&emsp;&emsp;æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯é€šè¿‡ <font color="a52a2a"><b>UIWebView</b></font> æˆ– <font color="a52a2a"><b>WKWebView</b></font> æ¥åŠ è½½jsï¼Œç„¶åé€šè¿‡javascriptCoreå’ŒWKWebViewè‡ªå¸¦çš„æ–¹æ³•æ¥å¤„ç†ã€‚è¿™ä¸ªç”²æ–¹è¦æ±‚åˆä¸è¦æ˜¾ç¤ºhtmlé¡µé¢ï¼Œæ‰€ä»¥ä½¿ç”¨WebViewæœ‰ç‚¹ç”¨äº†ç‰›åˆ€çš„æ„Ÿè§‰ã€‚æŸ¥äº†æŸ¥èµ„æ–™ï¼Œæ²¡æœ‰æ‰¾åˆ°ç›´æ¥èƒ½å’Œjsæ–‡ä»¶äº¤äº’çš„æ–¹æ³•ï¼Œæ— å¥ˆè¿˜æ˜¯é‡‡ç”¨äº†WKWebViewã€‚</p><a id="more"></a><p>&emsp;&emsp;ç”±äºwkwebViewæ˜¯iOS8ä»¥åæ¨å‡ºçš„æ–°æ¡†æ¶ï¼Œæ•…è€Œä¸€å¼€å§‹å°±ä½¿ç”¨ä½¿ç”¨äº†wkwebviewã€‚å½“å¯¹åº”çš„htmlã€jsåˆ°ä½åï¼Œå‘ç°jsä¸­çš„å›è°ƒå¾ˆå¥‡æ€ªï¼ŒåŸç”Ÿå¶å°”å¯ä»¥å¾—åˆ°å›è°ƒï¼ŒçŒœæµ‹å¯èƒ½jsæ–¹æ³•åº“ä¸­æ–¹æ³•å¤ªè¿‡ç¹å¿™ï¼Œä»è€Œå¯¼è‡´æ¶ˆæ¯å µå¡è¿›è€Œä¸¢å¤±æ‰ã€‚ç»è¿‡å»¶æ—¶çš„æ“ä½œï¼Œå‘ç°å¹¶ä¸æ˜¯è¿™ä¸ªé—®é¢˜ã€‚</p><p>&emsp;&emsp;æ­£å¦‚ä¹‹å‰è¯´çš„ï¼Œé¡¹ç›®å¹¶ä¸éœ€è¦å±•ç¤ºwebViewï¼Œhtmlä¸­çš„å†…å®¹ä¹Ÿä¸éœ€è¦å±•ç¤ºã€‚è€Œéœ€æ±‚æ˜¯æä¾›.frameworkï¼Œä¸å¯èƒ½å¤´æ–‡ä»¶æä¾›ä¸€ä¸ªwebViewç»™å¼€å‘è€…ï¼Œæ·»åŠ åˆ°å¯¹åº”çš„ç•Œé¢ä¸Šå§ã€‚å› æ­¤åšäº†ä¸€ä¸ªå°å°è¯•ï¼Œå¿«é€Ÿæ”¹æ¢æˆäº†UIWebViewï¼Œç›¸åº”çš„jsæ–¹æ³•ï¼Œå’Œè°ƒç”¨æ–¹æ³•ï¼Œä»¥åŠå›è°ƒæ–¹æ³•æ”¹äº†ä¸‹æ¥æµ‹è¯•ã€‚å‘ç°å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚è¿™ä¸‹å¾—å‡ºç»“è®ºWkWebViewå¦‚æœæ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºçš„è¯ï¼Œå†…éƒ¨æœ‰ç§â€œæƒ°æ€§â€çš„æ„Ÿè§‰ï¼ŒæŸäº›jsæ–¹æ³•æ‰§è¡Œå’Œå›è°ƒå¾ˆâ€œè¿Ÿç¼“â€ï¼Œå¾€å¾€ç‚¹å‡ æ¬¡æ‰ä¼šå“åº”ã€‚</p><p>&emsp;&emsp;ç ”ç©¶åˆ°è¿™ï¼Œåº”è¯¥æ˜¯æ¢æˆUIWebViewäº†ã€‚ä½†æ˜¯æŠ±ç€ä¸ç”˜å¿ƒï¼Œå¤šæŸ¥äº†äº›èµ„æ–™ï¼Œå’Œè¯•éªŒäº†å‡ æ³¢ï¼Œæ˜¯çœŸçš„å› ä¸ºé‚£ä¸ªåŸå› å—ï¼Ÿä¸å¤šè¯´äº†ï¼Œæ€»ç»“äº†ä¸‹æˆ‘çš„ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š</p><h2 id="æœ€ç»ˆè§£å†³"><a href="#æœ€ç»ˆè§£å†³" class="headerlink" title="æœ€ç»ˆè§£å†³"></a>æœ€ç»ˆè§£å†³</h2><h3 id="1-ä½¿ç”¨UIWebView"><a href="#1-ä½¿ç”¨UIWebView" class="headerlink" title="1.ä½¿ç”¨UIWebView"></a>1.ä½¿ç”¨UIWebView</h3><p>jsä¸­ä½¿ç”¨ä¸‹é¢çš„ä»£ç å›è°ƒåŸç”Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bclMiddlecallback(callbackScheme, callbackPath);</span><br></pre></td></tr></table></figure><p>UIWebViewå¯ä»¥ä¸åŠ åœ¨ä»»ä½•Viewä¸Šï¼Œä¹Ÿå¯ä»¥è®¾ç½®<code>.hidden = YES;</code></p><h3 id="2-ç»§ç»­ä½¿ç”¨WKWebView"><a href="#2-ç»§ç»­ä½¿ç”¨WKWebView" class="headerlink" title="2.ç»§ç»­ä½¿ç”¨WKWebView"></a>2.ç»§ç»­ä½¿ç”¨WKWebView</h3><p>jsä¸­ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å›è°ƒåŸç”Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.webkit.messageHandlers.bclMiddlecallback.postMessage(callbackScheme + callbackPath);</span><br></pre></td></tr></table></figure><p>ï¼ï¼ï¼WKWebViewå¿…é¡»åŠ åœ¨æŸä¸ªViewä¸Šï¼Œå†…éƒ¨ä¸€äº›æœºåˆ¶æ‰èƒ½æ­£å¸¸è¿è½¬ã€å›è°ƒæ‰èƒ½æ­£å¸¸å‘ç”Ÿã€‚.hiddenè®¾ç½®æˆ–è€…ä¸è®¾ç½®ä¸å½±å“ã€‚</p><p>æ‰€ä»¥ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">WKWebView</span> *wkWebView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, [[<span class="built_in">UIScreen</span> mainScreen] bounds].size.height, <span class="number">320</span>, <span class="number">480</span>) configuration:configuration];</span><br><span class="line">_wkWebView = wkWebView;</span><br><span class="line">[[[<span class="built_in">UIApplication</span> sharedApplication] windows].firstObject addSubview:wkWebView];</span><br><span class="line">wkWebView.hidden = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure><p>æ”¶å·¥ï¼</p><hr><p>å¦‚æœä½ ä¹Ÿé‡åˆ°æ­¤é—®é¢˜ï¼Œå¦‚æœä½ æœ‰æ–°çš„æƒ³æ³•è¯·è”ç³»æˆ‘ï¼š<a href="mailto:dongigndao@163.com" target="_blank" rel="noopener">dongigndao@163.com</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;è¿‘æ¥æ¥è§¦äº†ä¸€ä¸ªå°è£…sdkçš„é¡¹ç›®ï¼Œè¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç°åœ¨ç©ºäº†ä¸‹æ¥ï¼Œå°†è¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚&lt;br&gt;é¡¹ç›®ä¸»è¦ç”±&lt;u&gt;iOSå°è£…ä¸€ä¸ªframeworké™æ€åº“ï¼Œåº“é‡Œé¢å¼•å…¥ç”±ç”²æ–¹æä¾›çš„jsæ–¹æ³•åº“ï¼ˆä¸€ä¸ªjsæ–‡ä»¶ï¼‰ï¼ŒåŸç”Ÿè°ƒç”¨jsä¸­çš„æ–¹æ³•ï¼Œå°†æ–¹æ³•è¿”å›å€¼é€šè¿‡åŸç”Ÿæ–¹æ³•å›è°ƒä¼šå»&lt;/u&gt;ã€‚ç›¸å½“äºä¸€ä¸ªä¸­é—´ä»¶çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯é€šè¿‡ &lt;font color=&quot;a52a2a&quot;&gt;&lt;b&gt;UIWebView&lt;/b&gt;&lt;/font&gt; æˆ– &lt;font color=&quot;a52a2a&quot;&gt;&lt;b&gt;WKWebView&lt;/b&gt;&lt;/font&gt; æ¥åŠ è½½jsï¼Œç„¶åé€šè¿‡javascriptCoreå’ŒWKWebViewè‡ªå¸¦çš„æ–¹æ³•æ¥å¤„ç†ã€‚è¿™ä¸ªç”²æ–¹è¦æ±‚åˆä¸è¦æ˜¾ç¤ºhtmlé¡µé¢ï¼Œæ‰€ä»¥ä½¿ç”¨WebViewæœ‰ç‚¹ç”¨äº†ç‰›åˆ€çš„æ„Ÿè§‰ã€‚æŸ¥äº†æŸ¥èµ„æ–™ï¼Œæ²¡æœ‰æ‰¾åˆ°ç›´æ¥èƒ½å’Œjsæ–‡ä»¶äº¤äº’çš„æ–¹æ³•ï¼Œæ— å¥ˆè¿˜æ˜¯é‡‡ç”¨äº†WKWebViewã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
  </entry>
  
  <entry>
    <title>iOS WebViewä¿®æ”¹userAgentçš„é—®é¢˜ä¸è§£å†³</title>
    <link href="http://www.lydsnm.top/2018/03/22/iOS%20WebView%E4%BF%AE%E6%94%B9userAgent%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3/"/>
    <id>http://www.lydsnm.top/2018/03/22/iOS WebViewä¿®æ”¹userAgentçš„é—®é¢˜ä¸è§£å†³/</id>
    <published>2018-03-21T16:00:00.000Z</published>
    <updated>2018-11-08T15:37:20.907Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å‰é˜µå­åšä¸€ä¸ªé˜…è¯»åº”ç”¨ï¼Œéœ€è¦åµŒå…¥H5é¡µé¢ï¼Œè¦è®©ç½‘é¡µæ£€æµ‹åˆ°æ˜¯Appçš„webViewè®¿é—®ã€‚ç½‘é¡µæœ‰ä¸ªloadingæ•°æ®è¿‡ç¨‹ï¼Œè¿™ä¸ªloadingæ•ˆæœæ¯”è¾ƒå¤æ‚ï¼Œäºæ˜¯ä¹ç”±å®¢æˆ·ç«¯å®ç°ï¼Œéœ€è¦ç½‘é¡µå‘Šè¯‰å®¢æˆ·ç«¯ä»€ä¹ˆæ—¶å€™è¯¥å…³æ‰LoadingåŠ¨ç”»é®ç½©å±‚ï¼ˆè¿˜æœ‰ä¸€äº›å…¶ä»–äº¤äº’æ•ˆæœï¼‰ã€‚è¿™å°±æ¶‰åŠåˆ°äº†ç½‘é¡µå’ŒåŸç”Ÿçš„äº¤äº’äº†ã€‚å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯<font color="a52a2a">WKWebView</font>ã€‚</p><a id="more"></a><p>&emsp;&emsp;åœ¨UIWebViewä¸Šä¿®æ”¹å…¨å±€userAgentå°±ä½¿ç”¨ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc] initWithFrame:<span class="built_in">CGRectZero</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *userAgent = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"navigator.userAgent"</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *newUserAgent = [userAgent stringByAppendingString:<span class="string">@" AppFlag"</span>];</span><br><span class="line">        newUserAgent = [newUserAgent stringByAppendingString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@" token/%@"</span>, token]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSDictionary</span> *dictionary = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:newUserAgent, <span class="string">@"UserAgent"</span>, <span class="literal">nil</span>];</span><br><span class="line">    [[<span class="built_in">NSUserDefaults</span> standardUserDefaults] registerDefaults:dictionary];</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åœ¨UIWebViewä¸Šè·å–userAgentçš„æ–¹æ³•æ˜¯åŒæ­¥çš„(Synchronous)ã€‚</p><p>&emsp;&emsp;å¦‚æœå®åœ¨WKWebViewä¸Šåˆ™ä½¿ç”¨ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">WKWebView</span> *wkWebView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectZero</span>];</span><br><span class="line">    <span class="keyword">self</span>.wkWebView = wkWebView;</span><br><span class="line">    [wkWebView evaluateJavaScript:<span class="string">@"navigator.userAgent"</span> completionHandler:^(<span class="keyword">id</span> result, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *userAgent = result;</span><br><span class="line">        <span class="built_in">NSString</span> *newUserAgent = [userAgent stringByAppendingString:<span class="string">@" AppFlag"</span>];</span><br><span class="line">      </span><br><span class="line">    newUserAgent = [newUserAgent stringByAppendingString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@" token/%@"</span>, token]];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSDictionary</span> *dictionary = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:newUserAgent, <span class="string">@"UserAgent"</span>, <span class="literal">nil</span>];</span><br><span class="line">        [[<span class="built_in">NSUserDefaults</span> standardUserDefaults] registerDefaults:dictionary];</span><br><span class="line">         [<span class="keyword">self</span>.wkWebView setCustomUserAgent:customUserAgent]</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åœ¨WKWebViewä¸Šè·å–userAgentå°±æ˜¯å¼‚æ­¥çš„(Asynchronous)ã€‚</p><p>&emsp;&emsp;å¦‚æœåœ¨webView loadRequestä¹‹å‰ä½¿ç”¨WKWebViewçš„æ–¹å¼ä¿®æ”¹äº†userAgentä¹‹åï¼Œåœ¨Safariä¸­è°ƒè¯•å‘ç°userAgentå®é™…ä¸Šå¯èƒ½å¹¶æ²¡æœ‰æˆåŠŸä¿®æ”¹ã€‚å…¶å®æ˜¯å› ä¸ºå¼‚æ­¥ä¿®æ”¹æ²¡æœ‰ä¿®æ”¹æˆåŠŸï¼Œå¦‚æœå†æ¬¡loadäº†ä¸€ä¸ªæ–°é¡µé¢ï¼Œå†åœ¨Safariä¸­æ§åˆ¶å°è¾“å…¥<code>navigator.userAgent</code>å°±å¯ä»¥æŸ¥çœ‹åˆ°ä¿®æ”¹åçš„å†…å®¹ï¼Œè¿™å°±æ˜¯å¾ˆå¤šå…¶ä»–æœ‹å‹è¯´é‡åˆ°çš„è¦ç¬¬äºŒæ¬¡æ‰èƒ½æ˜¾ç¤ºè‡ªå®šä¹‰çš„å€¼ã€‚<strong><font color="10d3c4">è¿™é‡Œå»ºè®®ä½¿ç”¨UIWebViewçš„æ–¹å¼ä¿®æ”¹å…¨å±€userAgentï¼Œç„¶åå†ä½¿ç”¨WKWebViewå–åŠ è½½å†…å®¹ï¼Œæœ€ç®€å•æœ€é€šç”¨</font></strong>ã€‚å¦‚æœä½¿ç”¨WKWebViewä¿®æ”¹åå†ç”¨WKWebViewåŠ è½½é¡µé¢ï¼Œéœ€è¦æ³¨æ„è·å–å¹¶ä¿®æ”¹ userAgent çš„ webView å¯¹è±¡ï¼Œè·ŸåŠ è½½ç½‘é¡µçš„ webView ä¸èƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±è¯´åœ¨è·å–åˆ°å½“å‰çš„userAgentçš„å›è°ƒé‡Œéœ€è¦é‡æ–°åˆå§‹åŒ– wKWebViewæ¥åŠ è½½é¡µé¢ã€‚</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc] initWithFrame:<span class="built_in">CGRectZero</span>];</span><br><span class="line"><span class="built_in">NSString</span> *userAgent = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"navigator.userAgent"</span>];</span><br><span class="line"><span class="built_in">NSString</span> *newUserAgent = [userAgent stringByAppendingString:<span class="string">@" native_iOS"</span>];<span class="comment">//è‡ªå®šä¹‰éœ€è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *dictionary = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:newUserAgent, <span class="string">@"UserAgent"</span>, <span class="literal">nil</span>];</span><br><span class="line">[[<span class="built_in">NSUserDefaults</span> standardUserDefaults] registerDefaults:dictionary];</span><br><span class="line">[<span class="keyword">self</span>.wkWebView setCustomUserAgent:customUserAgent]</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;<strong>å‚è€ƒé“¾æ¥ï¼š</strong></p><p><a href="https://stackoverflow.com/questions/26994491/set-useragent-in-wkwebview" target="_blank" rel="noopener">https://stackoverflow.com/questions/26994491/set-useragent-in-wkwebview</a><br><a href="https://cloud.tencent.com/developer/article/1158832" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1158832</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;å‰é˜µå­åšä¸€ä¸ªé˜…è¯»åº”ç”¨ï¼Œéœ€è¦åµŒå…¥H5é¡µé¢ï¼Œè¦è®©ç½‘é¡µæ£€æµ‹åˆ°æ˜¯Appçš„webViewè®¿é—®ã€‚ç½‘é¡µæœ‰ä¸ªloadingæ•°æ®è¿‡ç¨‹ï¼Œè¿™ä¸ªloadingæ•ˆæœæ¯”è¾ƒå¤æ‚ï¼Œäºæ˜¯ä¹ç”±å®¢æˆ·ç«¯å®ç°ï¼Œéœ€è¦ç½‘é¡µå‘Šè¯‰å®¢æˆ·ç«¯ä»€ä¹ˆæ—¶å€™è¯¥å…³æ‰LoadingåŠ¨ç”»é®ç½©å±‚ï¼ˆè¿˜æœ‰ä¸€äº›å…¶ä»–äº¤äº’æ•ˆæœï¼‰ã€‚è¿™å°±æ¶‰åŠåˆ°äº†ç½‘é¡µå’ŒåŸç”Ÿçš„äº¤äº’äº†ã€‚å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯&lt;font color=&quot;a52a2a&quot;&gt;WKWebView&lt;/font&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="OC" scheme="http://www.lydsnm.top/categories/OC/"/>
    
    
  </entry>
  
  <entry>
    <title>Swiftä¸­å¸¸è§çš„`$0` `$1`æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</title>
    <link href="http://www.lydsnm.top/2017/09/08/Swift%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84$0%E4%BD%9C%E7%94%A8/"/>
    <id>http://www.lydsnm.top/2017/09/08/Swiftä¸­å¸¸è§çš„$0ä½œç”¨/</id>
    <published>2017-09-07T16:00:00.000Z</published>
    <updated>2018-11-08T15:36:42.606Z</updated>
    
    <content type="html"><![CDATA[<p><code>$0</code>ï¼Œ<code>$1</code>â€¦ æ˜¯å¯¹é—­åŒ…ä¸­å‚æ•°çš„ç®€åŒ–å†™æ³•</p><p>&emsp;&emsp;swiftè‡ªåŠ¨ä¸º <b><font color="red">é—­åŒ…</font></b> æä¾›å‚æ•°åç¼©å†™åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡<code>$0</code>å’Œ<code>$1</code>ç­‰æ¥è¡¨ç¤ºé—­åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯¹åº”çš„å‚æ•°ç±»å‹ä¼šæ ¹æ®å‡½æ•°ç±»å‹æ¥è¿›è¡Œåˆ¤æ–­ã€‚å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨`$0` `$1`è¿™äº›æ¥ä»£æ›¿</span></span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">7</span>]</span><br><span class="line">        sortNumbers = numbers.sorted(by: &#123; (a, b) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> a &lt; b</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"numbers -"</span> + <span class="string">"\(sortNumbers)"</span>)</span><br><span class="line"><span class="comment">// ä½¿ç”¨$0,$1</span></span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">7</span>]</span><br><span class="line"> <span class="keyword">var</span> sortNumbers = numbers.sorted(by: &#123;$<span class="number">0</span> &lt; $<span class="number">1</span>&#125;)</span><br><span class="line"> <span class="built_in">print</span>(<span class="string">"numbers -"</span> + <span class="string">"\(sortNumbers)"</span>)</span><br></pre></td></tr></table></figure> <a id="more"></a><p>&emsp;&emsp;ä½¿ç”¨<code>$0</code>ã€<code>$1</code>çš„è¯ï¼Œå‚æ•°ç±»å‹å¯ä»¥è‡ªåŠ¨åˆ¤æ–­ï¼Œå¹¶ä¸”<code>in</code>å…³é”®å­—ä¹Ÿå¯ä»¥çœç•¥ï¼Œä¹Ÿå°±æ˜¯åªç”¨å†™å‡½æ•°ä½“å°±å¯ä»¥äº†ã€‚æ¥çœ‹çœ‹å¦å¤–ä¸ªä¾‹å­ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = &#123; (arg1: <span class="type">Int</span>, arg2: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2</span><br><span class="line">&#125;</span><br><span class="line">add = &#123; (arg1, arg2) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2</span><br><span class="line">&#125;</span><br><span class="line">add = &#123; arg1, arg2 <span class="keyword">in</span></span><br><span class="line">    arg1 + arg2</span><br><span class="line">&#125;</span><br><span class="line">add = &#123;</span><br><span class="line">    $<span class="number">0</span> + $<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = add(<span class="number">10</span>, <span class="number">10</span>) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><p>â€”â€“ å®Œ â€”â€“</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;$0&lt;/code&gt;ï¼Œ&lt;code&gt;$1&lt;/code&gt;â€¦ æ˜¯å¯¹é—­åŒ…ä¸­å‚æ•°çš„ç®€åŒ–å†™æ³•&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;swiftè‡ªåŠ¨ä¸º &lt;b&gt;&lt;font color=&quot;red&quot;&gt;é—­åŒ…&lt;/font&gt;&lt;/b&gt; æä¾›å‚æ•°åç¼©å†™åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡&lt;code&gt;$0&lt;/code&gt;å’Œ&lt;code&gt;$1&lt;/code&gt;ç­‰æ¥è¡¨ç¤ºé—­åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯¹åº”çš„å‚æ•°ç±»å‹ä¼šæ ¹æ®å‡½æ•°ç±»å‹æ¥è¿›è¡Œåˆ¤æ–­ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¸ä½¿ç”¨`$0` `$1`è¿™äº›æ¥ä»£æ›¿&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; numbers = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sortNumbers = numbers.sorted(by: &amp;#123; (a, b) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; a &amp;lt; b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;numbers -&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;\(sortNumbers)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨$0,$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; numbers = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sortNumbers = numbers.sorted(by: &amp;#123;$&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;lt; $&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;numbers -&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;\(sortNumbers)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="swift" scheme="http://www.lydsnm.top/categories/swift/"/>
    
    
  </entry>
  
  <entry>
    <title>Slice ä¸€ä¸ªå°è€Œç®€çš„Macè®¡æ—¶è½¯ä»¶.æ‹–å»¶ç—‡ç¥å™¨.å€’è®¡æ—¶å°å·¥å…·</title>
    <link href="http://www.lydsnm.top/2017/05/30/Slice%E4%B8%80%E4%B8%AA%E5%B0%8F%E8%80%8C%E7%B2%BE%E7%AE%80%E7%9A%84Mac%E8%AE%A1%E6%97%B6%E8%BD%AF%E4%BB%B6%EF%BC%8C%E6%8B%96%E5%BB%B6%E7%97%87%E7%A5%9E%E5%99%A8%EF%BC%8C%E5%80%92%E8%AE%A1%E6%97%B6%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
    <id>http://www.lydsnm.top/2017/05/30/Sliceä¸€ä¸ªå°è€Œç²¾ç®€çš„Macè®¡æ—¶è½¯ä»¶ï¼Œæ‹–å»¶ç—‡ç¥å™¨ï¼Œå€’è®¡æ—¶å°å·¥å…·/</id>
    <published>2017-05-29T16:00:00.000Z</published>
    <updated>2018-06-25T14:50:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å¯¹äºå¸¸å¹´å’Œç”µè„‘æ‰“äº¤é“çš„äººç¾¤æ¥è¯´ï¼Œåœ¨å¾ˆå¤šæ—¶å€™, äººå¾€å¾€å˜å¾—æµ®èº, ååœ¨ç”µè„‘æ—ä¸åˆ°å‡ åˆ†é’Ÿå°±åƒæ‰“å¼€ç½‘é¡µçœ‹è§†é¢‘å•Š, æ‰“å¼€æ¸¸æˆ, å¹²äº›ä¸ç›¸å…³çš„ä¸œè¥¿ï¼Œä¸“æ³¨åŠ›ä¸å¤Ÿï¼Œä»è€Œå¯¼è‡´å·¥ä½œæ•ˆç‡ä½ï¼Œå·¥ä½œè´¨é‡ä¸é«˜çš„æ•ˆæœï¼Œè¿›è€Œå½±å“åˆ°æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œå¿ƒæƒ…ç­‰ã€‚<br>        ç°åœ¨ä½ è¯•è¯•è¿™ä¸ªå°å·¥å…·ï¼š<br><img src="http://ocs32tleq.bkt.clouddn.com/14961482427792.jpg" alt=""></p><p>&emsp;&emsp;æœ‰ç ”ç©¶è¡¨æ˜ï¼Œåˆç†çš„è¿ç”¨äººçš„ç²¾åŠ›ï¼Œæ¾ç´§æœ‰å¼›ï¼Œèƒ½å¤Ÿæœ€å¤§é™åº¦çš„å‘æŒ¥äººçš„èƒ½åŠ›ã€‚è‡ªç„¶ç•Œæœ¬èº«æœ‰å®ƒçš„è„‰åŠ¨ï¼Œä¸€ç§åœ¨æ´»åŠ¨å’Œä¼‘æ¯ä¹‹é—´å‘¨æœŸæ€§çš„åƒæ³¢æµªä¸€æ ·çš„è¿åŠ¨ã€‚æƒ³æƒ³æ½®æ¶¨æ½®è½ã€å­£èŠ‚å˜åŒ–ï¼Œä»¥åŠæ¯å¤©çš„æ—¥å‡ºæ—¥è½ã€‚åŒæ ·ï¼Œæ‰€æœ‰çš„æœºä½“éƒ½éµå¾ªä¸€ç§ç»´æŒç”Ÿå‘½çš„æœ‰è§„åˆ™çš„å˜åŒ–ã€‚å°±åƒè¿åŠ¨å‘˜ï¼Œæˆ‘ä»¬å‘ç°é‚£äº›æˆç»©å¥½çš„è¿åŠ¨å‘˜å¾€å¾€æ›´æ‡‚å¾—å¦‚ä½•æ”¾æ¾å’Œè§„åˆ’è‡ªå·±çš„ç²¾åŠ›ï¼Œåœ¨é«˜å¼ºåº¦ï¼Œé•¿æ—¶é—´ï¼Œé«˜å‹åŠ›çš„æ¯”èµ›ä¸­ï¼Œå¾ˆéš¾ä¿æŒé•¿æ—¶é—´çš„é«˜æ°´å‡†ï¼Œå› æ­¤è¿™äº›äººé€šå¸¸ä¼šæŠ“ç´§ä¸€åˆ‡æ—¶é—´å‚¨å­˜ç²¾åŠ›ï¼Œç­‰åˆ°éœ€è¦çš„çˆ†å‘çš„æ—¶å€™ï¼Œé›†ä¸­å…¨éƒ¨çš„æ³¨æ„åŠ›ï¼Œæ›´èƒ½å‘æŒ¥å‡ºå¥½çš„è¿åŠ¨æ°´å¹³ï¼Œå¯¹äºæ™®é€šäººï¼Œè¿™ä¹ŸåŒæ ·é€‚ç”¨ã€‚</p><a id="more"></a><p><img src="http://ocs32tleq.bkt.clouddn.com/%E5%92%96%E5%95%A1.jpg" alt="å’–å•¡"></p><p>&emsp;&emsp;ç°åœ¨é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Sliceè¿™ä¸ªå°å·¥å…·ï¼Œåˆ«çœ‹å®ƒå°ï¼Œä½†æ˜¯ç®€æ´ç®€å•æœ‰æ•ˆï¼Œå¯ä»¥æœ‰æ•ˆæŒ‡å®šå®ŒæˆæŸé¡¹å·¥ä½œè¦èŠ±çš„æ—¶é—´ï¼Œè®©æ‚¨æœ‰ä¸€ç§ç´§è¿«æ„Ÿæ¥åšäº‹ï¼Œè¿›è€Œæé«˜æ³¨æ„åŠ›æé«˜å·¥ä½œæ•ˆç‡ã€‚ä¹Ÿå¯ä»¥ç”¨æ¥æ§åˆ¶å·¥ä½œæ—¶é—´ï¼Œæ¯•ç«Ÿäººçš„ç²¾åŠ›ç²¾ç¥ä¸ä¼šè¿ç»­å¥½å‡ ä¸ªå°æ—¶é«˜åº¦ä¿æŒæ³¨æ„ï¼Œæ‡‚å¾—å¹³è¡¡çš„å¥¥ç§˜ï¼Œç´¯äº†ï¼Œæ¸´äº†ä¸å¦‚å‡ºå»èµ°èµ°ï¼Œå–å–æ°´ï¼Œçœ‹çœ‹è¿œæ–¹ï¼Œè¯´ä¸å®šå·¥ä½œçš„éš¾é¢˜å°±åœ¨è¿™äº›ä¼‘æ¯è¿‡ç¨‹ä¸­æƒ³åˆ°çš„æœ€ä½³çš„è§£å†³æ–¹æ¡ˆlağŸ˜„ã€‚</p><h3 id="ä½¿ç”¨ï¼š"><a href="#ä½¿ç”¨ï¼š" class="headerlink" title="ä½¿ç”¨ï¼š"></a>ä½¿ç”¨ï¼š</h3><p><img src="http://ocs32tleq.bkt.clouddn.com/14961479652001.jpg" alt=""></p><p>å†™å¥½è¦åšçš„äº‹ï¼Œè®¢å¥½ä¸€ä¸ªæ—¶é—´ï¼Œå°±å¯ä»¥å¼€å§‹å•¦ã€‚</p><p>&emsp;&emsp;è¿˜å¯ä»¥åšä¸€äº›å°çš„è®¾ç½®ï¼š<br><img src="http://ocs32tleq.bkt.clouddn.com/14961482832008.jpg" alt=""></p><h3 id="ç‰¹ç‚¹ï¼š"><a href="#ç‰¹ç‚¹ï¼š" class="headerlink" title="ç‰¹ç‚¹ï¼š"></a>ç‰¹ç‚¹ï¼š</h3><ul><li>è‡ªå®šä¹‰ä¸‹ä¸€ä»¶å”¯ä¸€è¦åšçš„äº‹ï¼Œè®©ä½ ä¸“æ³¨äºå·¥ä½œä¸­â€¦</li><li>è‡ªå®šä¹‰æç¤ºæ–‡å­—ä¿¡æ¯ã€‚</li><li>å¯ç®€å•æ§åˆ¶ç»“æŸçš„éŸ³æ•ˆæ’­æ”¾ã€‚</li><li>CPU å ç”¨ç‡è¶…ä½, ä¸ä¼šå½±å“æ‚¨çš„å·¥ä½œã€‚</li></ul><p>&emsp;&emsp;æ€»ä¹‹ï¼Œå¯ä»¥é€šè¿‡Sliceï¼Œå¯ä»¥å¹³å¤çƒ¦èºæ‚ä¹±çš„å¿ƒï¼Œä¸“æ³¨äºå•çº¿ç¨‹ï¼Œæå‡æ•ˆç‡ã€‚</p><p><br></p><font size="6" color="10d3c4">æ‚¨å”¯ä¸€è¦åšçš„äº‹å°±æ˜¯è‡ªå·±è¦éµå®ˆè‡ªå·±å®šçš„è¦åšçš„äº‹</font><h3 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š"></a>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</h3><p>&emsp;&emsp;é’ˆå¯¹æŸäº›ç”¨æˆ·æ‰€è¯´ï¼Œåœ¨10.11ä»¥åç³»ç»Ÿå¯èƒ½å®‰è£…ä¸äº†çš„æƒ…å†µã€‚</p><p>å¯ä»¥åœ¨â€œè®¾ç½®â€ä¸­â€œå®‰å…¨ä¸éšç§â€çš„â€œé€šç”¨â€é€‰é¡¹ä¸‹ï¼Œ è®¾ç½®<b>å…è®¸ä»ä»»ä½•æ¥æºçš„åº”ç”¨</b>ã€‚ç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨Sliceäº†ã€‚<br>å› ä¸ºSliceæ˜¯æœ¬äººåœ¨ä¸šä½™æ—¶é—´å¼€å‘ï¼Œå¹¶æœªä¸Šæ¶App storeï¼Œä¸”OS Xç³»ç»Ÿæœ‰è¿™ä¹ˆä¸€ä¸ªä¿æŠ¤æœºåˆ¶ï¼Œæ•…æœ‰è¿™æ ·ç°è±¡ã€‚</p><p><img src="http://ocs32tleq.bkt.clouddn.com/PastedGraphic-1-systemSettingforMac.png" alt="ç³»ç»Ÿè®¾ç½®"></p><p>&emsp;&emsp;å¦‚æœåœ¨è¿™ä¸ªåœ°æ–¹æ²¡æœ‰â€œä»»ä½•æ¥æºâ€ä¸€é¡¹çš„è¯ï¼Œå°±éœ€è¦æ‰“å¼€ç³»ç»Ÿåº”ç”¨â€œç»ˆç«¯â€ï¼Œè¾“å…¥</p><p><code>sudo spctl --master-disable</code><br>ç„¶åå†è¾“å…¥ä½ çš„ç³»ç»Ÿå¯†ç å›è½¦å³å¯ï¼ˆä¸å±æ˜¾ï¼‰ã€‚</p><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="http://pan.baidu.com/s/1mium0J2" target="_blank" rel="noopener">Slice 1.0</a></p><p><br></p><h3 id="è”ç³»æˆ‘"><a href="#è”ç³»æˆ‘" class="headerlink" title="è”ç³»æˆ‘"></a>è”ç³»æˆ‘</h3><p>&emsp;&emsp;è¿™ä¸ªå°çš„appå¸Œæœ›å¯¹ä½ æœ‰ç”¨ã€‚è™½ç„¶å¾ˆå°ï¼Œè¿˜è¿˜ç®—æœ‰ç”¨ï¼Œå¹³æ—¶æé†’å–å–èŒ¶æˆ–è€…çŸ­æš‚ä¼‘æ¯ä¸‹ã€‚<br>å¦‚æœä½ å¸Œæœ›èƒ½æ›´æ–°æ­¤è½¯ä»¶çš„åŠŸèƒ½ï¼Œæˆ–è€…æœ‰ä»€ä¹ˆå»ºè®®æˆ–è€…æ„è§ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è”ç³»æˆ‘ï¼š<br><a href="mailto:dongingdao@163.com" target="_blank" rel="noopener">dongingdao@163.com</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;å¯¹äºå¸¸å¹´å’Œç”µè„‘æ‰“äº¤é“çš„äººç¾¤æ¥è¯´ï¼Œåœ¨å¾ˆå¤šæ—¶å€™, äººå¾€å¾€å˜å¾—æµ®èº, ååœ¨ç”µè„‘æ—ä¸åˆ°å‡ åˆ†é’Ÿå°±åƒæ‰“å¼€ç½‘é¡µçœ‹è§†é¢‘å•Š, æ‰“å¼€æ¸¸æˆ, å¹²äº›ä¸ç›¸å…³çš„ä¸œè¥¿ï¼Œä¸“æ³¨åŠ›ä¸å¤Ÿï¼Œä»è€Œå¯¼è‡´å·¥ä½œæ•ˆç‡ä½ï¼Œå·¥ä½œè´¨é‡ä¸é«˜çš„æ•ˆæœï¼Œè¿›è€Œå½±å“åˆ°æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œå¿ƒæƒ…ç­‰ã€‚&lt;br&gt;        ç°åœ¨ä½ è¯•è¯•è¿™ä¸ªå°å·¥å…·ï¼š&lt;br&gt;&lt;img src=&quot;http://ocs32tleq.bkt.clouddn.com/14961482427792.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;æœ‰ç ”ç©¶è¡¨æ˜ï¼Œåˆç†çš„è¿ç”¨äººçš„ç²¾åŠ›ï¼Œæ¾ç´§æœ‰å¼›ï¼Œèƒ½å¤Ÿæœ€å¤§é™åº¦çš„å‘æŒ¥äººçš„èƒ½åŠ›ã€‚è‡ªç„¶ç•Œæœ¬èº«æœ‰å®ƒçš„è„‰åŠ¨ï¼Œä¸€ç§åœ¨æ´»åŠ¨å’Œä¼‘æ¯ä¹‹é—´å‘¨æœŸæ€§çš„åƒæ³¢æµªä¸€æ ·çš„è¿åŠ¨ã€‚æƒ³æƒ³æ½®æ¶¨æ½®è½ã€å­£èŠ‚å˜åŒ–ï¼Œä»¥åŠæ¯å¤©çš„æ—¥å‡ºæ—¥è½ã€‚åŒæ ·ï¼Œæ‰€æœ‰çš„æœºä½“éƒ½éµå¾ªä¸€ç§ç»´æŒç”Ÿå‘½çš„æœ‰è§„åˆ™çš„å˜åŒ–ã€‚å°±åƒè¿åŠ¨å‘˜ï¼Œæˆ‘ä»¬å‘ç°é‚£äº›æˆç»©å¥½çš„è¿åŠ¨å‘˜å¾€å¾€æ›´æ‡‚å¾—å¦‚ä½•æ”¾æ¾å’Œè§„åˆ’è‡ªå·±çš„ç²¾åŠ›ï¼Œåœ¨é«˜å¼ºåº¦ï¼Œé•¿æ—¶é—´ï¼Œé«˜å‹åŠ›çš„æ¯”èµ›ä¸­ï¼Œå¾ˆéš¾ä¿æŒé•¿æ—¶é—´çš„é«˜æ°´å‡†ï¼Œå› æ­¤è¿™äº›äººé€šå¸¸ä¼šæŠ“ç´§ä¸€åˆ‡æ—¶é—´å‚¨å­˜ç²¾åŠ›ï¼Œç­‰åˆ°éœ€è¦çš„çˆ†å‘çš„æ—¶å€™ï¼Œé›†ä¸­å…¨éƒ¨çš„æ³¨æ„åŠ›ï¼Œæ›´èƒ½å‘æŒ¥å‡ºå¥½çš„è¿åŠ¨æ°´å¹³ï¼Œå¯¹äºæ™®é€šäººï¼Œè¿™ä¹ŸåŒæ ·é€‚ç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·" scheme="http://www.lydsnm.top/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="tool" scheme="http://www.lydsnm.top/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>iOSå®ç°å®æ—¶é€šä¿¡æˆ–æ¨é€çš„å¸¸ç”¨ç­–ç•¥</title>
    <link href="http://www.lydsnm.top/2017/04/20/iOS%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E6%88%96%E6%8E%A8%E9%80%81%E7%9A%84%E5%B8%B8%E7%94%A8%E7%AD%96%E7%95%A5/"/>
    <id>http://www.lydsnm.top/2017/04/20/iOSå®ç°å®æ—¶é€šä¿¡æˆ–æ¨é€çš„å¸¸ç”¨ç­–ç•¥/</id>
    <published>2017-04-19T16:00:00.000Z</published>
    <updated>2018-03-04T15:42:59.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿"><a href="#1-iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿" class="headerlink" title="1.iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿"></a>1.iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹<a href="http://blog.csdn.net/hherima/article/details/50469519" target="_blank" rel="noopener">è¿™å„¿</a></h3><p>é™åˆ¶ä¸æ³¨æ„ï¼š<br><code>Silent Remote Notifications</code>æ˜¯åœ¨Appleçš„é™åˆ¶ä¸‹æœ‰ä¸€å®šçš„é¢‘ç‡æ§åˆ¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„é™é»˜æ¨é€éƒ½èƒ½æŒ‰é¢„æœŸåˆ°è¾¾å®¢æˆ·ç«¯è§¦å‘å‡½æ•°çš„ã€‚<br>å‰æï¼šå®¢æˆ·ç«¯éœ€å¤„äºBackgroundæˆ–SuspendedçŠ¶æ€ã€‚<br>Apple å®˜æ–¹æ–‡æ¡£è¯´ï¼š<a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CreatingtheNotificationPayload.html" target="_blank" rel="noopener">Configuring a Silent Notification</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Silent notifications are not meant as a way to keep your app awake in the background, nor are they meant for high priority updates. APNs treats silent notifications as low priority and may throttle their delivery altogether if the total number becomes excessive. The actual limits are dynamic and can change based on conditions, but try not to send more than a few notifications per hour.</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·å¦‚æœç¦æ­¢äº†æ¨é€æƒé™ï¼Œè¿˜èƒ½æ”¶åˆ°é™é»˜æ¨é€å—ï¼Ÿè¿™å°†æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚</p><a id="more"></a><h3 id="2-è½®è¯¢"><a href="#2-è½®è¯¢" class="headerlink" title="2.è½®è¯¢"></a>2.è½®è¯¢</h3><p>1.Http polling<br>2.Http Long-polling</p><blockquote><p>Http pollingä¹Ÿå°±æ˜¯è½®è¯¢çš„ç­–ç•¥ï¼Œå®ƒå”¯ä¸€çš„ä¼˜ç‚¹å°±æ˜¯å®ç°ç®€å•ï¼ŒæŠ€æœ¯é—¨æ§›ä½ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šä¸å¤Ÿå®æ—¶ï¼Œä¸”æ•ˆç‡ä½ä¸‹ï¼Œå¯¼è‡´serverç«¯è´Ÿè½½è¾ƒé«˜ã€‚</p></blockquote><blockquote><p>Http Long-pollingï¼ˆé•¿è½®è¯¢ï¼Œä¹Ÿç§°ä½œcometï¼‰æŠ€æœ¯ï¼Œæ˜¯åœ¨Http pollingåŸºç¡€ä¸Šä¼˜åŒ–è€Œæ¥ã€‚åœ¨é•¿è½®è¯¢ç­–ç•¥ä¸‹ï¼Œå½“serverç«¯æ²¡æœ‰æ•°æ®æ¨é€åˆ°clientç«¯æ—¶ï¼Œè¯·æ±‚ä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯è¢«serverç«¯holdä½ï¼Œç›´åˆ°æœ‰æ•°æ®å‘é€ï¼Œæˆ–è€…è¶…æ—¶ï¼Œæ‰å‘é€å“åº”ã€‚Clientç«¯æ”¶åˆ°å“åº”ä¹‹åï¼Œç«‹å³é‡æ–°å‘èµ·httpè¯·æ±‚ã€‚<br>è¿™ç§ç­–ç•¥æ¯”ç®€å•çš„è½®è¯¢ä¼˜åŒ–äº†è®¸å¤šï¼Œä½†å¼€å‘å’Œç»´æŠ¤æˆæœ¬ä¹Ÿæé«˜äº†è®¸å¤šã€‚å¹¶ä¸”ï¼Œæ•ˆç‡è¿˜ä¸å¤Ÿé«˜ï¼Œå­˜åœ¨èµ„æºçš„æµªè´¹ã€‚è€Œè¿™ä¸»è¦æ˜¯å› ä¸ºhttpåè®®å¤´æœ¬èº«å¸¦æ¥çš„overheadã€‚</p></blockquote><h3 id="3-é•¿è¿æ¥"><a href="#3-é•¿è¿æ¥" class="headerlink" title="3.é•¿è¿æ¥"></a>3.é•¿è¿æ¥</h3><blockquote><p>Socketé•¿è¿æ¥æ˜¯ç›®å‰è®¤ä¸ºä¼˜ç‚¹æœ€å¤šçš„è§£å†³æ–¹æ¡ˆã€‚è¿™ä¸€æ–¹æ¡ˆçš„åŸç†æ˜¯clientç«¯å‘serverç«¯å»ºç«‹ä¸€ä¸ªTCPé•¿è¿æ¥ï¼Œé€šè¿‡å¿ƒè·³çš„æœºåˆ¶ç»´æŠ¤è¿æ¥ç•…é€šï¼Œå½“æœ‰æ•°æ®éœ€è¦äº¤äº’æ—¶ï¼ŒåŒæ–¹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªé•¿è¿æ¥è¿›è¡Œé€šä¿¡ã€‚</p></blockquote><blockquote><p>å¤šå¹´å‰è¿™ç§æ–¹æ¡ˆæ— æ³•åº”ç”¨åœ¨æµè§ˆå™¨ç«¯ï¼Œç„¶è€Œéšç€html5çš„å…´èµ·å’Œæµè§ˆå™¨çš„å‘å±•ï¼Œç›®å‰ä¸»æµçš„æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒwebsocketäº†ï¼Œå¯ä»¥å¾ˆå¥½çš„å®ç°é•¿è¿æ¥ã€‚</p></blockquote><blockquote><p>Socketé•¿è¿æ¥æ˜¯æœ€ç†æƒ³çš„æ–¹æ¡ˆï¼Œä½†å¼€å‘æˆæœ¬ä¹Ÿç›¸åº”çš„æœ€é«˜ã€‚æœåŠ¡ç«¯éœ€è¦æ”¯æŒå¤§é‡çš„è¿æ¥æ•°ï¼Œä¸”é•¿è¿æ¥æœ¬èº«çš„ç‰¹æ€§ä¹Ÿå†³å®šäº†æœåŠ¡ä¸å†æ˜¯æ— çŠ¶æ€çš„ï¼Œè¿™ç»™æœåŠ¡çš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§å¸¦æ¥äº†ä¸€å®šçš„æŒ‘æˆ˜ã€‚</p></blockquote><h2 id="è¯„ä¼°ï¼š"><a href="#è¯„ä¼°ï¼š" class="headerlink" title="è¯„ä¼°ï¼š"></a>è¯„ä¼°ï¼š</h2><p>ä»æˆæœ¬æ¥è¯´ï¼Œå®¢æˆ·ç«¯è½®è¯¢è¯·æ±‚ æœåŠ¡å™¨å‹åŠ›æœ€å°ï¼Œä½†æ˜¯ä¸å¤ªæ•æ„Ÿ<br>tcpé•¿è¿æ¥å‘¢ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§äº›ï¼Œä½†æ˜¯æ¶ˆæ¯åŠæ—¶ã€‚</p><p>iOSå¦‚æœè¦ç”¨socketé•¿è¿æ¥çš„è¯ï¼Œå¯ä»¥ç”¨<a href="http://www.cocoachina.com/ios/20160602/16572.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>æåˆ°çš„<a href="https://github.com/robbiehanson/CocoaAsyncSocket" target="_blank" rel="noopener">CocoaAsyncSocket</a></p><p>å¯ä»¥ç”¨<code>CocoaAsyncSocket</code>å…ˆå†™ä¸€ä¸ª<a href="http://www.cnblogs.com/XYQ-208910/p/5169209.html" target="_blank" rel="noopener">Demo</a></p><p>å¦‚æœæƒ³äº†è§£æ›´å¤šCocoaAsyncSocketå¯ä»¥ä»è¿™ç¯‡æ–‡ç« å…¥æ‰‹ï¼š<a href="http://www.cocoachina.com/ios/20170127/18619.html" target="_blank" rel="noopener">iOSå³æ—¶é€šè®¯è¿›é˜¶ - CocoaAsyncSocketæºç è§£æ(Connectç¯‡)</a></p><p>å¤‡é€‰ï¼š<a href="https://github.com/facebook/SocketRocket" target="_blank" rel="noopener">SocketRocket</a></p><hr><p>â€” å¤‡æ³¨åŒºï¼Œä¸ç®—å…¥æ–‡ç« å†…ã€‚</p><ul><li>å…¶ä»–</li></ul><p>&emsp;&emsp;å»ºç«‹tcpè¿æ¥ï¼Œå®šæœŸå‘keep aliveé˜²æ­¢socketè¶…æ—¶æ–­å¼€ã€‚å‘æ¶ˆæ¯ç›´æ¥å‘tcpæ•°æ®åŒ…ã€‚<br>æˆ–è€…ç›´æ¥ç”¨ç¬¬ä¸‰æ–¹çš„push notificationæœåŠ¡ã€‚åŸç†ç±»ä¼¼ï¼Œåªä¸è¿‡å¹³å°ç»Ÿä¸€keep aliveçœç”µã€‚éœ€è¦æ³¨å†Œåœ¨æœåŠ¡æä¾›æ–¹æ³¨å†Œã€‚</p><p>&emsp;&emsp;æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯æ¨é€ï¼Œæ™®éåšæ³•æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ç»´æŒä¸€ä¸ªé•¿è¿æ¥ï¼Œå®¢æˆ·ç«¯å®šæ—¶å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³ä»¥ç»´æŒè¿™ä¸ªé•¿è¿æ¥ã€‚å½“æœ‰æ–°æ¶ˆæ¯è¿‡æ¥çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯æŸ¥å‡ºè¯¥æ¶ˆæ¯å¯¹åº”çš„TCP Channelçš„IDå¹¶æ‰¾åˆ°å¯¹åº”çš„é€šé“è¿›è¡Œæ¶ˆæ¯ä¸‹å‘ã€‚</p><p>&emsp;&emsp;å›½å†…å®‰å“åº”ç”¨ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨GCMï¼Œç»å¤§å¤šæ•°æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£å°±èµ·åå°Serviceå®šæ—¶å”¤é†’ç³»ç»ŸæŸ¥è¯¢ï¼Œä¸€ä¸ªæ˜¯ä¸ºäº†ä¿æŒå¿ƒè·³ï¼Œä¸€ä¸ªæ˜¯ä¸ºäº†æŸ¥è¯¢æ¶ˆæ¯ã€‚è¿™ç§æœºåˆ¶éå¸¸æµªè´¹è¿è¥å•†çš„èµ„æºï¼Œä¹Ÿéå¸¸è´¹ç”µã€‚æ‰€ä»¥ï¼Œå»ºè®®æŠŠæ‰€æœ‰çš„åº”ç”¨è®¾ç½®éƒ½çœ‹æ¸…æ¥šï¼Œå°½é‡é€‰æ‹©éæ¨é€ã€‚å°¤å…¶æ˜¯å¤©æ°”é¢„æŠ¥ï¼Œæ‰‹å·¥æŸ¥ä¸€ä¸‹å°±è¡Œäº†ï¼Œå¦åˆ™ï¼Œé‚£ä¸ªæ‰€è°“çš„å¢¨è¿¹å¤©æ°”ï¼Œ5åˆ†é’ŸæŸ¥ä¸€æ¬¡ï¼Œé¢‘ç‡æ¯”å¾—ä¸Šå¾®ä¿¡äº†ã€‚å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œå¤ªè´¹ç”µäº†ã€‚è¦æ˜¯èµ¶ä¸Šå°åŒºæ‹¥å µçš„æƒ…å†µï¼Œé¢‘ç¹çš„PDPæ¿€æ´»ï¼Œå»ºç«‹RRCè¿æ¥ï¼Œå†é‡Šæ”¾ï¼Œç”µæ± æ¶ˆè€—ç‰¹åˆ«å¤§ã€‚è€Œä¸”è¿˜ä¼šå‘çƒ­ï¼Œç”¨æˆ·ä½“éªŒä¼šå¾ˆç³Ÿç³•ã€‚</p><p>&emsp;&emsp;è¿æ¥éƒ½æ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·çš„ï¼ï¼ˆå› ä¸ºå®¢æˆ·ç«¯é€šå¸¸åœ¨å­ç½‘ä¸‹ï¼Œæ²¡æœ‰å…¬ç½‘IPï¼Œæ ¹æœ¬æ²¡åŠæ³•æ¥å—è¿æ¥ï¼‰æ‰€è°“ã€æ¨é€ã€çš„å®ç°æ–¹å¼æ— å¤–ä¹ä¸¤ç§ï¼šä¸€æ˜¯åŸºäºé•¿è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘èµ·è¿æ¥ï¼ŒåŒæ–¹ç»´æŠ¤è¿™ä¸ªè¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯æœ‰å˜åŠ¨éšæ—¶æ‹¿è¿™ä¸ªè¿æ¥é€šçŸ¥å®¢æˆ·ç«¯ã€‚è¿™å°±æ˜¯æ­£å¸¸æ„ä¹‰ä¸Šçš„ã€æ¨é€ã€ã€‚äºŒæ˜¯åŸºäºçŸ­è¿æ¥ï¼Œå®¢æˆ·ç«¯è½®è¯¢å‘èµ·çŸ­è¿æ¥ï¼Œè¯¢é—®æœåŠ¡å™¨ç«¯å˜åŒ–ã€‚è¿™å®é™…ä¸Šæ˜¯ã€æ‹‰å–ã€ï¼Œå¹¶ä¸æ˜¯ã€æ¨é€ã€ã€‚ç‡ƒé¹…ï¼Œç»´æŠ¤è¿æ¥çš„æˆæœ¬å¤ªå¤§äº†ï¼Œé™¤äº†å³æ—¶æ€§è¦æ±‚è‹›åˆ»çš„åœºæ™¯ä¹‹å¤–ï¼Œå¤§å®¶æ™®éé‡‡ç”¨äº†ç¬¬äºŒç§æ–¹æ³•ã€‚</p><h3 id="iOSä¸­åº”ç”¨å†…éƒ¨å®ç°é•¿è¿æ¥å‘é€æ¥å—æœºåˆ¶ã€‚"><a href="#iOSä¸­åº”ç”¨å†…éƒ¨å®ç°é•¿è¿æ¥å‘é€æ¥å—æœºåˆ¶ã€‚" class="headerlink" title="iOSä¸­åº”ç”¨å†…éƒ¨å®ç°é•¿è¿æ¥å‘é€æ¥å—æœºåˆ¶ã€‚"></a>iOSä¸­åº”ç”¨å†…éƒ¨å®ç°é•¿è¿æ¥å‘é€æ¥å—æœºåˆ¶ã€‚</h3><ol><li>åŸºäºHttpçš„é•¿è¿æ¥ã€‚ï¼ˆç”¨çš„æ¯”è¾ƒå°‘ï¼‰</li><li>åŸºäºSocketçš„é•¿è¿æ¥ã€‚</li><li>åŸºäºxmppçš„æ¶ˆæ¯P2Pæ¶ˆæ¯æœºåˆ¶</li></ol><p>è²Œä¼¼æ™®é€šçš„socketè¿æ¥å¯¹æœåŠ¡å™¨çš„æ¶ˆè€—å¤ªå¤§äº†ã€‚ï¼ˆæ˜¯å¦æœ‰å…¶ä»–åè®®ï¼Œæ¯”è¾ƒæœ‰åçš„æ˜¯MQTTåè®®ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿&quot;&gt;&lt;a href=&quot;#1-iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿&quot; class=&quot;headerlink&quot; title=&quot;1.iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹è¿™å„¿&quot;&gt;&lt;/a&gt;1.iOSé™é»˜æ¨é€ï¼Œä¸å«alertï¼Œæ²¡æœ‰å£°éŸ³æ²¡æœ‰å¼¹æ¡†ï¼Œå…·ä½“æ›´å¤šå¯ä»¥çœ‹&lt;a href=&quot;http://blog.csdn.net/hherima/article/details/50469519&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™å„¿&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;é™åˆ¶ä¸æ³¨æ„ï¼š&lt;br&gt;&lt;code&gt;Silent Remote Notifications&lt;/code&gt;æ˜¯åœ¨Appleçš„é™åˆ¶ä¸‹æœ‰ä¸€å®šçš„é¢‘ç‡æ§åˆ¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„é™é»˜æ¨é€éƒ½èƒ½æŒ‰é¢„æœŸåˆ°è¾¾å®¢æˆ·ç«¯è§¦å‘å‡½æ•°çš„ã€‚&lt;br&gt;å‰æï¼šå®¢æˆ·ç«¯éœ€å¤„äºBackgroundæˆ–SuspendedçŠ¶æ€ã€‚&lt;br&gt;Apple å®˜æ–¹æ–‡æ¡£è¯´ï¼š&lt;a href=&quot;https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CreatingtheNotificationPayload.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Configuring a Silent Notification&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Silent notifications are not meant as a way to keep your app awake in the background, nor are they meant for high priority updates. APNs treats silent notifications as low priority and may throttle their delivery altogether if the total number becomes excessive. The actual limits are dynamic and can change based on conditions, but try not to send more than a few notifications per hour.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨æˆ·å¦‚æœç¦æ­¢äº†æ¨é€æƒé™ï¼Œè¿˜èƒ½æ”¶åˆ°é™é»˜æ¨é€å—ï¼Ÿè¿™å°†æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://www.lydsnm.top/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹UIMenuControllerèœå•è‡ªå®šä¹‰</title>
    <link href="http://www.lydsnm.top/2017/02/06/%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89UIWebView%20%E7%9A%84UIMenuController%E9%80%89%E9%A1%B9/"/>
    <id>http://www.lydsnm.top/2017/02/06/å®ç°è‡ªå®šä¹‰UIWebView çš„UIMenuControlleré€‰é¡¹/</id>
    <published>2017-02-05T16:00:00.000Z</published>
    <updated>2018-03-04T15:42:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;é¡¹ç›®ä¸­é‡åˆ°äº†éœ€è¦å¯¹UIWebViewä¸­å¼¹å‡ºèœå•çš„ä¸€äº›å®šåˆ¶ï¼Œæ‰€ä»¥æŸ¥æ‰¾ä¸€äº›èµ„æ–™ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆçœ‹çœ‹UIMenuControlleré»˜è®¤æ”¯æŒçš„æ–¹æ³•ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)cut:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)<span class="keyword">copy</span>:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)paste:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)select:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)selectAll:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)delete:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">3</span>_2);</span><br><span class="line">- (<span class="keyword">void</span>)makeTextWritingDirectionLeftToRight:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)makeTextWritingDirectionRightToLeft:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)toggleBoldface:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">6</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)toggleItalics:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">6</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)toggleUnderline:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">6</span>_0);</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)increaseSize:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)decreaseSize:(<span class="keyword">nullable</span> <span class="keyword">id</span>)sender <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´å¤šå¸¦_çš„ç§æœ‰æ–¹æ³•å¯ä»¥çœ‹: https://yq.aliyun.com/articles/39475</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>è€Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯<code>cut</code>ï¼Œ<code>copyt</code>ï¼Œ<code>past</code>ï¼Œ<code>selct</code>ç­‰ã€‚å› æ­¤ä¸»è¦æ˜¯å¯¹è¿™å‡ ä¸ªæ–¹æ³•çš„å¤„ç†ã€‚</p><h3 id="å®ç°è‡ªå®šä¹‰èœå•ï¼ˆUITextViewã€UITextFieldï¼‰"><a href="#å®ç°è‡ªå®šä¹‰èœå•ï¼ˆUITextViewã€UITextFieldï¼‰" class="headerlink" title="å®ç°è‡ªå®šä¹‰èœå•ï¼ˆUITextViewã€UITextFieldï¼‰"></a>å®ç°è‡ªå®šä¹‰èœå•ï¼ˆUITextViewã€UITextFieldï¼‰</h3><p>&emsp;&emsp;è¦æƒ³å®ç°è‡ªå®šä¹‰æ˜¾ç¤ºçš„é•¿æŒ‰æ–‡å­—èœå•, subClass UIWebViewController. ç„¶åé‡å†™æ–¹æ³•:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">BOOL</span>)canPerformAction:(SEL)action withSender:(<span class="keyword">id</span>)sender&#123;</span><br><span class="line">    <span class="keyword">if</span> (action == <span class="keyword">@selector</span>(selectAll:) || action == <span class="keyword">@selector</span>(cut:)\</span><br><span class="line">        || action == <span class="keyword">@selector</span>(delete:)\</span><br><span class="line">        || action == <span class="keyword">@selector</span>(toggleUnderline:)\</span><br><span class="line">        || action == <span class="keyword">@selector</span>(toggleBoldface:)\</span><br><span class="line">        || action == <span class="keyword">@selector</span>(toggleItalics:)\</span><br><span class="line">        || action == <span class="built_in">NSSelectorFromString</span>(<span class="string">@"_showTextStyleOptions:"</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [<span class="keyword">super</span> canPerformAction:action withSender:sender];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯ç¼–è¾‘çš„UIWebViewè‡ªå®šä¹‰UIMenuControlleré€‰é¡¹"><a href="#å¯ç¼–è¾‘çš„UIWebViewè‡ªå®šä¹‰UIMenuControlleré€‰é¡¹" class="headerlink" title="å¯ç¼–è¾‘çš„UIWebViewè‡ªå®šä¹‰UIMenuControlleré€‰é¡¹"></a>å¯ç¼–è¾‘çš„UIWebViewè‡ªå®šä¹‰UIMenuControlleré€‰é¡¹</h3><p>&emsp;&emsp;å‰æœŸå°è¯•è¿‡åˆ›å»ºUIWebViewä¹‹ç±», ç„¶åé‡å†™<code>canPerformAction:(SEL)action withSender:(id)sender</code>æ–¹æ³•æ¥æ§åˆ¶æ˜¾ç¤ºå’Œéšè—å“ªäº›èœå•é¡¹, ä½†æ˜¯å‘ç°ä¸è¡Œ(UITextViewç­‰å¯ä»¥)ã€‚æŸ¥çœ‹UIWebViewçš„subViews, å¯ä»¥å‘ç°ä¸€ä¸ªç±»: <font color="a52a2a">UIWebBrowserView</font>which has a text property, from this we know what class we need to subclass.ç„¶è€Œè¿™ä¸ªUIWebBrowserViewåˆæ˜¯ä¸€ä¸ªç§æœ‰ç±»,é€šè¿‡æ­£å¸¸æ–¹å¼åˆè·å–ä¸åˆ°.<br>æ€è·¯æœ‰ä¸¤ä¸ª: ä¸€ä¸ªæ˜¯é€šè¿‡è¿è¡Œæ—¶æ›¿æ¢è¿™ä¸ªclassçš„æ–¹æ³•æˆæˆ‘ä»¬è‡ªå·±çš„æ–¹æ³•ã€‚äºŒæ˜¯é€šè¿‡åˆ›å»º<code>UIWebBrowserView</code>çš„ç±»åˆ«ï¼Œå¹¶ç”¨æˆ‘ä»¬çš„æ–¹æ³•æ›¿æ¢æ‰åŸæ¥çš„æ–¹æ³•(ç§æœ‰API,ä¼ App Storeä¼šè¢«æ‰“å›)ã€‚</p><hr><h4 id="1-é€šè¿‡runtimeæ›¿æ¢æ–¹æ³•"><a href="#1-é€šè¿‡runtimeæ›¿æ¢æ–¹æ³•" class="headerlink" title="1. é€šè¿‡runtimeæ›¿æ¢æ–¹æ³•"></a>1. é€šè¿‡runtimeæ›¿æ¢æ–¹æ³•</h4><p>æ·»åŠ æ–¹æ³•<code>mightPerformAction:withSender:</code></p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)mightPerformAction:(SEL)action withSender:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"******Action!! %@******"</span>,<span class="built_in">NSStringFromSelector</span>(action));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (action == <span class="keyword">@selector</span>(<span class="keyword">copy</span>:))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"Copy Selector"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (action == <span class="keyword">@selector</span>(cut:))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"cut Selector"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (action == <span class="built_in">NSSelectorFromString</span>(<span class="string">@"_define:"</span>))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"define Selector"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (action == <span class="keyword">@selector</span>(paste:))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"paste Selector"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">return</span> [<span class="keyword">super</span> canPerformAction:action withSender:sender];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯æ›¿æ¢æ—§çš„<code>canPerformAction:action withSender:sender</code>æ–¹æ³•</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) replaceUIWebBrowserView: (<span class="built_in">UIView</span> *)view</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Iterate through subviews recursively looking for UIWebBrowserView</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">UIView</span> *sub <span class="keyword">in</span> view.subviews) &#123;</span><br><span class="line">    [<span class="keyword">self</span> replaceUIWebBrowserView:sub];</span><br><span class="line">    <span class="keyword">if</span> ([<span class="built_in">NSStringFromClass</span>([sub <span class="keyword">class</span>]) isEqualToString:<span class="string">@"UIWebBrowserView"</span>]) &#123;</span><br><span class="line"></span><br><span class="line">        Class <span class="keyword">class</span> = sub.class;</span><br><span class="line"></span><br><span class="line">        SEL originalSelector = <span class="keyword">@selector</span>(canPerformAction:withSender:);</span><br><span class="line">        SEL swizzledSelector = <span class="keyword">@selector</span>(mightPerformAction:withSender:);</span><br><span class="line"></span><br><span class="line">        Method originalMethod = class_getInstanceMethod(<span class="keyword">class</span>, originalSelector);</span><br><span class="line">        Method swizzledMethod = class_getInstanceMethod(<span class="keyword">self</span>.class, swizzledSelector);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//add the method mightPerformAction:withSender: to UIWebBrowserView</span></span><br><span class="line">        <span class="built_in">BOOL</span> didAddMethod =</span><br><span class="line">        class_addMethod(<span class="keyword">class</span>,</span><br><span class="line">                        originalSelector,</span><br><span class="line">                        method_getImplementation(swizzledMethod),</span><br><span class="line">                        method_getTypeEncoding(swizzledMethod));</span><br><span class="line">        <span class="comment">//replace canPerformAction:withSender: with mightPerformAction:withSender:</span></span><br><span class="line">        <span class="keyword">if</span> (didAddMethod) &#123;</span><br><span class="line">            class_replaceMethod(<span class="keyword">class</span>,</span><br><span class="line">                                swizzledSelector,</span><br><span class="line">                                method_getImplementation(originalMethod),</span><br><span class="line">                                method_getTypeEncoding(originalMethod));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">            method_exchangeImplementations(originalMethod, swizzledMethod);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ååœ¨ViewControllerçš„viewDidLoadä¸­è°ƒç”¨</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span> replaceUIWebBrowserView:<span class="keyword">self</span>.webView];</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„1: åœ¨viewControllerä¸­æ·»åŠ  #import &lt;objc/runtime.h&gt; é¿å… error(Method).</p></blockquote><blockquote><p>æ³¨æ„2:  ä½¿ç”¨<code>NSSelectorFromString</code>æ–¹æ³•é¿å…å®¡æ ¸è¿‡ç¨‹ä¸­è¢«æ£€æµ‹åˆ°ä½¿ç”¨åˆ°äº†ç§æœ‰API.</p></blockquote><p>å‚è€ƒ: <a href="http://stackoverflow.com/questions/25263687/disable-long-press-menu-in-text-area-input-uiwebview/25263688#25263688" target="_blank" rel="noopener">http://stackoverflow.com/questions/25263687/disable-long-press-menu-in-text-area-input-uiwebview/25263688#25263688</a> </p><h4 id="2-é€šè¿‡æ‰©å±•ç±»åˆ«"><a href="#2-é€šè¿‡æ‰©å±•ç±»åˆ«" class="headerlink" title="2.é€šè¿‡æ‰©å±•ç±»åˆ«"></a>2.é€šè¿‡æ‰©å±•ç±»åˆ«</h4><p>å¦å¤–åœ¨æŸ¥æ‰¾èµ„æ–™çš„è¿‡ç¨‹ä¸­è¿˜å‘ç°ç§æ–¹æ³•(UIWebBrowserView), ä½†æ˜¯è¿™ç§æ–¹æ³•ä½¿ç”¨åˆ°äº†ç§æœ‰api, ä¼šè¢«æ‰“å›. åˆ‡è®°:<br><a href="http://www.ios-blog.co.uk/tutorials/rich-text-editing-highlighting-and-uimenucontroller-part-3/" target="_blank" rel="noopener">http://www.ios-blog.co.uk/tutorials/rich-text-editing-highlighting-and-uimenucontroller-part-3/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;é¡¹ç›®ä¸­é‡åˆ°äº†éœ€è¦å¯¹UIWebViewä¸­å¼¹å‡ºèœå•çš„ä¸€äº›å®šåˆ¶ï¼Œæ‰€ä»¥æŸ¥æ‰¾ä¸€äº›èµ„æ–™ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆçœ‹çœ‹UIMenuControlleré»˜è®¤æ”¯æŒçš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)cut:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)paste:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)select:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)selectAll:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)delete:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;_2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)makeTextWritingDirectionLeftToRight:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)makeTextWritingDirectionRightToLeft:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)toggleBoldface:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)toggleItalics:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)toggleUnderline:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)increaseSize:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)decreaseSize:(&lt;span class=&quot;keyword&quot;&gt;nullable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)sender &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ›´å¤šå¸¦_çš„ç§æœ‰æ–¹æ³•å¯ä»¥çœ‹: https://yq.aliyun.com/articles/39475&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="-runtime -è¿è¡Œæ—¶" scheme="http://www.lydsnm.top/tags/runtime-%E8%BF%90%E8%A1%8C%E6%97%B6/"/>
    
  </entry>
  
  <entry>
    <title>OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹</title>
    <link href="http://www.lydsnm.top/2016/10/20/OC%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%9B%9B/"/>
    <id>http://www.lydsnm.top/2016/10/20/OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹å››/</id>
    <published>2016-10-19T16:00:00.000Z</published>
    <updated>2018-08-30T14:36:56.694Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬7ç« -ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶"><a href="#ç¬¬7ç« -ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶" class="headerlink" title="ç¬¬7ç«  ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶"></a>ç¬¬7ç«  ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶</h2><p>å°†ä¸€ç³»åˆ—ä»£ç å°è£…ä¸ºåŠ¨æ€åº“ (dynamic library) , å¹¶åœ¨å…¶ä¸­æ”¾å…¥æè¿°å…¶å€Ÿå£çš„å¤´æ–‡ä»¶, è¿™æ ·åšå‡ºæ¥çš„ä¸œè¥¿å°±å« <font color="a52a2a">æ¡†æ¶</font> .æœ‰æ—¶ä¸º iOS å¹³å°æ„å»ºçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å®ç”¨çš„æ˜¯é™æ€åº“ (static libaray), è¿™æ˜¯å› ä¸º iOS åº”ç”¨ç¨‹åºä¸å…è®¸åœ¨å…¶ä¸­åŒ…å«åŠ¨æ€åº“.</p><p>å¼€å‘è€…ä¸»è¦ä¼šç¢°åˆ°<code>Foundation</code>, åƒæ˜¯ <code>NSOject</code>, <code>NSArray</code>, <code>NSDictionary</code> ç­‰ç±»éƒ½åœ¨å…¶ä¸­, <code>Foundation</code> æ˜¯åº”ç”¨ç¨‹åºçš„ â€œåŸºç¡€â€.</p><p>è¿˜æœ‰ä¸ªä¸ <code>Foundation</code> ç›¸ä¼´çš„æ¡†æ¶, å«åš <code>CoreFoundation</code> , ä»æŠ€æœ¯ä¸Šæ¥å°†, <code>CoreFoundation</code> æ¡†æ¶ä¸æ˜¯ <code>Objective-C</code> æ¡†æ¶, ä½†å®ƒæ˜¯ç¼–å†™ <code>Objective-C</code> åº”ç”¨ç¨‹åºæ—¶æ‰€åº”ç†Ÿæ‚‰çš„é‡è¦æ¡†æ¶. <code>Foundation</code> æ¡†æ¶ä¸­çš„å¾ˆå¤šåŠŸèƒ½, éƒ½å¯ä»¥åœ¨æ­¤æ¡†æ¶ä¸­æ‰¾åˆ°å¯¹åº”çš„ C è¯­è¨€ API. å¯ä»¥ç”¨â€æ— ç¼æ¡¥æ¥â€(tollfree bridging). å¯ä»¥å§ <code>CoreFoundation</code> ä¸­çš„ C è¯­è¨€æ•°æ®ç»“æ„å¹³æ»‘è½¬æ¢ä¸º <code>Foundation</code>ä¸­çš„ Objective-C å¯¹è±¡.</p><p>é™¤äº†<code>Foundation</code> è¿˜æœ‰ <code>CFNetwork</code> , <code>CoreAudio</code>, <code>AVFoundation</code>, <code>CoreData</code>, <code>CoreText</code> â€¦.</p><a id="more"></a><p><br></p><h3 id="1-æ„å»ºç¼“å­˜æ—¶é€‰ç”¨-NSCache-è€Œé-NSDictionary"><a href="#1-æ„å»ºç¼“å­˜æ—¶é€‰ç”¨-NSCache-è€Œé-NSDictionary" class="headerlink" title="1. æ„å»ºç¼“å­˜æ—¶é€‰ç”¨ NSCache è€Œé NSDictionary"></a>1. æ„å»ºç¼“å­˜æ—¶é€‰ç”¨ <code>NSCache</code> è€Œé <code>NSDictionary</code></h3><p>å› ä¸º <code>NSCache</code> å¯ä»¥æä¾›ä¼˜é›…çš„è‡ªåŠ¨åˆ å‡åŠŸèƒ½, è€Œä¸”æ˜¯ â€œçº¿ç¨‹å®‰å…¨çš„â€. æ­¤å¤–, å®ƒä¸å­—å…¸ä¸åŒ, ä¸ä¼šæ‹·è´é”®.<br>å¯ä»¥ç»™ <code>NSCache</code> å¯¹è±¡è®¾ç½®ä¸Šé™, ç”¨ä»¥é™åˆ¶ç¼“å­˜ä¸­çš„å¯¹è±¡æ€»ä¸ªæ•°åŠâ€æ€»æˆæœ¬â€<br>å°† <code>NSPurgeableData</code> ä¸ <code>NSCache</code> æ­é…ä½¿ç”¨, å¯å®ç°è‡ªåŠ¨æ¸…é™¤æ•°æ®çš„åŠŸèƒ½.</p><h3 id="2-loadView-amp-initialize"><a href="#2-loadView-amp-initialize" class="headerlink" title="2. loadView &amp; initialize"></a>2. <code>loadView</code> &amp; <code>initialize</code></h3><p><code>loadView</code> &amp; <code>initialize</code> ä¸­çš„ä»£ç è¦å°½é‡ç²¾ç®€.è¿™æœ‰åŠ©äºä¿æŒåº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›, ä¹Ÿèƒ½å‡å°‘å¼•å…¥ â€œä¾èµ–ç¯â€ çš„å‡ ç‡.</p><p><code>initialize</code>æ˜¯æƒ°æ€§è°ƒç”¨çš„, åªæœ‰å½“ç¨‹åºç”¨åˆ°äº†ç›¸å…³çš„ç±»æ—¶, æ‰ä¼šè°ƒç”¨. è€Œå¯¹äº<code>loadView</code>æ¥è¯´, åº”ç”¨ç¨‹åºå¿…é¡»é˜»å¡å¹¶ç­‰ç€æ‰€æœ‰ç±»çš„ load éƒ½æ‰§è¡Œä¸‡, æ‰èƒ½ç»§ç»­.</p><p><code>initialize</code>æ–¹æ³• åªåº”è¯¥ç”¨æ¥è®¾ç½®å†…éƒ¨æ•°æ®.</p><ul><li>åœ¨åŠ è½½é˜¶æ®µ, å¦‚æœç±»å®ç°äº† load æ–¹æ³•, é‚£ä¹ˆç³»ç»Ÿå°±ä¼šè°ƒç”¨å®ƒ. åˆ†ç±»é‡Œä¹Ÿå¯ä»¥å®šä¹‰æ­¤æ–¹æ³•, ç±»çš„ load æ–¹æ³•è¦æ¯”åˆ†ç±»ä¸­çš„å…ˆè°ƒç”¨.</li><li>é¦–æ¬¡å®ç”¨æŸä¸ªç±»ä¹‹å‰, ç³»ç»Ÿä¼šå‘å…¶å‘é€ <code>initialize</code> æ¶ˆæ¯. ç”±äºæ­¤æ–¹æ³•éµä»æ™®é€šçš„è¦†å†™è§„åˆ™, æ‰€ä»¥é€šå¸¸åº”è¯¥åœ¨é‡Œé¢åˆ¤æ–­å½“å‰è¦åˆå§‹åŒ–çš„æ˜¯å“ªä¸ªç±».</li><li>æ— æ³•åœ¨ç¼–è¯‘æœŸè®¾å®šçš„å…¨å±€å¸¸é‡, å¯ä»¥æ”¾åœ¨ <code>initialize</code> æ–¹æ³•é‡Œåˆå§‹åŒ–.</li></ul><h3 id="3-NSTimer-ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡"><a href="#3-NSTimer-ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡" class="headerlink" title="3. NSTimer ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡."></a>3. NSTimer ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡.</h3><p>è®°å¾— æ‰‹åŠ¨è°ƒç”¨æˆ– <code>delloc</code> æ–¹æ³•ä¸­è°ƒç”¨</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[_timer invalidate];</span><br><span class="line">_timer = <span class="literal">nil</span>;</span><br></pre></td></tr></table></figure><p>åå¤æ‰§è¡Œä»»åŠ¡çš„è®¡æ—¶å™¨, å¾ˆå®¹æ˜“å¼•å…¥ä¿ç•™ç¯.</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>å¿«é€Ÿéå†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(for ... in ...)</span><br></pre></td></tr></table></figure></p><hr><p><br></p><p>æœ¬ç¯‡æ–‡ç« å‚è€ƒæ‘˜è‡ª <font color="#B8860B">Effective Objective-C 2.0 ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•</font></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç¬¬7ç« -ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶&quot;&gt;&lt;a href=&quot;#ç¬¬7ç« -ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬7ç«  ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶&quot;&gt;&lt;/a&gt;ç¬¬7ç«  ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶&lt;/h2&gt;&lt;p&gt;å°†ä¸€ç³»åˆ—ä»£ç å°è£…ä¸ºåŠ¨æ€åº“ (dynamic library) , å¹¶åœ¨å…¶ä¸­æ”¾å…¥æè¿°å…¶å€Ÿå£çš„å¤´æ–‡ä»¶, è¿™æ ·åšå‡ºæ¥çš„ä¸œè¥¿å°±å« &lt;font color=&quot;a52a2a&quot;&gt;æ¡†æ¶&lt;/font&gt; .æœ‰æ—¶ä¸º iOS å¹³å°æ„å»ºçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å®ç”¨çš„æ˜¯é™æ€åº“ (static libaray), è¿™æ˜¯å› ä¸º iOS åº”ç”¨ç¨‹åºä¸å…è®¸åœ¨å…¶ä¸­åŒ…å«åŠ¨æ€åº“.&lt;/p&gt;
&lt;p&gt;å¼€å‘è€…ä¸»è¦ä¼šç¢°åˆ°&lt;code&gt;Foundation&lt;/code&gt;, åƒæ˜¯ &lt;code&gt;NSOject&lt;/code&gt;, &lt;code&gt;NSArray&lt;/code&gt;, &lt;code&gt;NSDictionary&lt;/code&gt; ç­‰ç±»éƒ½åœ¨å…¶ä¸­, &lt;code&gt;Foundation&lt;/code&gt; æ˜¯åº”ç”¨ç¨‹åºçš„ â€œåŸºç¡€â€.&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸ªä¸ &lt;code&gt;Foundation&lt;/code&gt; ç›¸ä¼´çš„æ¡†æ¶, å«åš &lt;code&gt;CoreFoundation&lt;/code&gt; , ä»æŠ€æœ¯ä¸Šæ¥å°†, &lt;code&gt;CoreFoundation&lt;/code&gt; æ¡†æ¶ä¸æ˜¯ &lt;code&gt;Objective-C&lt;/code&gt; æ¡†æ¶, ä½†å®ƒæ˜¯ç¼–å†™ &lt;code&gt;Objective-C&lt;/code&gt; åº”ç”¨ç¨‹åºæ—¶æ‰€åº”ç†Ÿæ‚‰çš„é‡è¦æ¡†æ¶. &lt;code&gt;Foundation&lt;/code&gt; æ¡†æ¶ä¸­çš„å¾ˆå¤šåŠŸèƒ½, éƒ½å¯ä»¥åœ¨æ­¤æ¡†æ¶ä¸­æ‰¾åˆ°å¯¹åº”çš„ C è¯­è¨€ API. å¯ä»¥ç”¨â€æ— ç¼æ¡¥æ¥â€(tollfree bridging). å¯ä»¥å§ &lt;code&gt;CoreFoundation&lt;/code&gt; ä¸­çš„ C è¯­è¨€æ•°æ®ç»“æ„å¹³æ»‘è½¬æ¢ä¸º &lt;code&gt;Foundation&lt;/code&gt;ä¸­çš„ Objective-C å¯¹è±¡.&lt;/p&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;Foundation&lt;/code&gt; è¿˜æœ‰ &lt;code&gt;CFNetwork&lt;/code&gt; , &lt;code&gt;CoreAudio&lt;/code&gt;, &lt;code&gt;AVFoundation&lt;/code&gt;, &lt;code&gt;CoreData&lt;/code&gt;, &lt;code&gt;CoreText&lt;/code&gt; â€¦.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="OC" scheme="http://www.lydsnm.top/tags/OC/"/>
    
  </entry>
  
  <entry>
    <title>OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹</title>
    <link href="http://www.lydsnm.top/2016/10/19/OC%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%89/"/>
    <id>http://www.lydsnm.top/2016/10/19/OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹ä¸‰/</id>
    <published>2016-10-18T16:00:00.000Z</published>
    <updated>2018-08-30T14:37:42.838Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h2><p>ARC :<code>Automatic Reference Counting,ARC</code>, ARC å‡ ä¹æŠŠæ‰€æœ‰å†…å­˜ç®¡ç†äº‹å®œéƒ½äº¤ç”±ç¼–è¯‘å™¨æ¥å†³å®š, å¼€å‘è€…åªéœ€ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘.</p><h3 id="1-å¼•ç”¨è®¡æ•°"><a href="#1-å¼•ç”¨è®¡æ•°" class="headerlink" title="1. å¼•ç”¨è®¡æ•°"></a>1. å¼•ç”¨è®¡æ•°</h3><p>Objective-C è¯­è¨€å®ç”¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å†…å­˜. æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸ªå¯ä»¥é€’å¢å’Œé€’å‡çš„è®¡æ•°å™¨, ç”¨ä»¥æ ‡è¯†å½“å‰æœ‰å¤šä¸ªäº‹æƒ…æƒ³ä»¤æ­¤å¯¹è±¡ç»§ç»­å­˜æ´»ä¸‹å».<br>è®¡æ•°<font color="#A52A2a">>=0</font>è¡¨ç¤ºå¯¹è±¡ç»§ç»­å­˜æ´». å½“ä¿ç•™è®¡æ•°é™ä¸º<font color="#A52A2a"> 0 </font>å, å¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾äº†.</p><p>ARC åªè´Ÿè´£ç®¡ç† <code>Objective-C</code> å¯¹è±¡çš„å†…å­˜. æ³¨æ„: <font color="#A52A2a">CoreFoundation</font>å¯¹è±¡ä¸å½’ ARC ç®¡ç†, å¼€å‘è€…å¿…é¡»é€‚æ—¶è°ƒç”¨ <font color="#A52A2a">CFRetain/CFRelease</font>.</p><h3 id="2-åœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬"><a href="#2-åœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬" class="headerlink" title="2. åœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬"></a>2. åœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬</h3><p>å¯¹è±¡åœ¨ç»å†å…¶ç”Ÿå‘½å‘¨æœŸå, æœ€ç»ˆä¼šä¸ºç³»ç»Ÿæ‰€å›æ”¶, è¿™æ—¶å°±è¦æ‰§è¡Œ <code>dealloc</code> æ–¹æ³•äº†. åœ¨æ¯ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…, æ­¤æ–¹æ³•ä»…æ‰§è¡Œä»¥æ­¤. ä¹Ÿå°±æ˜¯ä½†ä¿ç•™è®¡æ•°é™ä¸º 0 çš„æ—¶å€™.</p><p>è™½è¯´åº”è¯¥äº <code>dealloc</code> ä¸­é‡Šæ”¾å¼•ç”¨, ä½†æ˜¯å¼€é”€è¾ƒå¤§æˆ–ç³»ç»Ÿå†…ç¨€ç¼ºçš„èµ„æºåˆ™ä¸åœ¨æ­¤åˆ— ,åƒæ˜¯æ–‡ä»¶æè¿°ç¬¦( file descriptor ), å¥—æ¥å­— (socket), å¤§å—å†…å­˜ç­‰éƒ½å±äºè¿™ç§èµ„æº. ä¸èƒ½æŒ‡æœ› <code>dealloc</code> æ–¹æ³•å¿…å®šä¼šåœ¨æŸä¸ªç‰¹å®šçš„æ—¶æœºè°ƒç”¨, å› ä¸ºæœ‰ä¸€äº›æ— æ³•é¢„æ–™çš„ä¸œè¥¿å¯èƒ½ä¹Ÿä¼šæŒæœ‰æ­¤å¯¹è±¡. åœ¨è¿™ç§æƒ…å†µä¸‹, å¦‚æœéè¦ç­‰åˆ°ç³»ç»Ÿè°ƒç”¨ <code>dealloc</code> æ–¹æ³•æ—¶æ‰é‡Šæ”¾, é‚£ä¹ˆä¿ç•™è¿™äº›ç¨€ç¼ºèµ„æºçš„æ—¶é—´å°±å¤ªé•¿äº†, è¿™ä¹ˆåšä¸åˆé€‚. é€šå¸¸çš„åšæ³•æ—¶, å®ç°å¦å¤–ä¸€ä¸ªæ–¹æ³•, ä½†åº”ç”¨ç¨‹åºç”¨å®Œèµ„æºå¯¹è±¡å, å°±è°ƒç”¨æ­¤æ–¹æ³• (ä¾‹å¦‚ <font color="#A52A2a">Open</font> å¯¹åº” <font color="#A52A2a">Close</font> æ–¹æ³•) . è¿™æ ·ä¸€æ¥, èµ„æºå¯¹è±¡çš„ç”Ÿå‘½æœŸå°±å˜å¾—æ›´æ˜ç¡®äº†.</p><a id="more"></a><h3 id="3-ä»¥-â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€-é™ä½å†…å­˜å³°å€¼"><a href="#3-ä»¥-â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€-é™ä½å†…å­˜å³°å€¼" class="headerlink" title="3. ä»¥ â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€ é™ä½å†…å­˜å³°å€¼"></a>3. ä»¥ â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€ é™ä½å†…å­˜å³°å€¼</h3><p>åœ¨ Objective-C çš„å¼•ç”¨è®¡æ•°æ¶æ„ä¸­, æœ‰ä¸€é¡¹ç‰¹æ€§å«åš â€œ<font color="#A52A2a">è‡ªåŠ¨é‡Šæ”¾æ± </font>â€œ (autorelease pool). é‡Šæ”¾å¯¹è±¡æœ‰ä¸¤ç§æ–¹å¼: ä¸€ç§æ—¶è°ƒç”¨ <code>release</code> æ–¹æ³•, å¦ä¸€ç§æ—¶è°ƒç”¨ <code>autorelease</code> æ–¹æ³•, å°†å…¶é™å…¥ â€œè‡ªåŠ¨é‡Šæ”¾æ± â€ ä¸­. è‡ªåŠ¨é‡Šæ”¾æ± ç”¨äºå­˜æ”¾é‚£äº›éœ€è¦åœ¨ç¨åæŸä¸ªæ—¶åˆ»é‡Šæ”¾çš„å¯¹è±¡. æ¸…ç©º(drain)è‡ªåŠ¨é‡Šæ”¾æ± æ—¶, ç³»ç»Ÿä¼šå‘å…¶ä¸­çš„å¯¹è±¡å‘é€ <code>release</code> æ¶ˆæ¯.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@autoreleasepool</span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++)&#123;</span><br><span class="line">[<span class="keyword">self</span> doSomethingWithInt:i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <font color="#A52A2a">è‡ªåŠ¨é‡Šæ”¾æ± </font> æ¥é™ä½åº”ç”¨ç¨‹åºçš„ <font color="#A52A2a">å³°å€¼å†…å­˜</font>.</p><p><br></p><hr><h2 id="blockä¸GCD"><a href="#blockä¸GCD" class="headerlink" title="blockä¸GCD"></a>blockä¸GCD</h2><p>GCD æ˜¯ä¸€ç§ä¸å—æœ‰å…³çš„è®¡æ•°, å®ƒæä¾›äº†å¯¹çº¿ç¨‹çš„æŠ½è±¡, è€Œè¿™ç§æŠ½è±¡åˆ™æœºé‡ â€œæ´¾å‘é˜Ÿåˆ—â€(<code>dispatch queue</code>). å¼€å‘è€…å¯å°†å—æ’å…¥é˜Ÿåˆ—ä¸­, ç”± GCD è´Ÿè´£å¤„ç†æ‰€æœ‰è°ƒåº¦äº‹å®œ.</p><h3 id="1-block"><a href="#1-block" class="headerlink" title="1. block"></a>1. block</h3><p>æ¯ä¸ª Objective-C å¯¹è±¡éƒ½å æ®ç€æŸä¸ªå†…å­˜åŒºåŸŸ. å› ä¸ºå®ä¾‹å˜é‡çš„ä¸ªæ•°åŠå¯¹è±¡æ‰€åŒ…å«çš„å…³è”æ•°æ®ä¸åŒ, æ‰€ä»¥æ¯ä¸ªå¯¹è±¡æ‰€å çš„å†…å­˜åŒºåŸŸä¹Ÿæœ‰å¤§æœ‰å°. å—å¯¹è±¡ä¹Ÿæ˜¯å¯¹è±¡, åœ¨å­˜æ”¾å—å¯¹è±¡çš„å†…å­˜åŒºåŸŸä¸­, é¦–ä¸ªå˜é‡æ—¶æŒ‡å‘ Class å¯¹è±¡çš„æŒ‡é’ˆ, è¯¥æŒ‡é’ˆå«åš <font color="A52A2A">isa</font> .å…¶ä½™å†…å­˜é‡Œå«æœ‰å—å¯¹è±¡æ­£å¸¸è¿è½¬æ‰€éœ€çš„å„ç§ä¿¡æ¯.</p><p><img src="http://ocs32tleq.bkt.clouddn.com/blockMemory.png" alt="å—å¯¹è±¡çš„å†…å­˜å¸ƒå±€"></p><p>åœ¨å†…å­˜å¸ƒå±€ä¸­, æœ€é‡è¦çš„æ—¶ <font color="a52a2a">invoke</font> å˜é‡, è¿™æ˜¯ä¸ªå‡½æ•°æŒ‡é’ˆ, æŒ‡å‘å—çš„å®ç°ä»£ç . å—å…¶å®å°±æ˜¯ä¸€ç§ä»£æ›¿å‡½æ•°æŒ‡é’ˆçš„è¯­æ³•ç»“æ„.</p><p>å®šä¹‰å—çš„æ—¶å€™, å…¶æ‰€å çš„å†…å­˜æ˜¯åˆ†é…åœ¨ <font color="a52a2a">æ ˆ </font>ä¸­çš„. å—åªåœ¨å®šä¹‰å®ƒçš„é‚£ä¸ªèŒƒå›´æœ‰æ•ˆ. ç¼–è¯‘å™¨æœ‰å¯èƒ½æŠŠåˆ†é…ç»™å—çš„å†…å­˜è¦†å†™æ‰. ç»™ block å¯¹è±¡å‘é€ copy æ¶ˆæ¯æ‹·è´, å°±æ‹·è´åˆ°å †ä¸Š, å—å°±æˆäº†å¸¦å¼•ç”¨è®¡æ•°çš„å¯¹è±¡äº†.åç»­çš„å¤åˆ¶æ“ä½œéƒ½ä¸ä¼šçœŸçš„æ‰§è¡Œå¤åˆ¶, åªæ˜¯å¢åŠ å¯¹è±¡çš„å¼•ç”¨è®¡æ•°.</p><h3 id="2-GCD"><a href="#2-GCD" class="headerlink" title="2. GCD"></a>2. GCD</h3><p>å°‘ç”¨ <code>performSelector</code> ç³»åˆ—æ–¹æ³•, ç”¨ GCD ç›¸å…³æ–¹æ³•æ¥å®ç°.</p><ul><li>é€šè¿‡ <code>Dispatch Group</code> æœºåˆ¶, æ ¹æ®ç³»ç»Ÿèµ„æºçŠ¶å†µæ¥æ‰§è¡Œä»»åŠ¡.ä¸€ç³»åˆ—ä»»åŠ¡å¯å…³äºä¸€ä¸ª <code>dispatch group</code> ä¸­. å¼€å‘è€…å¯ä»¥å†è¿™ç»„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ—¶è·å¾—é€šçŸ¥.</li></ul><p>ä½¿ç”¨ä¸‹é¢è¿™ä¸ªå‡½æ•°å¯ä»¥åˆ›å»º <code>dispatch group</code>:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch_group_tdispatch_group_create();</span><br></pre></td></tr></table></figure><p>å¦å¤–å¯é€‰ ä½¿ç”¨ <code>dispatch_apply</code> æ–¹æ³•, æ­¤å‡½æ•°ä¼šå°†å—ä»¿ä½›æ‰§è¡Œä¸€å®šçš„æ¬¡æ•°, æ¯æ¬¡ä¼ ç»™å—çš„å‚æ•°å€¼éƒ½ä¼šé€’å¢..</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIRITY_DEFAULT, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">dispatch_apply(array.count, queue, ^(size_t i)&#123;</span><br><span class="line"><span class="keyword">id</span> object = array[i];</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶è€Œ, <code>dispatch_apply</code> ä¼šæŒç»­é˜»å¡é˜Ÿåˆ—, ç›´åˆ°æ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ä¸ºæ­¢. è‹¥æƒ³åˆ°åå°æ‰§è¡Œä»»åŠ¡, åˆ™åº”ä½¿ç”¨ <code>dispatch group</code></p><p>æ›´å¤šå†…å®¹è¯·çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡ : <a href="http://www.donglyu.com/2016/02/08/GCDå¤„ç†å¤šä¸ªå¼‚æ­¥å¤„ç†çš„åŒæ­¥æ–¹æ³•/" target="_blank" rel="noopener">GCD å¤šä»»åŠ¡</a></p><ul><li>ä½¿ç”¨ <code>dispatch_once</code> æ¥æ‰§è¡Œåªéœ€è¿è¡Œä»¥æ­¤çš„çº¿ç¨‹å®‰å…¨ä»£ç .<br>å•ä¾‹æ¨¡å¼ä¸­ä½¿ç”¨çš„å¤š.</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">id</span>)sharedInstance&#123;</span><br><span class="line"><span class="keyword">static</span> EOCClass *sharedInstance = <span class="literal">nil</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line"><span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line">shareInstance = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> sharedInstance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><ul><li>è°ƒè¯•å†…å­˜ç®¡ç†é—®é¢˜æ—¶, å¯ä»¥å°† <font color="#A52A2a">NSZombieEnabled</font> ç¯å¢ƒå˜é‡è®¾ä¸º YES . ç»™åƒµå°¸å¯¹è±¡(åº”è¯¥æ˜¯æ˜¯å¦çš„å¯¹è±¡, ä¸åº”å†è¢«è°ƒç”¨) å‘é€æ¶ˆæ¯, æ§åˆ¶å°ä¼šæ‰“å°æ¶ˆæ¯, åº”ç”¨ç¨‹åºä¼šç»ˆæ­¢.</li></ul><hr><p><br></p><p>æœ¬ç¯‡æ–‡ç« å‚è€ƒæ‘˜è‡ª <font color="#B8860B">Effective Objective-C 2.0 ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•</font></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å†…å­˜ç®¡ç†&quot;&gt;&lt;a href=&quot;#å†…å­˜ç®¡ç†&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜ç®¡ç†&quot;&gt;&lt;/a&gt;å†…å­˜ç®¡ç†&lt;/h2&gt;&lt;p&gt;ARC :&lt;code&gt;Automatic Reference Counting,ARC&lt;/code&gt;, ARC å‡ ä¹æŠŠæ‰€æœ‰å†…å­˜ç®¡ç†äº‹å®œéƒ½äº¤ç”±ç¼–è¯‘å™¨æ¥å†³å®š, å¼€å‘è€…åªéœ€ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘.&lt;/p&gt;
&lt;h3 id=&quot;1-å¼•ç”¨è®¡æ•°&quot;&gt;&lt;a href=&quot;#1-å¼•ç”¨è®¡æ•°&quot; class=&quot;headerlink&quot; title=&quot;1. å¼•ç”¨è®¡æ•°&quot;&gt;&lt;/a&gt;1. å¼•ç”¨è®¡æ•°&lt;/h3&gt;&lt;p&gt;Objective-C è¯­è¨€å®ç”¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å†…å­˜. æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸ªå¯ä»¥é€’å¢å’Œé€’å‡çš„è®¡æ•°å™¨, ç”¨ä»¥æ ‡è¯†å½“å‰æœ‰å¤šä¸ªäº‹æƒ…æƒ³ä»¤æ­¤å¯¹è±¡ç»§ç»­å­˜æ´»ä¸‹å».&lt;br&gt;è®¡æ•°&lt;font color=&quot;#A52A2a&quot;&gt;&gt;=0&lt;/font&gt;è¡¨ç¤ºå¯¹è±¡ç»§ç»­å­˜æ´». å½“ä¿ç•™è®¡æ•°é™ä¸º&lt;font color=&quot;#A52A2a&quot;&gt; 0 &lt;/font&gt;å, å¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾äº†.&lt;/p&gt;
&lt;p&gt;ARC åªè´Ÿè´£ç®¡ç† &lt;code&gt;Objective-C&lt;/code&gt; å¯¹è±¡çš„å†…å­˜. æ³¨æ„: &lt;font color=&quot;#A52A2a&quot;&gt;CoreFoundation&lt;/font&gt;å¯¹è±¡ä¸å½’ ARC ç®¡ç†, å¼€å‘è€…å¿…é¡»é€‚æ—¶è°ƒç”¨ &lt;font color=&quot;#A52A2a&quot;&gt;CFRetain/CFRelease&lt;/font&gt;.&lt;/p&gt;
&lt;h3 id=&quot;2-åœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬&quot;&gt;&lt;a href=&quot;#2-åœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬&quot; class=&quot;headerlink&quot; title=&quot;2. åœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬&quot;&gt;&lt;/a&gt;2. åœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬&lt;/h3&gt;&lt;p&gt;å¯¹è±¡åœ¨ç»å†å…¶ç”Ÿå‘½å‘¨æœŸå, æœ€ç»ˆä¼šä¸ºç³»ç»Ÿæ‰€å›æ”¶, è¿™æ—¶å°±è¦æ‰§è¡Œ &lt;code&gt;dealloc&lt;/code&gt; æ–¹æ³•äº†. åœ¨æ¯ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…, æ­¤æ–¹æ³•ä»…æ‰§è¡Œä»¥æ­¤. ä¹Ÿå°±æ˜¯ä½†ä¿ç•™è®¡æ•°é™ä¸º 0 çš„æ—¶å€™.&lt;/p&gt;
&lt;p&gt;è™½è¯´åº”è¯¥äº &lt;code&gt;dealloc&lt;/code&gt; ä¸­é‡Šæ”¾å¼•ç”¨, ä½†æ˜¯å¼€é”€è¾ƒå¤§æˆ–ç³»ç»Ÿå†…ç¨€ç¼ºçš„èµ„æºåˆ™ä¸åœ¨æ­¤åˆ— ,åƒæ˜¯æ–‡ä»¶æè¿°ç¬¦( file descriptor ), å¥—æ¥å­— (socket), å¤§å—å†…å­˜ç­‰éƒ½å±äºè¿™ç§èµ„æº. ä¸èƒ½æŒ‡æœ› &lt;code&gt;dealloc&lt;/code&gt; æ–¹æ³•å¿…å®šä¼šåœ¨æŸä¸ªç‰¹å®šçš„æ—¶æœºè°ƒç”¨, å› ä¸ºæœ‰ä¸€äº›æ— æ³•é¢„æ–™çš„ä¸œè¥¿å¯èƒ½ä¹Ÿä¼šæŒæœ‰æ­¤å¯¹è±¡. åœ¨è¿™ç§æƒ…å†µä¸‹, å¦‚æœéè¦ç­‰åˆ°ç³»ç»Ÿè°ƒç”¨ &lt;code&gt;dealloc&lt;/code&gt; æ–¹æ³•æ—¶æ‰é‡Šæ”¾, é‚£ä¹ˆä¿ç•™è¿™äº›ç¨€ç¼ºèµ„æºçš„æ—¶é—´å°±å¤ªé•¿äº†, è¿™ä¹ˆåšä¸åˆé€‚. é€šå¸¸çš„åšæ³•æ—¶, å®ç°å¦å¤–ä¸€ä¸ªæ–¹æ³•, ä½†åº”ç”¨ç¨‹åºç”¨å®Œèµ„æºå¯¹è±¡å, å°±è°ƒç”¨æ­¤æ–¹æ³• (ä¾‹å¦‚ &lt;font color=&quot;#A52A2a&quot;&gt;Open&lt;/font&gt; å¯¹åº” &lt;font color=&quot;#A52A2a&quot;&gt;Close&lt;/font&gt; æ–¹æ³•) . è¿™æ ·ä¸€æ¥, èµ„æºå¯¹è±¡çš„ç”Ÿå‘½æœŸå°±å˜å¾—æ›´æ˜ç¡®äº†.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="OC" scheme="http://www.lydsnm.top/tags/OC/"/>
    
  </entry>
  
  <entry>
    <title>æœ¬åœ°æ¨é€ä¹‹å®šæ—¶æ¨é€</title>
    <link href="http://www.lydsnm.top/2016/10/18/%E6%9C%AC%E5%9C%B0%E6%8E%A8%E9%80%81%E4%B9%8B%E5%AE%9A%E6%97%B6%E6%8E%A8%E9%80%81/"/>
    <id>http://www.lydsnm.top/2016/10/18/æœ¬åœ°æ¨é€ä¹‹å®šæ—¶æ¨é€/</id>
    <published>2016-10-17T16:00:00.000Z</published>
    <updated>2018-03-04T05:52:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†å®šæ—¶æé†’æ¨é€, æ•…æ•´ç†è®°å½•ä¸‹æ¥.</p><h2 id="iOS10-ä¹‹å‰-ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼"><a href="#iOS10-ä¹‹å‰-ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼" class="headerlink" title="iOS10 ä¹‹å‰, ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼:"></a>iOS10 ä¹‹å‰, ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼:</h2><h3 id="1-åœ¨-AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥-å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´"><a href="#1-åœ¨-AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥-å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´" class="headerlink" title="1. åœ¨ AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥, å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´"></a>1. åœ¨ <code>AppDelegate</code>ä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥, å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIMutableUserNotificationCategory</span> *categorys = [[<span class="built_in">UIMutableUserNotificationCategory</span> alloc] init];</span><br><span class="line"><span class="built_in">UIUserNotificationSettings</span> *userSettings = [<span class="built_in">UIUserNotificationSettings</span> settingsForTypes:<span class="built_in">UIUserNotificationTypeBadge</span>|<span class="built_in">UIUserNotificationTypeSound</span>|<span class="built_in">UIUserNotificationTypeAlert</span></span><br><span class="line">                                                                                    categories:[<span class="built_in">NSSet</span> setWithObject:categorys]];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] registerUserNotificationSettings:userSettings];</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] registerForRemoteNotifications];</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2-æ³¨å†Œæœ¬åœ°æ¨é€-åœ¨å›ºå®šæ—¶é—´æ¨é€é€šçŸ¥"><a href="#2-æ³¨å†Œæœ¬åœ°æ¨é€-åœ¨å›ºå®šæ—¶é—´æ¨é€é€šçŸ¥" class="headerlink" title="2. æ³¨å†Œæœ¬åœ°æ¨é€,åœ¨å›ºå®šæ—¶é—´æ¨é€é€šçŸ¥"></a>2. æ³¨å†Œæœ¬åœ°æ¨é€,åœ¨å›ºå®šæ—¶é—´æ¨é€é€šçŸ¥</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)RegisterLocalNotificationiOS10Before:(<span class="built_in">NSDate</span> *)time&#123;</span><br><span class="line">    <span class="built_in">UILocalNotification</span> *notification = [[<span class="built_in">UILocalNotification</span> alloc] init];</span><br><span class="line">    <span class="comment">// è®¾ç½®è§¦å‘é€šçŸ¥çš„æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    NSDate *fireDate = [NSDate dateWithTimeIntervalSinceNow:10];</span></span><br><span class="line">    notification.fireDate = time; <span class="comment">// fireDate</span></span><br><span class="line">    <span class="comment">// æ—¶åŒº</span></span><br><span class="line">    notification.timeZone = [<span class="built_in">NSTimeZone</span> defaultTimeZone];</span><br><span class="line">    <span class="comment">// è®¾ç½®é‡å¤çš„é—´éš”</span></span><br><span class="line">    notification.repeatInterval = kCFCalendarUnitDay; <span class="comment">// æ¯å¤©æé†’.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šçŸ¥å†…å®¹</span></span><br><span class="line">    notification.alertTitle = <span class="string">@"æ—¶å…‰åŒ†åŒ†ï¼Œæˆ‘åªåœ¨ä¹ä½ "</span>;</span><br><span class="line">    notification.alertBody = <span class="string">@"ä»Šå¤©æœ‰ä»€ä¹ˆæƒ³è¦è®°å½•å’Œåˆ†äº«å—ï¼Ÿ"</span>; </span><br><span class="line">    notification.applicationIconBadgeNumber = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// é€šçŸ¥è¢«è§¦å‘æ—¶æ’­æ”¾çš„å£°éŸ³</span></span><br><span class="line">    notification.soundName = <span class="built_in">UILocalNotificationDefaultSoundName</span>;</span><br><span class="line">    <span class="comment">// é€šçŸ¥å‚æ•°</span></span><br><span class="line">    <span class="built_in">NSDictionary</span> *userDict = [<span class="built_in">NSDictionary</span> dictionaryWithObject:LPVMNoticeEveryDayKey forKey:LPVMNoticeEveryDayKey];</span><br><span class="line">    notification.userInfo = userDict;</span><br><span class="line">    </span><br><span class="line">    notification.repeatInterval = <span class="built_in">NSCalendarUnitDay</span>;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œé€šçŸ¥æ³¨å†Œ</span></span><br><span class="line">    [[<span class="built_in">UIApplication</span> sharedApplication] scheduleLocalNotification:notification];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å–æ¶ˆæœ¬åœ°æ¨é€"><a href="#3-å–æ¶ˆæœ¬åœ°æ¨é€" class="headerlink" title="3. å–æ¶ˆæœ¬åœ°æ¨é€"></a>3. å–æ¶ˆæœ¬åœ°æ¨é€</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)CancelLocalNotificationWithKey:(<span class="built_in">NSString</span> *)key &#123;</span><br><span class="line">    <span class="comment">// è·å–æ‰€æœ‰æœ¬åœ°é€šçŸ¥æ•°ç»„</span></span><br><span class="line">    <span class="built_in">NSArray</span> *localNotifications = [<span class="built_in">UIApplication</span> sharedApplication].scheduledLocalNotifications;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">UILocalNotification</span> *notification <span class="keyword">in</span> localNotifications) &#123;</span><br><span class="line">        <span class="built_in">NSDictionary</span> *userInfo = notification.userInfo;        </span><br><span class="line">        <span class="keyword">if</span> (userInfo) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®è®¾ç½®é€šçŸ¥å‚æ•°æ—¶æŒ‡å®šçš„keyæ¥è·å–é€šçŸ¥å‚æ•°</span></span><br><span class="line">            <span class="built_in">NSString</span> *info = userInfo[key];</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¦‚æœæ‰¾åˆ°éœ€è¦å–æ¶ˆçš„é€šçŸ¥ï¼Œåˆ™å–æ¶ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (info != <span class="literal">nil</span>) &#123;</span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] cancelLocalNotification:notification];</span><br><span class="line">                DLog(<span class="string">@"ç§»é™¤ä¸€æ¡æ³¨å†Œäº†çš„æœ¬åœ°æ¨é€"</span>);   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><br></p><h2 id="iOS-10åæœ¬åœ°å®šæ—¶æ¨é€"><a href="#iOS-10åæœ¬åœ°å®šæ—¶æ¨é€" class="headerlink" title="iOS 10åæœ¬åœ°å®šæ—¶æ¨é€"></a>iOS 10åæœ¬åœ°å®šæ—¶æ¨é€</h2><h3 id="1-æ³¨å†Œæ¨é€"><a href="#1-æ³¨å†Œæ¨é€" class="headerlink" title="1. æ³¨å†Œæ¨é€"></a>1. æ³¨å†Œæ¨é€</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)RegisterLocalNotificationiOS10Later:(<span class="built_in">NSDate</span> *)time&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ UNUserNotificationCenter æ¥ç®¡ç†é€šçŸ¥</span></span><br><span class="line">    UNUserNotificationCenter* center = [UNUserNotificationCenter currentNotificationCenter];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//éœ€åˆ›å»ºä¸€ä¸ªåŒ…å«å¾…é€šçŸ¥å†…å®¹çš„ UNMutableNotificationContent å¯¹è±¡ï¼Œæ³¨æ„ä¸æ˜¯ UNNotificationContent ,æ­¤å¯¹è±¡ä¸ºä¸å¯å˜å¯¹è±¡ã€‚</span></span><br><span class="line">    UNMutableNotificationContent* content = [[UNMutableNotificationContent alloc] init];</span><br><span class="line">    content.title = [<span class="built_in">NSString</span> localizedUserNotificationStringForKey:<span class="string">@"æ—¶å…‰åŒ†åŒ†ï¼Œæˆ‘åªåœ¨ä¹ä½ "</span> arguments:<span class="literal">nil</span>];</span><br><span class="line">    content.body = [<span class="built_in">NSString</span> localizedUserNotificationStringForKey:<span class="string">@"ä»Šå¤©æœ‰ä»€ä¹ˆæƒ³è¦è®°å½•å’Œåˆ†äº«å—ï¼Ÿ"</span> arguments:<span class="literal">nil</span>];</span><br><span class="line">    content.sound = [UNNotificationSound defaultSound];</span><br><span class="line">    content.userInfo = [<span class="built_in">NSDictionary</span> dictionaryWithObject:LPVMNoticeEveryDayKey forKey:LPVMNoticeEveryDayKey];</span><br><span class="line">    <span class="comment">// 1.åœ¨ä¸€æ®µæ—¶é—´åæ¨é€æœ¬åœ°æ¨é€</span></span><br><span class="line"><span class="comment">//UNTimeIntervalNotificationTrigger* trigger = [UNTimeIntervalNotificationTrigger triggerWithTimeInterval:10 repeats:NO];</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSDateComponents</span> *components = [[<span class="built_in">NSDateComponents</span> alloc] init];</span><br><span class="line">    <span class="built_in">NSCalendar</span> *cal = [<span class="built_in">NSCalendar</span> currentCalendar];</span><br><span class="line">    <span class="built_in">NSInteger</span> unitFlags = <span class="built_in">NSCalendarUnitHour</span> | <span class="built_in">NSCalendarUnitMinute</span>;<span class="comment">//NSYearCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit;</span></span><br><span class="line">    <span class="built_in">NSDateComponents</span> *dd = [cal components:unitFlags fromDate:time];</span><br><span class="line"></span><br><span class="line">    components.hour = [dd hour];</span><br><span class="line">    components.minute = [dd minute]; <span class="comment">// ä¾‹å¦‚æ¯æ—¥21:00æ—¶æ¨é€</span></span><br><span class="line">    <span class="comment">// 2. æŒ‡å®šæ—¥æœŸè§¦å‘</span></span><br><span class="line">    UNCalendarNotificationTrigger *trigger = [UNCalendarNotificationTrigger triggerWithDateMatchingComponents:components repeats:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. æ ¹æ®ä½ç½®è§¦å‘</span></span><br><span class="line"><span class="comment">//CLLocationCoordinate2D cen = CLLocationCoordinate2DMake(39.990465,116.333386);</span></span><br><span class="line"><span class="comment">//CLRegion *region = [[CLCircularRegion alloc] initWithCenter:cen radius:100 identifier:@"center"];</span></span><br><span class="line"><span class="comment">//region.notifyOnEntry = YES;</span></span><br><span class="line"><span class="comment">//region.notifyOnExit = NO;</span></span><br><span class="line"><span class="comment">//UNLocationNotificationTrigger *trigger = [UNLocationNotificationTrigger triggerWithRegion:region repeats:YES];</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UNNotificationRequest* request = [UNNotificationRequest requestWithIdentifier:LPVMNoticeEveryDayKey</span><br><span class="line">                                                                          content:content trigger:trigger];</span><br><span class="line">    <span class="comment">//æ·»åŠ æ¨é€æˆåŠŸåçš„å¤„ç†ï¼</span></span><br><span class="line">    [center addNotificationRequest:request withCompletionHandler:^(<span class="built_in">NSError</span> * _Nullable error) &#123;</span><br><span class="line">        <span class="keyword">if</span> (error) &#123;</span><br><span class="line">            DLog(<span class="string">@"iOS10Later addNotification Error: %@"</span>, error);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜:<br>æœ‰4ç§è§¦å‘å™¨</p><p><code>UNPushNotificationTrigger</code> è§¦å‘APNSæœåŠ¡ï¼Œç³»ç»Ÿè‡ªåŠ¨è®¾ç½®ï¼ˆè¿™æ˜¯åŒºåˆ†æœ¬åœ°é€šçŸ¥å’Œè¿œç¨‹é€šçŸ¥çš„æ ‡è¯†)</p><p><code>UNTimeIntervalNotificationTrigger</code> ä¸€æ®µæ—¶é—´åè§¦å‘</p><p><code>UNCalendarNotificationTrigger</code> æŒ‡å®šæ—¥æœŸè§¦å‘</p><p><code>UNLocationNotificationTrigger</code> æ ¹æ®ä½ç½®è§¦å‘ï¼Œæ”¯æŒè¿›å…¥æŸåœ°æˆ–è€…ç¦»å¼€æŸåœ°æˆ–è€…éƒ½æœ‰</p><h3 id="2-iOS10Laterå–æ¶ˆæ¨é€"><a href="#2-iOS10Laterå–æ¶ˆæ¨é€" class="headerlink" title="2. iOS10Laterå–æ¶ˆæ¨é€"></a>2. iOS10Laterå–æ¶ˆæ¨é€</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UNUserNotificationCenter* center = [UNUserNotificationCenter currentNotificationCenter];</span><br><span class="line">       [center removeAllPendingNotificationRequests];  <span class="comment">// remove all at this moment.</span></span><br></pre></td></tr></table></figure><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>æœ¬åœ°æ¨é€çš„å›è°ƒ, ä¼šè°ƒç”¨ <code>AppDeleage</code> ä¸‹çš„<code>application:(UIApplication *)application didReceiveLocalNotification</code>æ–¹æ³•</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)application:(<span class="built_in">UIApplication</span> *)application didReceiveLocalNotification:(<span class="built_in">UILocalNotification</span> *)notification&#123;</span><br><span class="line">  <span class="comment">// TO DO</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†å®šæ—¶æé†’æ¨é€, æ•…æ•´ç†è®°å½•ä¸‹æ¥.&lt;/p&gt;
&lt;h2 id=&quot;iOS10-ä¹‹å‰-ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼&quot;&gt;&lt;a href=&quot;#iOS10-ä¹‹å‰-ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;iOS10 ä¹‹å‰, ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼:&quot;&gt;&lt;/a&gt;iOS10 ä¹‹å‰, ä½¿ç”¨æ—§çš„æœ¬åœ°æ¨é€æ³¨å†Œæ–¹å¼:&lt;/h2&gt;&lt;h3 id=&quot;1-åœ¨-AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥-å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´&quot;&gt;&lt;a href=&quot;#1-åœ¨-AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥-å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´&quot; class=&quot;headerlink&quot; title=&quot;1. åœ¨ AppDelegateä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥, å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´&quot;&gt;&lt;/a&gt;1. åœ¨ &lt;code&gt;AppDelegate&lt;/code&gt;ä¸­ä»£ç†æ³¨å†Œä½¿ç”¨é€šçŸ¥, å’Œæ³¨å†Œè¿œç¨‹é€šçŸ¥ä¸€è‡´&lt;/h3&gt;&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;UIMutableUserNotificationCategory&lt;/span&gt; *categorys = [[&lt;span class=&quot;built_in&quot;&gt;UIMutableUserNotificationCategory&lt;/span&gt; alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;UIUserNotificationSettings&lt;/span&gt; *userSettings = [&lt;span class=&quot;built_in&quot;&gt;UIUserNotificationSettings&lt;/span&gt; settingsForTypes:&lt;span class=&quot;built_in&quot;&gt;UIUserNotificationTypeBadge&lt;/span&gt;|&lt;span class=&quot;built_in&quot;&gt;UIUserNotificationTypeSound&lt;/span&gt;|&lt;span class=&quot;built_in&quot;&gt;UIUserNotificationTypeAlert&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                                    categories:[&lt;span class=&quot;built_in&quot;&gt;NSSet&lt;/span&gt; setWithObject:categorys]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[&lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; sharedApplication] registerUserNotificationSettings:userSettings];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[&lt;span class=&quot;built_in&quot;&gt;UIApplication&lt;/span&gt; sharedApplication] registerForRemoteNotifications];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="æ¨é€" scheme="http://www.lydsnm.top/tags/%E6%8E%A8%E9%80%81/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•æ˜äº†æå®š iOS 10æ¨é€é€‚é…</title>
    <link href="http://www.lydsnm.top/2016/10/08/%E7%AE%80%E5%8D%95%E6%98%8E%E4%BA%86%E6%90%9E%E5%AE%9AiOS10%E6%8E%A8%E9%80%81%E9%80%82%E9%85%8D/"/>
    <id>http://www.lydsnm.top/2016/10/08/ç®€å•æ˜äº†æå®šiOS10æ¨é€é€‚é…/</id>
    <published>2016-10-07T16:00:00.000Z</published>
    <updated>2018-03-04T05:50:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>iOS 10 æ›´æ–°äº†åå‘ç°æ­£å¼ç¯å¢ƒ, æ¨é€ç²—é—®é¢˜äº†.æŸ¥äº†ç›¸å…³èµ„æ–™å, æ•´ç†äº†ä¸€ä¸‹è§£å†³åŠæ³•ã€‚ iOS 10å, å¢åŠ äº†<font color="#1E90FF">UNUserNotificationCenter</font>, å¹¶ä¸”æ¨é€é€šçŸ¥çš„å¤„ç†è¦åœ¨ä»£ç†æ–¹æ³•</p><ul><li><p><font color="#A52A2A">userNotificationCenter:didReceiveNotificationResponse</font> æ¨é€æ—¶ APP åœ¨åå°</p></li><li><p><font color="#A52A2A">userNotificationCenter:willPresentNotification</font> æ¨é€æ—¶ APP åœ¨å‰å°</p></li></ul><a id="more"></a><p><br></p><h4 id="1-å¯¼å…¥å¤´æ–‡ä»¶"><a href="#1-å¯¼å…¥å¤´æ–‡ä»¶" class="headerlink" title="1. å¯¼å…¥å¤´æ–‡ä»¶"></a>1. å¯¼å…¥å¤´æ–‡ä»¶</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UserNotifications/UserNotifications.h&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="2-éµå®ˆåè®®"><a href="#2-éµå®ˆåè®®" class="headerlink" title="2. éµå®ˆåè®®"></a>2. éµå®ˆåè®®</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()&lt;<span class="title">UNUserNotificationCenterDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><h4 id="3-åœ¨application-didFinishLaunchingWithOptionsæ–¹æ³•ä¸­æ³¨å†Œæ¨é€ã€‚"><a href="#3-åœ¨application-didFinishLaunchingWithOptionsæ–¹æ³•ä¸­æ³¨å†Œæ¨é€ã€‚" class="headerlink" title="3. åœ¨application: didFinishLaunchingWithOptionsæ–¹æ³•ä¸­æ³¨å†Œæ¨é€ã€‚"></a>3. åœ¨<font color="#1E90FF">application: didFinishLaunchingWithOptions</font>æ–¹æ³•ä¸­æ³¨å†Œæ¨é€ã€‚</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (kiOS10Later) &#123;  <span class="comment">//iOS10 ä¹‹åç”¨UNUserNotificationCenteræ³¨å†Œé€šçŸ¥</span></span><br><span class="line">        UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</span><br><span class="line">        center.delegate = <span class="keyword">self</span>;</span><br><span class="line">        [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(<span class="built_in">BOOL</span> granted, <span class="built_in">NSError</span> * _Nullable error) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!error) &#123;</span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] registerForRemoteNotifications];</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"OK!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">//iOS10 ä¹‹å‰çš„æ³¨å†Œé€šçŸ¥</span></span><br><span class="line">        <span class="keyword">if</span> ([[<span class="built_in">UIApplication</span> sharedApplication] respondsToSelector:<span class="keyword">@selector</span>(registerUserNotificationSettings:)]) &#123;</span><br><span class="line">        <span class="built_in">UIUserNotificationSettings</span> *settings = [<span class="built_in">UIUserNotificationSettings</span> settingsForTypes:(<span class="built_in">UIUserNotificationTypeBadge</span> |<span class="built_in">UIUserNotificationTypeSound</span> |<span class="built_in">UIUserNotificationTypeAlert</span>)</span><br><span class="line">                                                                                 categories:<span class="literal">nil</span>];</span><br><span class="line">        [[<span class="built_in">UIApplication</span> sharedApplication] registerUserNotificationSettings:settings];</span><br><span class="line">        [[<span class="built_in">UIApplication</span> sharedApplication] registerForRemoteNotifications];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="4-APP-æœªå¯åŠ¨-iOS10ä¸­é—å¼ƒUIApplicationLaunchOptionsRemoteNotificationKey-é‡‡ç”¨ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†-è§ä¸‹ä¸€æ¡"><a href="#4-APP-æœªå¯åŠ¨-iOS10ä¸­é—å¼ƒUIApplicationLaunchOptionsRemoteNotificationKey-é‡‡ç”¨ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†-è§ä¸‹ä¸€æ¡" class="headerlink" title="4. APP æœªå¯åŠ¨, iOS10ä¸­é—å¼ƒUIApplicationLaunchOptionsRemoteNotificationKey,é‡‡ç”¨ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†, è§ä¸‹ä¸€æ¡."></a>4. APP æœªå¯åŠ¨, iOS10ä¸­é—å¼ƒ<font color="#1E90FF">UIApplicationLaunchOptionsRemoteNotificationKey</font>,é‡‡ç”¨ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†, è§ä¸‹ä¸€æ¡.</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// application: didFinishLaunchingWithOptions ä¸­ iOS 9åŠä»¥ä¸‹,è¿˜æ˜¯è¦ä¿ç•™ä»¥ä¸‹ä»£ç </span></span><br><span class="line"> <span class="built_in">NSDictionary</span> *remoteUserInfo = launchOptions[<span class="built_in">UIApplicationLaunchOptionsRemoteNotificationKey</span>];  </span><br><span class="line">    <span class="keyword">if</span> (remoteUserInfo) &#123;  </span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"remoteUserInfo:%@"</span>,remoteUserInfo);  </span><br><span class="line">        <span class="comment">//APPæœªå¯åŠ¨ï¼Œç‚¹å‡»æ¨é€æ¶ˆæ¯ï¼ŒiOS10ä¸‹è¿˜æ˜¯è·Ÿä»¥å‰ä¸€æ ·åœ¨æ­¤è·å–  </span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="5-å®ç°æ¥æ”¶æ¨é€æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•"><a href="#5-å®ç°æ¥æ”¶æ¨é€æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•" class="headerlink" title="5. å®ç°æ¥æ”¶æ¨é€æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•"></a>5. å®ç°æ¥æ”¶æ¨é€æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•</h4><p>iOS10ä¹‹å‰ä½¿ç”¨<font color="#1E90FF">application: didReceiveRemoteNotification</font> æ¥è¿›è¡Œå›è°ƒå¤„ç†ï¼Œè€Œåœ¨iOS10é‡Œåˆ™è¦å®ç°ç”¨<font color="1E90FF">UNUserNotificationCenterDelegate</font>çš„ä¸¤ä¸ªä»£ç†æ–¹æ³•ï¼š </p><blockquote><ul><li><font color="#A52A2A">userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification</font></li><li><font color="#A52A2A">userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse</font></li></ul></blockquote><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iOS10ä¹‹å‰ æ¥æ”¶æ¨é€æ¶ˆæ¯</span></span><br><span class="line">- (<span class="keyword">void</span>)application:(<span class="built_in">UIApplication</span> *)application didReceiveRemoteNotification:(<span class="built_in">NSDictionary</span> *)userInfo fetchCompletionHandler:(<span class="keyword">void</span> (^)(<span class="built_in">UIBackgroundFetchResult</span>))completionHandler &#123;</span><br><span class="line">    Log(<span class="string">@"userInfo: %@"</span>, userInfo);</span><br><span class="line">    <span class="keyword">if</span> ( application.applicationState == <span class="built_in">UIApplicationStateActive</span>) &#123;<span class="comment">// ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å—åˆ°æ¨é€é€šçŸ¥</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">//åœ¨backgroundçŠ¶æ€å—åˆ°æ¨é€é€šçŸ¥</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    completionHandler(<span class="built_in">UIBackgroundFetchResultNewData</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iOS 10ä¹‹å åå°æ¨é€æ¶ˆæ¯æ¥æ”¶</span></span><br><span class="line">- (<span class="keyword">void</span>)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(<span class="keyword">void</span> (^)())completionHandler&#123;</span><br><span class="line">    <span class="built_in">NSDictionary</span> *userInfo = response.notification.request.content.userInfo;</span><br><span class="line">    <span class="comment">// TO DO</span></span><br><span class="line">    </span><br><span class="line">    completionHandler(<span class="built_in">UIBackgroundFetchResultNewData</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iOS 10ä¹‹å å‰å°æ¨é€æ¶ˆæ¯å¤„ç†.</span></span><br><span class="line">- (<span class="keyword">void</span>)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(<span class="keyword">nonnull</span> UNNotification *)notification withCompletionHandler:(<span class="keyword">nonnull</span> <span class="keyword">void</span> (^)(UNNotificationPresentationOptions))completionHandler&#123;</span><br><span class="line">    DLog(<span class="string">@"iOS 10 Receive Remote Notification in foreground! [willPresentNotification]"</span>);</span><br><span class="line">    <span class="comment">// å¯åœ¨APP å‰å°çŠ¶æ€ä¸‹,å¼¹å‡ºæ¨é€å¼¹çª—</span></span><br><span class="line">    completionHandler(UNNotificationPresentationOptionAlert);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-è€Œå¯¹äºæœ¬åœ°æ¨é€å›è°ƒ-å’Œä»¥å‰æ²¡æœ‰å˜åŒ–"><a href="#6-è€Œå¯¹äºæœ¬åœ°æ¨é€å›è°ƒ-å’Œä»¥å‰æ²¡æœ‰å˜åŒ–" class="headerlink" title="6. è€Œå¯¹äºæœ¬åœ°æ¨é€å›è°ƒ, å’Œä»¥å‰æ²¡æœ‰å˜åŒ–:"></a>6. è€Œå¯¹äºæœ¬åœ°æ¨é€å›è°ƒ, å’Œä»¥å‰æ²¡æœ‰å˜åŒ–:</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)application:(<span class="built_in">UIApplication</span> *)application didReceiveLocalNotification:(<span class="built_in">UILocalNotification</span> *)notification&#123;</span><br><span class="line">  <span class="comment">// TO DO</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><h4 id="7-å…¶ä»–è¡¥å……"><a href="#7-å…¶ä»–è¡¥å……" class="headerlink" title="7. å…¶ä»–è¡¥å……"></a>7. å…¶ä»–è¡¥å……</h4><ul><li>å¯¹äº<font color="#1E90FF">Xcode 8</font>, é»˜è®¤ç”Ÿæˆçš„<font color="#1E90FF">XXX.entitlements</font>ä¸­çš„<font color="#1E90FF">APS Enviroment</font> å‘å¸ƒæ—¶,å¯ä»¥ä¸ç”¨ä»development æ”¹æˆ production. Xcode åœ¨å‘å¸ƒæ—¶ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†æ”¹å¥½.</li></ul><ul><li>æ¨é€å¼€å…³è®°å¾—è¦æ‰“å¼€;capabilities é‡Œé¢<font color="#1E90FF">Background Modesâ€“&gt;remote notification&amp;push notification</font></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;iOS 10 æ›´æ–°äº†åå‘ç°æ­£å¼ç¯å¢ƒ, æ¨é€ç²—é—®é¢˜äº†.æŸ¥äº†ç›¸å…³èµ„æ–™å, æ•´ç†äº†ä¸€ä¸‹è§£å†³åŠæ³•ã€‚ iOS 10å, å¢åŠ äº†&lt;font color=&quot;#1E90FF&quot;&gt;UNUserNotificationCenter&lt;/font&gt;, å¹¶ä¸”æ¨é€é€šçŸ¥çš„å¤„ç†è¦åœ¨ä»£ç†æ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;font color=&quot;#A52A2A&quot;&gt;userNotificationCenter:didReceiveNotificationResponse&lt;/font&gt; æ¨é€æ—¶ APP åœ¨åå°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;font color=&quot;#A52A2A&quot;&gt;userNotificationCenter:willPresentNotification&lt;/font&gt; æ¨é€æ—¶ APP åœ¨å‰å°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="iOS10é€‚é…" scheme="http://www.lydsnm.top/tags/iOS10%E9%80%82%E9%85%8D/"/>
    
      <category term="æ¨é€" scheme="http://www.lydsnm.top/tags/%E6%8E%A8%E9%80%81/"/>
    
  </entry>
  
  <entry>
    <title>OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹</title>
    <link href="http://www.lydsnm.top/2016/09/20/OC%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%BA%8C/"/>
    <id>http://www.lydsnm.top/2016/09/20/OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹äºŒ/</id>
    <published>2016-09-19T16:00:00.000Z</published>
    <updated>2018-08-30T14:37:42.963Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¥å£ä¸-API-è®¾è®¡"><a href="#æ¥å£ä¸-API-è®¾è®¡" class="headerlink" title="æ¥å£ä¸ API è®¾è®¡"></a>æ¥å£ä¸ API è®¾è®¡</h2><p>æˆ‘ä»¬åœ¨æ„å»ºåº”ç”¨ç¨‹åºç¼–å†™æ¥å£åº”è€ƒè™‘å°†å…¶è®¾è®¡æˆæ˜“äºå¤ç”¨çš„å½¢å¼, æ–¹ä¾¿åç»­é¡¹ç›®å¤ç”¨æˆ–å…¶ä»–æ¨¡å—ä½¿ç”¨. è¿™å°±éœ€è¦éµå®ˆä¸€å®šçš„ç¼–ç¨‹èŒƒå¼, éµå®ˆä¸€äº›çº¦å®šä¿—æˆçš„â€è§„åˆ™â€.</p><h3 id="1-ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª"><a href="#1-ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª" class="headerlink" title="1. ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª"></a>1. ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª</h3><p>OC æ²¡æœ‰å…¶ä»–è¯­è¨€å†…ç½®çš„å‘½åç©ºé—´æœºåˆ¶. å› æ­¤åœ¨å‘½åæ—¶è®¾æ³•é¿å…æ½œåœ¨çš„å‘½åå†²çª, å¦åˆ™å®¹æ˜“å°±é‡å.å¦åˆ™ä¼šå‡ºç°ç±»ä¼¼é”™è¯¯:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">duplicate symbol _OBJC_METACLASS_$_EOCTHECLASS <span class="keyword">in</span>:</span><br><span class="line">build/something.o</span><br><span class="line">build/something_else.o</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è‹¹æœå®£ç§°å…¶ä¿ç•™ä½¿ç”¨æ‰€æœ‰â€ä¸¤å­—æ¯å‰ç¼€â€(two-letter prefix)çš„æƒåˆ©,å› æ­¤æˆ‘ä»¬çš„å‘½åå‰ç¼€æœ€å¥½é¿å…ä½¿ç”¨ä¸¤ä¸ªå­—æ¯å½“å‰ç¼€.</p><a id="more"></a><hr><h3 id="2-æä¾›â€å…¨èƒ½åˆå§‹æ–¹æ³•â€"><a href="#2-æä¾›â€å…¨èƒ½åˆå§‹æ–¹æ³•â€" class="headerlink" title="2. æä¾›â€å…¨èƒ½åˆå§‹æ–¹æ³•â€"></a>2. æä¾›â€å…¨èƒ½åˆå§‹æ–¹æ³•â€</h3><ul><li>åœ¨ç±»ä¸­æä¾›ä¸€ä¸ªå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•, å¹¶äºæ–‡æ¡£ä¸­æŒ‡å. å…¶ä»–åˆå§‹åŒ–æ–¹æ³•å‡åº”è°ƒç”¨æ­¤æ–¹æ³•.</li><li>è‹¥å…¨èƒ½åˆå§‹åŒ–æ–¹æ³•ä¸è¶…ç±»ä¸åŒ, åˆ™éœ€è¦è¦†å†™è¶…ç±»ä¸­çš„å¯¹åº”æ–¹æ³•.</li><li>å¦‚æœè¶…ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¸é€‚ç”¨äºä¹‹ç±», é‚£ä¹ˆåº”è¯¥è¦†å†™è¿™ä¸ªè¶…ç±»æ–¹æ³•, å¹¶åœ¨å…¶ä¸­æŠ›å‡ºå¼‚å¸¸.</li></ul><hr><h3 id="3-å®ç°-description-æ–¹æ³•"><a href="#3-å®ç°-description-æ–¹æ³•" class="headerlink" title="3. å®ç° description æ–¹æ³•"></a>3. å®ç° description æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;object = %@&quot;, object);</span><br></pre></td></tr></table></figure><p>å®ç° object çš„ description æ–¹æ³•, æ‰“å° object ä¸­ç”¨æˆ·å…³å¿ƒçš„ä¿¡æ¯.</p><ul><li>è‹¥æƒ³åœ¨è°ƒè¯•æ—¶æ‰“å°æ›´è¯¦å°½çš„å¯¹è±¡æè¿°ä¿¡æ¯, åˆ™åº”å®ç° debugDescription æ–¹æ³•.</li></ul><hr><h3 id="4-å°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡"><a href="#4-å°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡" class="headerlink" title="4. å°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡"></a>4. å°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡</h3><p>è‹¥å±æ€§ä»…å¯ä»¥ç”¨äºå¯¹è±¡å†…éƒ¨ä¿®æ”¹, åˆ™åœ¨â€class-continuation åˆ†ç±»â€ä¸­å°†å…¶ç”±<code>readonly</code>å±æ€§æ‰©å±•ä¸º readwirte.<br>ä¸è¦æŠŠå¯å˜çš„ <code>collection</code>ä½œä¸ºå±æ€§å…¬å¼€, è€Œåº”æ—¶æä¾›ç›¸å…³æ–¹æ³•, ä»¥æ­¤ä¿®æ”¹å¯¹è±¡ä¸­çš„å¯å˜ <code>collection</code>.</p><hr><h3 id="5-å‘½åæ–¹å¼"><a href="#5-å‘½åæ–¹å¼" class="headerlink" title="5.å‘½åæ–¹å¼"></a>5.å‘½åæ–¹å¼</h3><p>ç”¨<code>p_</code>å¼€å¤´æ¥å‘½åç§æœ‰æ–¹æ³•. è€Œè‹¹æœå…¬å¸ç”¨çš„æ˜¯æ‹¿ä¸€ä¸ªä¸‹åˆ’çº¿ä½œä¸ºå‰ç¼€, è€Œæˆ‘ä»¬æœ€å¥½ä¸è¦ç”¨, ä¸ç„¶å¯èƒ½å› ä¸º<font color="#A52A2A">åŠ¨æ€æ–¹æ³•æ´¾å‘ç³»ç»Ÿ(dynamic method dispatch system)</font>å¯èƒ½åœ¨å­ç±»ä¸­æ— æ„è¦†ç›–äº†æ–¹æ³•.</p><h3 id="6-NSCopyingåè®®"><a href="#6-NSCopyingåè®®" class="headerlink" title="6. NSCopyingåè®®"></a>6. NSCopyingåè®®</h3><p>è¦æƒ³è®©è‡ªå®šä¹‰ç±»æ”¯æŒæ‹·è´æ“ä½œ, å°±éœ€è¦å®ç°<font color="#A52A2A"> NSCopying</font>åè®®, è¯¥åè®®åªæœ‰ä¸€ä¸ªæ–¹æ³•:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)copyWithZone:(<span class="built_in">NSZone</span>*)zone</span><br></pre></td></tr></table></figure><p>ä¸ºä½•ä¼šå‡ºç° <code>NSZone</code> å‘¢? å› ä¸ºä»¥å‰å¼€å‘ç¨‹åºæ—¶, ä¼šæ®æ­¤æŠŠå†…å­˜åˆ†æˆä¸åŒçš„â€åŒºâ€(<code>zone</code>), è€Œå¯¹è±¡ä¼šåˆ›å»ºåœ¨æŸä¸ªåŒºé‡Œé¢, è€Œç°åœ¨ä¸ç”¨äº†, æ¯ä¸ªç¨‹åºåªæœ‰ä¸€ä¸ª<code>default zone</code></p><p>å¯¹äºä¸å¯å˜çš„ <code>NSArray</code> ä¸å¯å˜çš„ <code>NSMutableArray</code> æ¥è¯´, ä¸‹åˆ—å…³ç³»æ€»æ˜¯æˆç«‹çš„:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (NSMutableArray copy] =&gt; NSArray</span><br><span class="line">- (NSArray mutableCopy] =&gt; NSMutableArray</span><br></pre></td></tr></table></figure><p>å¦å¤–, åœ¨å¯å˜å¯¹è±¡ä¸Šè°ƒç”¨ <code>copy</code> æ–¹æ³•åˆ™æ˜¯ä¼šè¿”å›å¦å¤–ä¸€ä¸ªä¸å¯å˜ç±»çš„å®ä¾‹.</p><p><br></p><hr><h2 id="åè®®ä¸åˆ†ç±»"><a href="#åè®®ä¸åˆ†ç±»" class="headerlink" title="åè®®ä¸åˆ†ç±»"></a>åè®®ä¸åˆ†ç±»</h2><p>OC ä¸æ”¯æŒå¤šé‡ç»§æ‰¿, å› è€Œæˆ‘ä»¬æŠŠæŸä¸ªç±»åº”è¯¥å®ç°çš„ä¸€ç³»åˆ—æ–¹æ³•å®šä¹‰åœ¨åè®®é‡Œé¢. åè®®æœ€ä¸ºå¸¸è§çš„ç”¨é€”æ—¶å®ç°å§”æ‰˜æ¨¡å¼.</p><h3 id="1-å§”æ‰˜"><a href="#1-å§”æ‰˜" class="headerlink" title="1. å§”æ‰˜"></a>1. å§”æ‰˜</h3><p>å¯¹äºéœ€è¦é¢‘ç¹é€šè¿‡æ•°æ®æºåè®®ä»æ•°æ®æºä¸­è·å–å¤šä»½ç›¸äº’ç‹¬ç«‹çš„æ•°æ®, ä¸‹é¢çš„è¿™ç§ä¼˜åŒ–æ–¹å¼, å€¼å¾—ä½¿ç”¨.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">EOCNetworkFetcher</span>()</span>&#123;</span><br><span class="line"><span class="keyword">struct</span> &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> didReceiveData: <span class="number">1</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> didFailWithError: <span class="number">1</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> didUpdateProgressTo : <span class="number">1</span>;</span><br><span class="line">&#125; _delegateFlags;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// set Flag</span></span><br><span class="line">_delegateFlags.didReceiveData = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setDelegate:(<span class="keyword">id</span>&lt;EOCNetworkFetcher&gt;)delegate&#123;</span><br><span class="line">_delegate = delegate;</span><br><span class="line">_delegateFlags.didReceiveData = [delegate respondsToSelector:<span class="keyword">@selector</span>(networkFetcher:didReceiveData:)];</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¸ç”¨, æ¯æ¬¡éƒ½å»æ£€æµ‹å§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å“åº”ç»™å®šçš„é€‰æ‹©å­äº†.</p><hr><h3 id="2-åˆ†ç±»"><a href="#2-åˆ†ç±»" class="headerlink" title="2. åˆ†ç±»"></a>2. åˆ†ç±»</h3><p>å½“ç±»çš„å®ç°æ–‡ä»¶è¿‡äºè†¨èƒ€è€Œæ— æ³•ç®¡ç†æ—¶, å°†ç±»åˆ†ç±», æå–åˆ°åˆ†åˆ«çš„ä¸åŒçš„æ–‡ä»¶ä¸­åŒº.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">XXX+Friendship(.h/.m)</span><br><span class="line">XXX+Work(.h/.m)</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><p>å¦å¤–å¯ä»¥åˆ›å»ºåä¸º<code>Private</code>çš„åˆ†ç±».ä¸€èˆ¬è¿™ä¸ªç±»ä¸­çš„æ–¹æ³•åªåœ¨ç±»æˆ–æ¡†æ¶å†…éƒ¨ä½¿ç”¨.ä»¥éšè—å®ç°ç»†èŠ‚.</p><hr><h3 id="3-é€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡"><a href="#3-é€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡" class="headerlink" title="3. é€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡"></a>3. é€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡</h3><p>å§”æ‰˜å°±ä½¿ç”¨çš„äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, weak) id &lt;EOCDelegate&gt; delegate;</span><br></pre></td></tr></table></figure><p>è¯¥å±æ€§çš„ç±»å‹æ˜¯<code>id&lt;EOCDelegate&gt;</code>, æ‰€ä»¥å®é™…ä¸Šä»»ä½•ç±»çš„å¯¹è±¡éƒ½èƒ½å……å½“è¿™ä¸€å±æ€§, å³ä¾¿è¯¥ç±»ä¸ç»§æ‰¿è‡ª <code>NSObject</code>, åªè¦éµå¾ª <font color="#A52A2A">EOCDelegate</font> å°±å¯ä»¥äº†</p><p><br></p><hr><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><ol><li><p>OC ä¸­æ— æ³•å°†æŸä¸ªç±»æ ‡è¯†ä¸º<font color="#A52A2A">æŠ½è±¡ç±»</font>. è¦æƒ³è¾¾æˆç±»ä¼¼æ•ˆæœ, æœ€å¥½çš„æ–¹æ³•æ—¶åœ¨é‚£äº›å­ç±»å¿…é¡»è¦†å†™çš„è¶…ç±»æ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸.</p></li><li><p>éµå¾ªä½¿ç”¨å±æ€§çš„ <code>setter</code> æ–¹æ³•ï¼Œæˆ–é€šè¿‡ <code>key-path</code> æ¥è®¾ç½®ï¼š<br><code>[target setAge:30];</code> <code>[target setValue:[NSNumber numberWithInt:30] forKey:@&quot;age&quot;];</code> <font color="#A52A2A">KVO</font> é”®å€¼è§‚å¯Ÿæ‰èƒ½æ­£ç¡®è·å¾—å˜åŒ–.</p></li></ol><hr><p><br></p><p>æœ¬ç¯‡æ–‡ç« å‚è€ƒæ‘˜è‡ª <font color="#B8860B">Effective Objective-C 2.0 ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•</font></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¥å£ä¸-API-è®¾è®¡&quot;&gt;&lt;a href=&quot;#æ¥å£ä¸-API-è®¾è®¡&quot; class=&quot;headerlink&quot; title=&quot;æ¥å£ä¸ API è®¾è®¡&quot;&gt;&lt;/a&gt;æ¥å£ä¸ API è®¾è®¡&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬åœ¨æ„å»ºåº”ç”¨ç¨‹åºç¼–å†™æ¥å£åº”è€ƒè™‘å°†å…¶è®¾è®¡æˆæ˜“äºå¤ç”¨çš„å½¢å¼, æ–¹ä¾¿åç»­é¡¹ç›®å¤ç”¨æˆ–å…¶ä»–æ¨¡å—ä½¿ç”¨. è¿™å°±éœ€è¦éµå®ˆä¸€å®šçš„ç¼–ç¨‹èŒƒå¼, éµå®ˆä¸€äº›çº¦å®šä¿—æˆçš„â€è§„åˆ™â€.&lt;/p&gt;
&lt;h3 id=&quot;1-ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª&quot;&gt;&lt;a href=&quot;#1-ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª&quot; class=&quot;headerlink&quot; title=&quot;1. ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª&quot;&gt;&lt;/a&gt;1. ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª&lt;/h3&gt;&lt;p&gt;OC æ²¡æœ‰å…¶ä»–è¯­è¨€å†…ç½®çš„å‘½åç©ºé—´æœºåˆ¶. å› æ­¤åœ¨å‘½åæ—¶è®¾æ³•é¿å…æ½œåœ¨çš„å‘½åå†²çª, å¦åˆ™å®¹æ˜“å°±é‡å.å¦åˆ™ä¼šå‡ºç°ç±»ä¼¼é”™è¯¯:&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;duplicate symbol _OBJC_METACLASS_$_EOCTHECLASS &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;build/something.o&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;build/something_else.o&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è‹¹æœå®£ç§°å…¶ä¿ç•™ä½¿ç”¨æ‰€æœ‰â€ä¸¤å­—æ¯å‰ç¼€â€(two-letter prefix)çš„æƒåˆ©,å› æ­¤æˆ‘ä»¬çš„å‘½åå‰ç¼€æœ€å¥½é¿å…ä½¿ç”¨ä¸¤ä¸ªå­—æ¯å½“å‰ç¼€.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="OC" scheme="http://www.lydsnm.top/tags/OC/"/>
    
  </entry>
  
  <entry>
    <title>OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹</title>
    <link href="http://www.lydsnm.top/2016/08/24/OC%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <id>http://www.lydsnm.top/2016/08/24/OCå¼€å‘ç›¸å…³æ³¨æ„äº‹é¡¹/</id>
    <published>2016-08-23T16:00:00.000Z</published>
    <updated>2018-08-30T14:37:08.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€äº›åŸºæœ¬ä¿¡æ¯"><a href="#ä¸€äº›åŸºæœ¬ä¿¡æ¯" class="headerlink" title="ä¸€äº›åŸºæœ¬ä¿¡æ¯"></a>ä¸€äº›åŸºæœ¬ä¿¡æ¯</h2><h3 id="1-å†…å­˜ç›¸å…³"><a href="#1-å†…å­˜ç›¸å…³" class="headerlink" title="1. å†…å­˜ç›¸å…³"></a>1. å†…å­˜ç›¸å…³</h3><p>åˆ†é…åœ¨å †ä¸­çš„å†…å­˜å¿…é¡»ç›´æ¥ç®¡ç†, è€Œåˆ†é…åœ¨æ ˆä¸­çš„ç”¨äºä¿å­˜å˜é‡çš„å†…å­˜åˆ™ä¼šåœ¨å…¶æ ˆå¼¹å‡ºæ—¶è‡ªåŠ¨æ¸…ç†.<br>    Objective-Cå°†å †å†…å­˜ç®¡ç†æŠ½è±¡å‡ºæ¥äº†. ä¸éœ€è¦ç”¨mallocåŠfreeæ¥åˆ†é…æˆ–é‡Šæ”¾å¯¹è±¡æ‰€å å†…å­˜. Objective-Cè¿è¡ŒæœŸç¯å¢ƒæŠŠè¿™éƒ¨åˆ†å·¥ä½œæŠ½è±¡ä¸ºä¸€å¥—å†…å­˜ç®¡ç†æ¡†æ¶-â€œå¼•ç”¨è®¡æ•°â€</p><p>åœ¨OCä¸­, æœ‰æ—¶ä¼šé‡åˆ°å®šä¹‰é‡Œä¸å«*çš„å˜é‡, å¯èƒ½ä¼šä½¿ç”¨<code>æ ˆç©ºé—´</code>. è¿™äº›å˜é‡æ‰€ä¿å­˜çš„ä¸æ˜¯Objective-Cå¯¹è±¡, æ¯”å¦‚CoreGraphicsä¸­çš„CGRect.</p><hr><h3 id="2-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶"><a href="#2-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶" class="headerlink" title="2. åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶"></a>2. åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶</h3><p>è€Œæ˜¯é‡‡ç”¨å‘å‰å£°æ˜(forward declaring)<br>å‡å°‘ç±»çš„ä½¿ç”¨è€…, æ‰€éœ€å¼•å…¥çš„å¤´æ–‡ä»¶æ•°é‡,å‡å°‘ç¼–è¯‘æ—¶é—´.<br>ä¹Ÿèƒ½è§£å†³ä¸¤ä¸ªç±»äº’ç›¸å¼•ç”¨çš„é—®é¢˜</p><a id="more"></a><hr><h3 id="3-å¤šç”¨å­—é¢é‡è¯­æ³•-å°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"><a href="#3-å¤šç”¨å­—é¢é‡è¯­æ³•-å°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•" class="headerlink" title="3. å¤šç”¨å­—é¢é‡è¯­æ³•, å°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"></a>3. å¤šç”¨å­—é¢é‡è¯­æ³•, å°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•</h3><p>å­—é¢é‡è¯­æ³•,æ¯”å¦‚:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *something = <span class="string">@"Effective Objective-C 2.0"</span>;</span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—é¢æ•°å€¼</span></span><br><span class="line"><span class="built_in">NSNumber</span> *someNumber = [<span class="built_in">NSNumber</span> numberWithInt:<span class="number">1</span>]; -&gt; <span class="built_in">NSNUmber</span> *someNumber = @<span class="number">1</span>;</span><br><span class="line"><span class="comment">//å­—é¢é‡æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *animals = @[<span class="string">@"cat"</span>, <span class="string">@"dog"</span>];<span class="comment">// æ•°ç»„ä¸­è‹¥æœ‰nilä¼š æŠ›å‡ºå¼‚å¸¸.</span></span><br><span class="line"><span class="comment">//å­—é¢é‡å­—å…¸</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *personData = @&#123;</span><br><span class="line"><span class="string">@"firstName"</span> : <span class="string">@"Matt"</span>,</span><br><span class="line"><span class="string">@"lastName"</span> : <span class="string">@"za"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å¯å˜æ•°ç»„</span></span><br><span class="line">mutableArray[<span class="number">1</span>] = <span class="string">@"dog"</span>;<span class="comment">// å°½é‡é€šè¿‡ä¸‹æ ‡æ“ä½œæ¥è®¿é—®æ•°ç»„, æˆ–è€…å­—å…¸ä¸­çš„æ‰€å¯¹åº”çš„å…ƒç´ .</span></span><br></pre></td></tr></table></figure><hr><h3 id="4-å¤šç”¨ç±»å‹å¸¸é‡-å°‘ç”¨-define-é¢„å¤„ç†æŒ‡ä»¤"><a href="#4-å¤šç”¨ç±»å‹å¸¸é‡-å°‘ç”¨-define-é¢„å¤„ç†æŒ‡ä»¤" class="headerlink" title="4. å¤šç”¨ç±»å‹å¸¸é‡, å°‘ç”¨#define é¢„å¤„ç†æŒ‡ä»¤"></a>4. å¤šç”¨ç±»å‹å¸¸é‡, å°‘ç”¨#define é¢„å¤„ç†æŒ‡ä»¤</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSTimeInterval</span> kAnimationDuration = <span class="number">0.3</span>;</span><br></pre></td></tr></table></figure><p>å‘½å, è‹¥å¸¸é‡å±€é™äºæŸâ€ç¼–è¯‘å•å…ƒâ€(ä¹Ÿå°±æ˜¯å®ç°æ–‡ä»¶ä¸­, implementationä¸­),åˆ™åœ¨å‰é¢åŠ å­—æ¯k; è‹¥å¸¸é‡åœ¨ç±»ä¹‹å¤–å¯è§, åˆ™é€šå¸¸ä»¥ç±»åä¸ºå‰ç¼€.<br>å°½é‡ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜é¢„å¤„ç†æŒ‡ä»¤æˆ–å®šä¹‰å¸¸é‡ static const.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AnimatedView</span>: <span class="title">UIView</span></span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSTimeInterval</span> kAnimationDuration = <span class="number">0.3</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AnimatedView</span></span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="comment">// staticä¿®é¥°æ„å‘³ç€, è¯¥å˜é‡ä»…å±€é™äºæ­¤å˜é‡çš„ç¼–è¯‘å•å…ƒ(åœ¨OCè¯­å¢ƒä¸‹, ä¸€èˆ¬é€šå¸¸æŒ‡æ¯ä¸ªç±»çš„å®ç°æ–‡ä»¶(.m))ä¸­.</span></span><br><span class="line">å¦‚ä¸åŠ <span class="keyword">static</span>, åœ¨å¦ä¸€.mæ–‡ä»¶ä¸­ä¹Ÿå£°æ˜äº†åŒåå˜é‡, ä¼šæŠ›å‡ºå¸¸è§çš„duplicate_symbolé”™è¯¯</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Š, å¦‚æœä¸€ä¸ªå˜é‡æ—¢å£°æ˜ä¸ºstatic, æœ‰å£°æ˜ä¸ºconst, é‚£ä¹ˆç¼–è¯‘å™¨æ ¹æœ¬ä¸ä¼šåˆ›å»ºç¬¦å·, è€Œæ˜¯æƒ³#defineé¢„å¤„ç†æŒ‡ä»¤ä¸€æ ·, æŠŠæ‰€æœ‰é‡åˆ°çš„å˜é‡éƒ½æ›¿æ¢æˆå¸¸å€¼. ä¸è¿‡è¿™ç§æ–¹å¼å®šä¹‰çš„å¸¸é‡æ˜¯å¸¦æœ‰ç±»å‹ä¿¡æ¯çš„, è¿™ç‚¹ä¹Ÿç›¸å½“å…³é”®.</p><ul><li>é€šçŸ¥, å‘é€è€…å’Œæ¥å—è€…éƒ½éœ€è¦ä¸ªå¤–ç•Œå¯è§çš„å¸¸é‡å˜é‡(å³é€šçŸ¥çš„åç§°).</li></ul><p>è¿™æ—¶,æ­¤ç±»å˜é‡éœ€æ”¾åœ¨â€å…¨å±€ç¬¦å·è¡¨â€(global symbol table)ä¸­, ä»¥ä¾¿å¯ä»¥åœ¨å®šä¹‰è¯¥å˜é‡çš„ç¼–è¯‘å•å…ƒä¹‹å¤–ä½¿ç”¨.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In the header file</span></span><br><span class="line"><span class="keyword">extern</span> <span class="built_in">NSString</span> *<span class="keyword">const</span> EOCStringConstant;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the implementation file</span></span><br><span class="line"><span class="built_in">NSString</span> *<span class="keyword">const</span> EOCStringConstant = <span class="string">@"VALUENOTIFICATION"</span>;</span><br></pre></td></tr></table></figure><p>å¸¸é‡å®šä¹‰ä»å³è‡³å·¦è§£è¯»,è¿™é‡Œæ˜¯â€ä¸€ä¸ªå¸¸é‡, è€Œè¿™ä¸ªå¸¸é‡æ˜¯ä¸ªæŒ‡é’ˆ, æŒ‡å‘ä¸€ä¸ªNSStringå¯¹è±¡â€<br>è¿™é‡Œé¢çš„å‘½åè¦æ³¨æ„è°¨æ…, é¿å…åç§°å†²çª, æœ€å¥½ç”¨ä¸å€¼ç›¸å…³çš„ç±»ååšå‰ç¼€.</p><h3 id="5-ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç "><a href="#5-ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç " class="headerlink" title="5. ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç "></a>5. ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç </h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> EOCConnectionStateConnectionState&#123;</span><br><span class="line">EOCConnectionStateDisconnected = <span class="number">1</span>,</span><br><span class="line">EOCConnectionStateConnecting,</span><br><span class="line">EOCConnectionStateConnected,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å¯ä»¥å½¼æ­¤ç»„åˆçš„æšä¸¾. å®šä¹‰çš„å¯¹å, å„é€‰é¡¹ä¹‹é—´å°±å¯é€šè¿‡â€æŒ‰ä½æˆ–æ“ä½œç¬¦â€(bitwise OR operator)æ¥ç»„åˆ.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="built_in">UIViewAutoresizing</span> &#123;</span><br><span class="line"><span class="built_in">UIViewAutoresizingNone</span>= <span class="number">0</span>,</span><br><span class="line"><span class="built_in">UIViewAutoresizingFlexbleLeftMargin</span>= <span class="number">1</span> &lt;&lt; <span class="number">0</span>,</span><br><span class="line"><span class="built_in">UIViewAutoresizingFlexbleWidth</span>= <span class="number">1</span> &lt;&lt; <span class="number">1</span>,</span><br><span class="line"><span class="built_in">UIViewAutoresizingFlexbleRighMargin</span> = <span class="number">1</span> &lt;&lt; <span class="number">2</span>,</span><br><span class="line">.....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨å¤„ç†æšä¸¾ç±»å‹çš„switchè¯­å¥ä¸­ä¸è¦å®ç°defaultåˆ†æ”¯. è¿™æ ·çš„è¯, åŠ å…¥æ–°æšä¸¾ä¹‹å, ç¼–è¯‘å™¨å°±ä¼šæç¤ºå¼€å‘è€…. switchè¯­å¥å¹¶æœªå¤„ç†æ‰€æœ‰æšä¸¾.</li></ul><hr><h2 id="å¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ"><a href="#å¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ" class="headerlink" title="å¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ"></a>å¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ</h2><h3 id="6-ç†è§£å±æ€§è¿™ä¸€æ¦‚å¿µ"><a href="#6-ç†è§£å±æ€§è¿™ä¸€æ¦‚å¿µ" class="headerlink" title="6.ç†è§£å±æ€§è¿™ä¸€æ¦‚å¿µ"></a>6.ç†è§£å±æ€§è¿™ä¸€æ¦‚å¿µ</h3><p>å±æ€§ç”¨æ¥é€šè¿‡å­˜å–æ”¾æ–¹æ³•æ¥è®¿é—®å®ä¾‹å˜é‡, æ˜¯OCæä¾›çš„ä¸€ä¸ªç®€æ´æ–¹ä¾¿ç®¡ç†çš„æŠ½è±¡æœºåˆ¶. @propertyè¯­æ³•. å¦‚æœç”¨äº†è¿™äº›å±æ€§äº†, ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç¼–å†™è®¿é—®è¿™äº›å±æ€§æ‰€éœ€çš„æ–¹æ³•, æ¬¡è¿‡ç¨‹å«â€è‡ªåŠ¨åˆæˆâ€(autosynthesis),å¹¶æ·»åŠ å¯¹åº”çš„å®ä¾‹å˜é‡. ä¹Ÿå¯ä»¥åœ¨ç±»çš„å®ç°ä»£ç é‡Œé€šè¿‡<code>@synthesize</code>è¯­æ³•æ¥æŒ‡å®šå®ä¾‹å˜é‡çš„åå­—</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@implementaion EOCPerson</span><br><span class="line"><span class="keyword">@synthesize</span> fireName = _myFirstname;</span><br><span class="line"><span class="keyword">@synthesize</span> lastName = _myLastName;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><p>å¯é€šè¿‡<code>@dynamic</code>å…³é”®å­—æ¥å‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦è‡ªåŠ¨åˆ›å»ºå®ç°å±æ€§æ‰€ç”¨çš„å®ä¾‹å˜é‡å’Œå­˜å–æ–¹æ³•.</p><p>ä¿®é¥°å±æ€§çš„ç‰¹è´¨å…³é”®å­—</p><ul><li>weak è¡¨æ˜å®šä¹‰äº†ä¸€ç§â€éæ‹¥æœ‰å…³ç³»â€. ä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶, è®¾ç½®æ–¹æ³•æ—¢ä¸ä¿ç•™æ–°å€¼, ä¹Ÿä¸é‡Šæ”¾æ—§å€¼. å½“å±æ€§æ‰€æŒ‡çš„å¯¹è±¡é­åˆ°é”€æ¯æ—¶, å±æ€§å€¼ä¹Ÿä¼šæ¸…ç©º(nil).</li><li>unsafe_unretained è¯¥ç‰¹è´¨çš„è¯­ä¹‰è¡¨è¾¾ä¸€ç§â€éæ‹¥æœ‰å…³ç³»â€, å½“ç›®æ ‡å¯¹è±¡é­åˆ°é”€æ¯æ—¶, å±æ€§å€¼ä¸ä¼šè‡ªåŠ¨æ¸…ç©º(unsafe), è¿™ä¸€ç‚¹å’Œweakä¸åŒ.</li><li>åœ¨iOSç¨‹åºæ˜¯, åº”ç”¨nonatomicå±æ€§, é¿å…å½±å“æ€§èƒ½</li></ul><p><br></p><hr><h3 id="7-åœ¨å¯¹å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡"><a href="#7-åœ¨å¯¹å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡" class="headerlink" title="7. åœ¨å¯¹å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡"></a>7. åœ¨å¯¹å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡</h3><p>ç›´æ¥è®¿é—®å®ä¾‹å˜é‡, é€Ÿåº¦ä¼šå¿«ä¸€ç‚¹, ä½†æ˜¯å¯¹ä¸€ä¸ªå£°æ˜çš„copyçš„å±æ€§, é‚£ä¹ˆå¹¶ä¸ä¼šæ‹·è´è¯¥å±æ€§, åªä¼šä¿ç•™æ–°å€¼å¹¶é‡Šæ”¾æ—§å€¼. ä¹Ÿä¸èƒ½è§¦å‘â€é”®å€¼è§‚å¯Ÿâ€(KVO), ä¸€èˆ¬æ¯”è¾ƒæŠ˜ä¸­çš„æ–¹å¼æ˜¯å†™å…¥å®ä¾‹å˜é‡æ—¶, é€šè¿‡å…¶â€è®¾ç½®æ–¹æ³•â€æ¥åš, è€Œåœ¨è¯»å–å®ä¾‹å˜é‡æ˜¯, åˆ™ç›´æ¥è®¿é—®.<br>æ³¨æ„çš„åœ°æ–¹:<br>åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­åº”è¯¥å¦‚ä½•è®¾ç½®å±æ€§å€¼, è¿™ç§æƒ…å†µæ€»æ˜¯åº”è¯¥ç›´æ¥è®¿é—®å®ä¾‹å˜é‡, å› ä¸ºå­ç±»å¯èƒ½overideé‡å†™äº†è®¾ç½®æ–¹æ³•.</p><p>å¯¹äºæ‡’åŠ è½½æˆ–è€…è¯´æƒ°æ€§åˆå§‹åŒ–(lazy initialization)æ¥è¯´,å°±å¿…é¡»é€šè¿‡å­˜å–æ–¹æ³•æ¥è®¿é—®å±æ€§.</p><p><br></p><hr><h3 id="8-ç†è§£â€å¯¹è±¡ç­‰åŒæ€§â€"><a href="#8-ç†è§£â€å¯¹è±¡ç­‰åŒæ€§â€" class="headerlink" title="8. ç†è§£â€å¯¹è±¡ç­‰åŒæ€§â€"></a>8. ç†è§£â€å¯¹è±¡ç­‰åŒæ€§â€</h3><p>æœ‰æ—¶,æŒ‰ç…§==æ“ä½œç¬¦æ¯”è¾ƒå‡ºæ¥çš„ç»“æœæœªå¿…æ˜¯æˆ‘ä»¬æƒ³è¦çš„, è¯¥æ“ä½œæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæœ¬èº«, è€Œä¸æ˜¯æ‰€æŒ‡çš„å¯¹è±¡. åº”è¯¥ä½¿ç”¨NSObjectåè®®ä¸­å£°æ˜çš„<code>isEqual</code><br>NSObjectåè®®ä¸­æœ‰ä¸¤ä¸ªç”¨äºåˆ¤æ–­ç­‰åŒæ€§çš„å…³é”®æ–¹æ³•:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)isEqual:(<span class="keyword">id</span>)object;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)hash;</span><br></pre></td></tr></table></figure><ul><li><p>è‹¥æƒ³æ£€æµ‹å¯¹è±¡çš„ç­‰åŒæ€§, è¯·æä¾›<code>isEqual:</code>ä¸<code>hash</code>æ–¹æ³•.</p></li><li><p>ç›¸åŒçš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸åŒçš„å“ˆå¸Œç , ä½†ä¸¤ä¸ªå“ˆå¸Œç ç›¸åŒçš„å¯¹è±¡å´æœªå¿…ç›¸åŒ.</p></li><li><p>ç¼–å†™hashæ–¹æ³•æ—¶, åº”è¯¥ä½¿ç”¨è®¡ç®—é€Ÿåº¦å¿«è€Œä¸”å“ˆå¸Œç ç¢°æ’å‡ ç‡ä½çš„ç®—æ³•.</p></li></ul><p><br></p><hr><h3 id="9-ä»¥â€ç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚"><a href="#9-ä»¥â€ç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚" class="headerlink" title="9.ä»¥â€ç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚."></a>9.ä»¥â€ç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚.</h3><p>ç±»æ–¹æ³•(ä¹Ÿå«ç±»åˆ«æ–¹æ³•)<br>ç±»æ—æ¨¡å¼å¯ä»¥æŠŠå®ç°ç»†èŠ‚éšè—åœ¨ä¸€å¥—ç®€å•çš„å…¬å…±æ¥å£åé¢.</p><p>ç³»ç»Ÿæ¡†æ¶ä¸­ç»å¸¸ä½¿ç”¨ç±»æ—(NSArray)</p><p><br></p><hr><h3 id="11-ç†è§£objc-msgSendçš„ä½œç”¨"><a href="#11-ç†è§£objc-msgSendçš„ä½œç”¨" class="headerlink" title="11. ç†è§£objc_msgSendçš„ä½œç”¨"></a>11. ç†è§£objc_msgSendçš„ä½œç”¨</h3><p>ä¼ é€’æ¶ˆæ¯, Cè¯­è¨€ä½¿ç”¨é™æ€ç»‘å®š(static binding), åœ¨ç¼–è¯‘æœŸå†…å°±èƒ½å†³å®šè¿è¡Œæ—¶æ‰€åº”è°ƒç”¨çš„å‡½æ•°.å‡½æ•°åœ°å€å®é™…ä¸Šæ˜¯ç¡¬ç¼–ç åœ¨æŒ‡ä»¤ä¹‹ä¸­çš„.</p><p>so å¯¹åº”çš„æœ‰åŠ¨æ€ç»‘å®š, åœ¨OCä¸­, å¦‚æœå‘æŸå¯¹è±¡ä¼ é€’æ¶ˆæ¯, é‚£å°±ä¼šä½¿ç”¨åŠ¨æ€ç»‘å®šæœºåˆ¶æ¥å†³å®šéœ€è¦è°ƒç”¨çš„æ–¹æ³•.</p><ul><li>ç»™æŸå¯¹è±¡â€å‘é€æ¶ˆæ¯â€(invoke a message)ä¹Ÿå°±ç›¸å½“äºåœ¨è¯¥å¯¹è±¡ä¸Šâ€è°ƒç”¨æ–¹æ³•â€(call a method)</li><li>å‘ç»™æŸå¯¹è±¡çš„å…¨éƒ¨æ¶ˆæ¯éƒ½è¦ç”±â€åŠ¨æ€æ¶ˆæ¯æ´¾å‘ç³»ç»Ÿâ€(dynamic message dispatch system)æ¥å¤„ç†, è¯¥ç³»ç»Ÿä¼šæŸ¥å¤„å¯¹åº”çš„æ–¹æ³•, å¹¶æ‰§è¡Œå…¶ä»£ç .</li></ul><p><br></p><hr><h3 id="12-ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶"><a href="#12-ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶" class="headerlink" title="12. ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶"></a>12. ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶</h3><ul><li>è‹¥å¯¹è±¡æ— æ³•å“åº”æŸä¸ªé€‰æ‹©å­, åˆ™è¿›å…¥æ¶ˆæ¯è½¬å‘æµç¨‹.</li><li>é€šè¿‡è¿è¡ŒæœŸçš„åŠ¨æ€æ–¹æ³•è§£æåŠŸèƒ½, æˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦ç”¨åˆ°æŸä¸ªæ–¹æ³•æ—¶å†è®²å…¶åŠ å…¥ç±»ä¸­.</li><li>å¯¹è±¡å¯ä»¥æŠŠå…¶æ— æ³•è§£è¯»çš„æŸäº›é€‰æ‹©å­è½¬äº¤ç»™å…¶ä»–å¯¹è±¡æ¥å¤„ç†.</li><li>ç»è¿‡ä¸Šè¿°ä¸¤æ­¥å, å¦‚æœè¿˜æ˜¯æ²¡æœ‰åŠæ³•å¤„ç†é€‰æ‹©å­, é‚£å°±å¯åŠ¨å®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶.</li></ul><p><br></p><hr><h3 id="14-ç†è§£â€ç±»å¯¹è±¡â€çš„ç”¨æ„"><a href="#14-ç†è§£â€ç±»å¯¹è±¡â€çš„ç”¨æ„" class="headerlink" title="14. ç†è§£â€ç±»å¯¹è±¡â€çš„ç”¨æ„"></a>14. ç†è§£â€ç±»å¯¹è±¡â€çš„ç”¨æ„</h3><p>OC æœ‰ä¸ªç‰¹æ®Šç±»å‹ <font color="#00fffff">id</font> æŒ‡ä»£ä»»æ„çš„ OC å¯¹è±¡ç±»å‹. ä¸€èˆ¬æƒ…å†µä¸‹,æ¶ˆæ¯è½¬å‘ç»™äº† æ­¤ id çš„å¯¹è±¡, ä½†ä¸çŸ¥å…¶å…·ä½“ç±»å‹æ˜¯å¦èƒ½å“åº”. æˆ‘ä»¬çŸ¥é“å¦‚æœå‘æŸæ˜ç¡®ç±»å‹å‘é€äº†æ— æ³•è§£è¯»çš„æ¶ˆæ¯, é‚£ä¹ˆå°±ä¼šäº§ç”Ÿè­¦å‘Šä¿¡æ¯, è€Œ <font color="#00fffff">id</font>ç±»å‹è®©ç¼–è¯‘å™¨å‡å®šå…¶èƒ½å“åº”æ‰€æœ‰æ¶ˆæ¯, ç•™å¾…åç»­â€åœ¨è¿è¡ŒæœŸæ£€è§†å¯¹è±¡ç±»å‹â€,çœ‹æ˜¯å¦èƒ½å¤Ÿå“åº”å…¶æ–¹æ³•.</p><ul><li>æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ Class å¯¹è±¡çš„æŒ‡é’ˆ, ç”¨ä»¥è¡¨æ˜å…¶ç±»å‹, è€Œè¿™äº› Class å¯¹è±¡åˆ™æ„æˆäº†ç±»çš„ç»§æ‰¿ä½“ç³».</li><li>å¦‚æœå¯¹è±¡ç±»å‹æ— æ³•åœ¨ç¼–è¯‘æœŸç¡®å®š,é‚£ä¹ˆä¹…åº”è¯¥å®ç”¨ç±»å‹ä¿¡æ¯æŸ¥è¯¢æ–¹æ³•æ¥åˆ¤æ–­ <code>isKindOfClass</code>â€¦</li><li>å°½é‡å®ç”¨ç±»å‹ä¿¡æ¯æŸ¥è¯¢æ–¹æ³•æ¥ç¡®å®šå¯¹è±¡ç±»å‹, è€Œä¸è¦ç›´æ¥æ¯”è¾ƒç±»å¯¹è±¡, å› ä¸ºæŸäº›å¯¹è±¡å¯èƒ½å®ç°äº†æ¶ˆæ¯è½¬å‘åŠŸèƒ½.</li></ul><hr><p><br></p><p>æœ¬ç¯‡æ–‡ç« å‚è€ƒæ‘˜è‡ª <font color="#B8860B">Effective Objective-C 2.0 ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•</font></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸€äº›åŸºæœ¬ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#ä¸€äº›åŸºæœ¬ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;ä¸€äº›åŸºæœ¬ä¿¡æ¯&quot;&gt;&lt;/a&gt;ä¸€äº›åŸºæœ¬ä¿¡æ¯&lt;/h2&gt;&lt;h3 id=&quot;1-å†…å­˜ç›¸å…³&quot;&gt;&lt;a href=&quot;#1-å†…å­˜ç›¸å…³&quot; class=&quot;headerlink&quot; title=&quot;1. å†…å­˜ç›¸å…³&quot;&gt;&lt;/a&gt;1. å†…å­˜ç›¸å…³&lt;/h3&gt;&lt;p&gt;åˆ†é…åœ¨å †ä¸­çš„å†…å­˜å¿…é¡»ç›´æ¥ç®¡ç†, è€Œåˆ†é…åœ¨æ ˆä¸­çš„ç”¨äºä¿å­˜å˜é‡çš„å†…å­˜åˆ™ä¼šåœ¨å…¶æ ˆå¼¹å‡ºæ—¶è‡ªåŠ¨æ¸…ç†.&lt;br&gt;    Objective-Cå°†å †å†…å­˜ç®¡ç†æŠ½è±¡å‡ºæ¥äº†. ä¸éœ€è¦ç”¨mallocåŠfreeæ¥åˆ†é…æˆ–é‡Šæ”¾å¯¹è±¡æ‰€å å†…å­˜. Objective-Cè¿è¡ŒæœŸç¯å¢ƒæŠŠè¿™éƒ¨åˆ†å·¥ä½œæŠ½è±¡ä¸ºä¸€å¥—å†…å­˜ç®¡ç†æ¡†æ¶-â€œå¼•ç”¨è®¡æ•°â€&lt;/p&gt;
&lt;p&gt;åœ¨OCä¸­, æœ‰æ—¶ä¼šé‡åˆ°å®šä¹‰é‡Œä¸å«*çš„å˜é‡, å¯èƒ½ä¼šä½¿ç”¨&lt;code&gt;æ ˆç©ºé—´&lt;/code&gt;. è¿™äº›å˜é‡æ‰€ä¿å­˜çš„ä¸æ˜¯Objective-Cå¯¹è±¡, æ¯”å¦‚CoreGraphicsä¸­çš„CGRect.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;2-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#2-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;2. åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶&quot;&gt;&lt;/a&gt;2. åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶&lt;/h3&gt;&lt;p&gt;è€Œæ˜¯é‡‡ç”¨å‘å‰å£°æ˜(forward declaring)&lt;br&gt;å‡å°‘ç±»çš„ä½¿ç”¨è€…, æ‰€éœ€å¼•å…¥çš„å¤´æ–‡ä»¶æ•°é‡,å‡å°‘ç¼–è¯‘æ—¶é—´.&lt;br&gt;ä¹Ÿèƒ½è§£å†³ä¸¤ä¸ªç±»äº’ç›¸å¼•ç”¨çš„é—®é¢˜&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://www.lydsnm.top/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æ•´ç†ä¸‹Swiftä¸Objective-Cçš„ä¸€äº›ä¸åŒ</title>
    <link href="http://www.lydsnm.top/2016/08/23/%E7%AE%80%E5%8D%95%E6%95%B4%E7%90%86Swift%E4%B8%8EObjective-C%E7%9A%84%E4%B8%8D%E5%90%8C/"/>
    <id>http://www.lydsnm.top/2016/08/23/ç®€å•æ•´ç†Swiftä¸Objective-Cçš„ä¸åŒ/</id>
    <published>2016-08-22T16:00:00.000Z</published>
    <updated>2018-03-04T15:40:14.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><ul><li>åœ¨OCä¸­å¯¹ä»£ç è¿›è¡Œé€»è¾‘ç»„ç»‡ç”¨çš„æ˜¯#pragma mark - , ç”Ÿæˆåˆ†å‰²çº¿<br>è€Œåœ¨swiftä¸­æœ‰äº†ä¸€äº›æ–°çš„è¯­æ³•<br>å¦‚: <code>//MARK:</code> <code>//FIXME</code> <code>TODO:</code></li></ul><a id="more"></a><p><code>//MARK: -</code> ç”Ÿæˆåˆ†å‰²çº¿</p><p><code>//MARK:</code> è¯´æ˜</p><ul><li>Swiftä¸­å¯¹ç±»è¿›è¡Œæ‰©å±•<br>OCä¸­é‡‡ç”¨çš„æ˜¯åˆ†ç±», è€ŒSwiftä¸­æ²¡æœ‰åˆ†ç±», ç›¸å¯¹åº”çš„åªæœ‰æ‰©å±•(<code>Extensions</code>)<br>ä»¥UIViewä¸ºä¾‹ , æ–°å»ºUIView+Ext.swift</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import Foundation</span><br><span class="line">import <span class="built_in">UIKit</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">extension <span class="built_in">UIView</span> &#123;</span><br><span class="line">    public var x: <span class="built_in">CGFloat</span>&#123;</span><br><span class="line">        get&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame.origin.x</span><br><span class="line">        &#125;</span><br><span class="line">        set&#123;</span><br><span class="line">            var r = <span class="keyword">self</span>.frame</span><br><span class="line">            r.origin.x = newValue</span><br><span class="line">            <span class="keyword">self</span>.frame = r</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ChangeLog"><a href="#ChangeLog" class="headerlink" title="ChangeLog"></a>ChangeLog</h2><p>2016-12-3 åŒºåˆ«å¤ªå¤šï¼Œæ”¾å¼ƒï¼Œå½“æ–°å­¦ä¸€é—¨è¯­è¨€å§ï¼Œæ„Ÿè§‰è¿˜å¿«äº›ï¼ŒğŸ˜„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŒºåˆ«&quot;&gt;&lt;a href=&quot;#åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;åŒºåˆ«&quot;&gt;&lt;/a&gt;åŒºåˆ«&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;åœ¨OCä¸­å¯¹ä»£ç è¿›è¡Œé€»è¾‘ç»„ç»‡ç”¨çš„æ˜¯#pragma mark - , ç”Ÿæˆåˆ†å‰²çº¿&lt;br&gt;è€Œåœ¨swiftä¸­æœ‰äº†ä¸€äº›æ–°çš„è¯­æ³•&lt;br&gt;å¦‚: &lt;code&gt;//MARK:&lt;/code&gt; &lt;code&gt;//FIXME&lt;/code&gt; &lt;code&gt;TODO:&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="Swift" scheme="http://www.lydsnm.top/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>é˜¶æ®µæ€»ç»“</title>
    <link href="http://www.lydsnm.top/2016/08/23/%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93/"/>
    <id>http://www.lydsnm.top/2016/08/23/é˜¶æ®µæ€»ç»“/</id>
    <published>2016-08-22T16:00:00.000Z</published>
    <updated>2018-01-02T13:49:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>8æœˆ</p><p>Swiftè¿˜æ˜¯åœ¨å­¦ä¹ ä¸­,å¯èƒ½ä¼šæç½®ä¸€æ®µæ—¶é—´. åŸºæœ¬è¯­æ³•æ˜¯äº†è§£äº†, åœ¨äº†è§£è¿‡ç¨‹ä¹Ÿå‘ç°æŸäº›è¯­æ³•ç¡®å®å’Œçœ‹åˆ°çš„èµ„æ–™ä¸åŒ, æœ‰äººå¼€ç©ç¬‘è¯´, æ¯è¿‡ä¸€æ®µæ—¶é—´å°±å¥½åƒæ˜¯å­¦ä¸€é—¨æ–°çš„è¯­è¨€.ğŸ˜</p><a id="more"></a><p>ä½†æ˜¯ä»¥ç›®å‰çš„Swiftè¯­è¨€çš„çŠ¶æ€æ¥è¯´, ç¡®å®ä¸å¤ªé€‚åˆä½œä¸ºæŸäº›å…¬å¸çš„ä¸»åŠ›å¼€å‘è¯­è¨€<br>å› æ­¤ä¹‹åçš„æ¯”ä¾‹ä¼šå‡å°‘, ç»§ç»­OC.</p><p>SwiftåŒ…æ‹¬ç½‘ç»œåº“ç­‰ç­‰, éƒ½è¦ç†Ÿæ‚‰, å¤´ç–¼.<br>åç»­ä¼šæŠ½ç©ºæ›´æ–°Swiftè¯­è¨€çš„ç›¸å…³çŸ¥è¯†æ•´ç†, ä¹Ÿæ˜¯æ–¹ä¾¿è‡ªå·±ä¹‹åçš„æŸ¥é˜…~~. </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;8æœˆ&lt;/p&gt;
&lt;p&gt;Swiftè¿˜æ˜¯åœ¨å­¦ä¹ ä¸­,å¯èƒ½ä¼šæç½®ä¸€æ®µæ—¶é—´. åŸºæœ¬è¯­æ³•æ˜¯äº†è§£äº†, åœ¨äº†è§£è¿‡ç¨‹ä¹Ÿå‘ç°æŸäº›è¯­æ³•ç¡®å®å’Œçœ‹åˆ°çš„èµ„æ–™ä¸åŒ, æœ‰äººå¼€ç©ç¬‘è¯´, æ¯è¿‡ä¸€æ®µæ—¶é—´å°±å¥½åƒæ˜¯å­¦ä¸€é—¨æ–°çš„è¯­è¨€.ğŸ˜&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="è®¡åˆ’" scheme="http://www.lydsnm.top/tags/%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>Photos Frameworkè®°å½•</title>
    <link href="http://www.lydsnm.top/2016/08/22/Photos%20Framework%E8%AE%B0%E5%BD%95/"/>
    <id>http://www.lydsnm.top/2016/08/22/Photos Frameworkè®°å½•/</id>
    <published>2016-08-21T16:00:00.000Z</published>
    <updated>2018-03-04T15:30:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>å‡ ä¸ªæ¦‚å¿µæ˜¯æ¥è§¦Photoséœ€è¦äº†è§£çš„.</p><h2 id="1-PHAsset-ã€PHAssetCollectionã€PHCollectionList"><a href="#1-PHAsset-ã€PHAssetCollectionã€PHCollectionList" class="headerlink" title="1. PHAsset ã€PHAssetCollectionã€PHCollectionList"></a>1. PHAsset ã€PHAssetCollectionã€PHCollectionList</h2><p><strong>PHAsset</strong> ã€<strong>PHAssetCollection</strong>ã€<strong>PHCollectionList</strong> æ˜¯Photosæ¡†æ¶ä¸­çš„æ¨¡å‹ç±»ï¼ŒPHAssetç±»æ˜¯æ•°æ®æ¨¡å‹ï¼Œæè¿°å›¾ç‰‡æˆ–è€…è§†é¢‘æ–‡ä»¶æ•°æ®ï¼›PHAssetCollectionæè¿°äº†åŒ…æ‹¬ç›¸å†Œã€momentsã€æ™ºèƒ½ç›¸å†Œä»¥åŠå…±äº«ç…§ç‰‡æµç­‰ä¸€ç³»åˆ—å›¾ç‰‡æˆ–è€…è§†é¢‘æ–‡ä»¶çš„é›†åˆçš„å…ƒæ•°æ®ï¼›PHCollectionListæ˜¯ä¸€ç»„èµ„æºé›†åˆï¼Œå¯èƒ½æ˜¯ä¸€ç»„Assetsï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ç»„collection<br><br></p><h3 id="1-1-PHAsset-å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®"><a href="#1-1-PHAsset-å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®" class="headerlink" title="1.1 PHAsset: å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®."></a>1.1 PHAsset: <strong>å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®.</strong></h3><p>è¿™äº›å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶å¯èƒ½åœ¨æ‰‹æœºå†…, æˆ–è€…åªå­˜åœ¨iCloud(å½“å¼€å¯äº†iCloudç…§ç‰‡å›¾ç‰‡åŠŸèƒ½ä¸Šä¼ åˆ°iCloudäº†)ä¸­,<br>ç›¸æ¯”ä»¥å‰çš„ALAsset,æä¾›äº†æ›´å¤šçš„èµ„æºä¿¡æ¯.</p><p>æœ‰å‡ ä¸ªè¦ç‚¹</p><blockquote><ul><li>éœ€è¦ä½¿ç”¨[PHAsset fetchAssetâ€¦]ç³»åˆ—ç±»æ–¹æ³•è·å–.</li><li>PHAssetå¯¹è±¡åªåŒ…å«åŸæ•°æ®, ä¸åŒ…å«å›¾ç‰‡æˆ–è§†é¢‘çš„æ•°æ®. è¦å›¾ç‰‡å’Œè§†é¢‘æ•°æ®, éœ€è¦ä½¿ç”¨PHImageManageråŠ è½½<a id="more"></a></li></ul></blockquote><p>é‡è¦çš„å±æ€§:</p><blockquote><ul><li><code>mediaType</code> : èµ„æºç±»å‹  å›¾ç‰‡/éŸ³é¢‘/è§†é¢‘</li><li><code>mediaSubtypes</code> : å…¨æ™¯å›¾ã€HDRå›¾ç‰‡ã€å±å¹•æˆªå›¾ã€live Photo</li><li><code>Favorite</code> : æ ‡è®°èµ„æºæ˜¯å¦è¢«ç”¨æˆ·æ ‡ä¸ºâ€æ”¶è—â€</li><li><code>hidden</code> : æ˜¯å¦è¢«ç”¨æˆ·è®¾ç½®ä¸ºéšè—</li><li><code>representsBurst</code> å’Œ <code>burstSelectionTypes</code>: å¯¹äºä¸€ä¸ªèµ„æºï¼Œå¦‚æœå…¶ PHAsset çš„ representsBurst å±æ€§ä¸º trueï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªèµ„æºæ˜¯ä¸€ç³»åˆ—è¿æ‹ç…§ç‰‡ä¸­çš„ä»£è¡¨ç…§ç‰‡ (å¤šå¼ ç…§ç‰‡æ˜¯åœ¨ç”¨æˆ·æŒ‰ä½å¿«é—¨æ—¶æ‹æ‘„çš„)ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªå±æ€§æ˜¯ burstIdentifierï¼Œå¦‚æœæƒ³è¦è·å–è¿æ‹ç…§ç‰‡ä¸­çš„å‰©ä½™çš„å…¶ä»–ç…§ç‰‡ï¼Œå¯ä»¥é€šè¿‡å°†è¿™ä¸ªå€¼ä¼ å…¥ fetchAssetsWithBurstIdentifier(â€¦) æ–¹æ³•æ¥è·å–ã€‚ç”¨æˆ·å¯ä»¥åœ¨è¿æ‹çš„ç…§ç‰‡ä¸­åšæ ‡è®°ï¼›æ­¤å¤–ï¼Œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨ç”¨å„ç§è¯•æ¢æ¥æ ‡è®°ç”¨æˆ·å¯èƒ½ä¼šé€‰æ‹©çš„æ½œåœ¨ä»£è¡¨ç…§ç‰‡ã€‚è¿™ä¸ªå…ƒæ•°æ®æ˜¯å¯ä»¥é€šè¿‡ PHAsset çš„ burstSelectionTypes å±æ€§æ¥è®¿é—®ã€‚è¿™ä¸ªå±æ€§æ˜¯ç”¨ä¸‰ä¸ªå¸¸é‡ç»„æˆçš„ä½æ©ç ï¼š.UserPick è¡¨ç¤ºç”¨æˆ·æ‰‹åŠ¨æ ‡è®°çš„èµ„æºï¼Œ.AutoPick è¡¨ç¤ºç”¨æˆ·å¯èƒ½æ ‡è®°çš„æ½œåœ¨èµ„æºï¼Œ.None è¡¨ç¤ºæ²¡æœ‰æ ‡è®°çš„èµ„æºã€‚</li></ul></blockquote><p><br></p><ul><li><code>sourceType</code> : èµ„æºå¯ä»¥æ¥æºäºç”¨æˆ·ç›¸å†Œã€iCloudã€iTunesåŒæ­¥</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PHAssetSourceTypeNone, </span><br><span class="line">PHAssetSourceTypeUserLibrary,</span><br><span class="line">PHAssetSOurceTypeCloudShared,</span><br><span class="line">PHAssetSourceTypeiTunesSynced</span><br></pre></td></tr></table></figure><ul><li>localIdentifier</li></ul><p>Photosæ¡†æ¶ä¸­çš„æ ¹ç±»PHObjectåªæœ‰ä¸€ä¸ªå…¬å¼€æ¥å£localIdentifier, æ˜¯å¯¹è±¡çš„<em>å”¯ä¸€æ ‡è¯†ç¬¦</em>.PHObjectå®ç°äº†<code>-isEqual</code>å’Œ<code>-hash</code>æ–¹æ³•. å¯ä»¥ç›´æ¥ä½¿ç”¨localIdentifierå±æ€§å¯¹PHObjectåŠå…¶å­ç±»è¿­ä»£è¿›è¡Œå¯¹æ¯”</p><h3 id="1-2-PHAssetCollection"><a href="#1-2-PHAssetCollection" class="headerlink" title="1.2 PHAssetCollection"></a>1.2 PHAssetCollection</h3><p>PHAssetColletionæ˜¯ä¸€ç»„æœ‰åºçš„èµ„æºé›†åˆ, åŒ…å«ç›¸å†Œ,æ™ºèƒ½ç›¸å†Œ,ç…§ç‰‡æµç­‰ç­‰.<br><br><br><br></p><h3 id="1-3-PHCollectionList"><a href="#1-3-PHCollectionList" class="headerlink" title="1.3 PHCollectionList"></a>1.3 PHCollectionList</h3><p>ä¸€ç»„æœ‰åºçš„èµ„æºé›†åˆçš„é›†åˆ</p><h2 id="2-è·å–æ•°æ®"><a href="#2-è·å–æ•°æ®" class="headerlink" title="2. è·å–æ•°æ®"></a>2. è·å–æ•°æ®</h2><p>PHAsset ã€PHAssetCollectionã€PHCollectionList</p><h3 id="2-1-PHAssetè·å–PHAssetçš„ç±»æ–¹æ³•"><a href="#2-1-PHAssetè·å–PHAssetçš„ç±»æ–¹æ³•" class="headerlink" title="2.1 PHAssetè·å–PHAssetçš„ç±»æ–¹æ³•"></a>2.1 PHAssetè·å–PHAssetçš„ç±»æ–¹æ³•</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ fetchAssetsInAssetCollection:options:</span><br><span class="line">+ fetchAssetsWithMediaType:options:</span><br><span class="line">+ fetchAssetsWithLocalIdentifiers:options:</span><br><span class="line">+ fetchKeyAssetsInAssetCollection:options:</span><br><span class="line">+ fetchAssetsWithOptions:</span><br><span class="line">+ fetchAssetsWithBurstIdentifier:options:</span><br><span class="line">+ fetchAssetsWithALAssetURLs:options:</span><br></pre></td></tr></table></figure><ul><li>PHFetchOptions</li></ul><p>1-predicate: é€‰æ‹©çš„çº¦æŸæ¡ä»¶</p><p>2-sortDescriptors å¯¹ç»“æœè¿›è¡Œæ’åº</p><p>3-includeHiddenAssets è·å–ç»“æœæ˜¯å¦åŒ…å«è¢«éšè—çš„èµ„æº</p><p>4-includeAllBurstAssets è·å–ç»“æœæ˜¯å¦åŒ…å«è”æ’èµ„æº</p><p>å±æ€§: </p><blockquote><ol><li>predicate: é€‰æ‹©çš„çº¦æŸæ¡ä»¶</li><li>sortDescriptors å¯¹ç»“æœè¿›è¡Œæ’åº</li><li>includeHiddenAssets è·å–ç»“æœæ˜¯å¦åŒ…å«è¢«éšè—çš„èµ„æº</li><li>includeAllBurstAssets è·å–ç»“æœæ˜¯å¦åŒ…å«è¿æ‹èµ„æº</li></ol></blockquote><p>ç¤ºä¾‹:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">PHFetchOptions *options = [[PHFetchOptions alloc] init];</span><br><span class="line">options.wantsIncrementalChangeDetails = <span class="literal">YES</span>;</span><br><span class="line">options.includeAllBurstAssets = <span class="literal">YES</span>;</span><br><span class="line">options.includeHiddenAssets = <span class="literal">YES</span>;</span><br><span class="line"><span class="comment">// åªå–å›¾ç‰‡</span></span><br><span class="line">options.predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"mediaType == %d"</span>,PHAssetMediaTypeImage];</span><br><span class="line"><span class="comment">// æŒ‰æ—¶é—´æ’åº</span></span><br><span class="line">options.sortDescriptors = @[[<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"creationDate"</span> ascending:<span class="literal">YES</span>]];</span><br><span class="line"></span><br><span class="line">PHFetchResult *albums = [PHAssetCollection fetchAssetCollectionsWithType:PHAssetCollectionTypeSmartAlbum subtype:PHAssetCollectionSubtypeSmartAlbumAllHidden options:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure><ul><li>PHFetchResult</li></ul><p>ç±»ä¼¼æ•°ç»„, å­˜å‚¨è·å–åˆ°çš„assetå¯¹è±¡é›†åˆ.<br>æ“ä½œæ–¹å¼ä¹Ÿå’ŒNSArrayæ•°ç»„ç±»ä¼¼</p><h2 id="3-ä¿®æ”¹æ•°æ®-å†™å…¥ç›¸å†Œ"><a href="#3-ä¿®æ”¹æ•°æ®-å†™å…¥ç›¸å†Œ" class="headerlink" title="3. ä¿®æ”¹æ•°æ®, å†™å…¥ç›¸å†Œ"></a>3. ä¿®æ”¹æ•°æ®, å†™å…¥ç›¸å†Œ</h2><p>// â€¦. å¾…å†™</p><h3 id="3-1-PHPhotoLibrary"><a href="#3-1-PHPhotoLibrary" class="headerlink" title="3.1 PHPhotoLibrary"></a>3.1 PHPhotoLibrary</h3><p>ç³»ç»Ÿä¸­PHPhotoLibraryå•ä¾‹å¯¹è±¡ æ˜¯ç”¨æ¥ç»´æŠ¤ç”¨æˆ·ç…§ç‰‡åº“ã€‚å½“æˆ‘ä»¬éœ€è¦ç¼–è¾‘èµ„æºå¯¹è±¡å…ƒæ•°æ®ã€èµ„æºå†…å®¹ã€æˆ–è€…æ’å…¥æ–°çš„èµ„æºå¯¹è±¡ç­‰ï¼Œéƒ½å¯ä»¥å€ŸåŠ©é€šè¿‡PHPhotoLibraryå•ä¾‹å¯¹è±¡æ‰§è¡Œblockï¼Œblockä¸­åˆ›å»ºæˆ‘ä»¬æŒ‡å®šçš„è¯·æ±‚å¯¹è±¡(æ¯”å¦‚PHAssetChangeRequest,PHAssetCollectionChangeRequest, PHCollectionListChangeRequestçš„å¯¹è±¡)ã€‚photoLibraryDidChange(changeInfo: PHChange!)ä¸­è¿›è¡Œ.</p><p><br></p><h2 id="4-è¯·æ±‚å›¾ç‰‡æ•°æ®"><a href="#4-è¯·æ±‚å›¾ç‰‡æ•°æ®" class="headerlink" title="4 è¯·æ±‚å›¾ç‰‡æ•°æ®"></a>4 è¯·æ±‚å›¾ç‰‡æ•°æ®</h2><h3 id="4-1-PHImageManager"><a href="#4-1-PHImageManager" class="headerlink" title="4.1 PHImageManager"></a>4.1 PHImageManager</h3><p>è¯·æ±‚å›¾ç‰‡ä¸»è¦ç”¨äº†<code>PHImageManager</code>, <code>[PHImageManager defaultManager]</code>å…¶æä¾›äº†åŠ è½½å›¾ç‰‡å’Œè§†é¢‘çš„æ–¹æ³•</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚å›¾ç‰‡</span></span><br><span class="line">- requestImageForAsset:targetSize:contentMode:options:resultHandler:</span><br><span class="line">- requestImageDataForAsset:options:resultHandler:</span><br><span class="line"><span class="comment">// è¯·æ±‚è§†é¢‘</span></span><br><span class="line">- requestPlayerItemForVideo:options:resultHandler:</span><br><span class="line">- requestExportSessionForVideo:options:exportPreset:resultHandler:</span><br><span class="line">- requestAVAssetForVideo:options:resultHandler:</span><br></pre></td></tr></table></figure><p><br></p><h3 id="4-2-è¯·æ±‚å›¾ç‰‡"><a href="#4-2-è¯·æ±‚å›¾ç‰‡" class="headerlink" title="4.2 è¯·æ±‚å›¾ç‰‡"></a>4.2 è¯·æ±‚å›¾ç‰‡</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> PHImageRequestID requestID = <span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">CGFloat</span> scale = [<span class="built_in">UIScreen</span> mainScreen].scale;</span><br><span class="line">    <span class="built_in">CGFloat</span> width = MIN([<span class="built_in">UIScreen</span> mainScreen].bounds.size.width, <span class="number">500</span>);</span><br><span class="line">    <span class="keyword">if</span> (requestID &gt;= <span class="number">1</span> &amp;&amp; size.width / width == scale) &#123;</span><br><span class="line">        [[PHCachingImageManager defaultManager] cancelImageRequest:requestID];</span><br><span class="line">    &#125;</span><br><span class="line">    PHImageRequestOptions *option = [[PHImageRequestOptions alloc] init];</span><br><span class="line">    option.deliveryMode = PHImageRequestOptionsDeliveryModeOpportunistic;</span><br><span class="line">    <span class="comment">//    option.resizeMode = PHImageRequestOptionsResizeModeFast;</span></span><br><span class="line">    option.resizeMode = resizeMode;</span><br><span class="line">    </span><br><span class="line">    requestID = [[PHCachingImageManager defaultManager] requestImageForAsset:asset targetSize:size contentMode:PHImageContentModeAspectFill options:option resultHandler:^(<span class="built_in">UIImage</span> * _Nullable result, <span class="built_in">NSDictionary</span> * _Nullable info) &#123;</span><br><span class="line">        <span class="keyword">if</span> (![[info objectForKey:PHImageResultIsDegradedKey] boolValue]) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                completion(result,info);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¯¥æ–¹æ³•åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€Œä¸” Photos åº“å¯èƒ½ä¼šå¤šæ¬¡æ‰§è¡Œ resultHandler å—ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå°±æ˜¯å›¾åƒéœ€è¦ä» iCloud ä¸­ä¸‹è½½çš„æƒ…å†µã€‚åœ¨ requestImageForAsset è¿”å›çš„å†…å®¹ä¸­ï¼Œä¸€å¼€å§‹çš„é‚£ä¸€æ¬¡è¯·æ±‚ä¸­ä¼šè¿”å›ä¸€ä¸ªå°å°ºå¯¸çš„å›¾åƒç‰ˆæœ¬ï¼Œå½“é«˜æ¸…å›¾åƒè¿˜åœ¨ä¸‹è½½æ—¶ï¼Œå¼€å‘è€…å¯ä»¥é¦–å…ˆç»™ç”¨æˆ·å±•ç¤ºè¿™ä¸ªä½æ¸…çš„å›¾åƒç‰ˆæœ¬ï¼Œç„¶å block åœ¨å¤šæ¬¡è°ƒç”¨åï¼Œæœ€ç»ˆä¼šè¿”å›é«˜æ¸…çš„åŸå›¾ã€‚è‡³äºå½“å‰è¿”å›çš„å›¾åƒæ˜¯å“ªä¸ªç‰ˆæœ¬çš„å›¾åƒï¼Œå¯ä»¥é€šè¿‡ block è¿”å›çš„ NSDictionary info ä¸­è·çŸ¥ï¼ŒPHImageResultIsDegradedKey è¡¨ç¤ºå½“å‰è¿”å›çš„ UIImage æ˜¯ä½æ¸…å›¾ã€‚æ‰€ä»¥éœ€è¦åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦æ˜¯å·²è·å–åˆ°æˆ‘ä»¬éœ€è¦çš„å›¾ç‰‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‡ ä¸ªæ¦‚å¿µæ˜¯æ¥è§¦Photoséœ€è¦äº†è§£çš„.&lt;/p&gt;
&lt;h2 id=&quot;1-PHAsset-ã€PHAssetCollectionã€PHCollectionList&quot;&gt;&lt;a href=&quot;#1-PHAsset-ã€PHAssetCollectionã€PHCollectionList&quot; class=&quot;headerlink&quot; title=&quot;1. PHAsset ã€PHAssetCollectionã€PHCollectionList&quot;&gt;&lt;/a&gt;1. PHAsset ã€PHAssetCollectionã€PHCollectionList&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;PHAsset&lt;/strong&gt; ã€&lt;strong&gt;PHAssetCollection&lt;/strong&gt;ã€&lt;strong&gt;PHCollectionList&lt;/strong&gt; æ˜¯Photosæ¡†æ¶ä¸­çš„æ¨¡å‹ç±»ï¼ŒPHAssetç±»æ˜¯æ•°æ®æ¨¡å‹ï¼Œæè¿°å›¾ç‰‡æˆ–è€…è§†é¢‘æ–‡ä»¶æ•°æ®ï¼›PHAssetCollectionæè¿°äº†åŒ…æ‹¬ç›¸å†Œã€momentsã€æ™ºèƒ½ç›¸å†Œä»¥åŠå…±äº«ç…§ç‰‡æµç­‰ä¸€ç³»åˆ—å›¾ç‰‡æˆ–è€…è§†é¢‘æ–‡ä»¶çš„é›†åˆçš„å…ƒæ•°æ®ï¼›PHCollectionListæ˜¯ä¸€ç»„èµ„æºé›†åˆï¼Œå¯èƒ½æ˜¯ä¸€ç»„Assetsï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ç»„collection&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-1-PHAsset-å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®&quot;&gt;&lt;a href=&quot;#1-1-PHAsset-å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;1.1 PHAsset: å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®.&quot;&gt;&lt;/a&gt;1.1 PHAsset: &lt;strong&gt;å­˜å‚¨è·å–å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®.&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;è¿™äº›å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶å¯èƒ½åœ¨æ‰‹æœºå†…, æˆ–è€…åªå­˜åœ¨iCloud(å½“å¼€å¯äº†iCloudç…§ç‰‡å›¾ç‰‡åŠŸèƒ½ä¸Šä¼ åˆ°iCloudäº†)ä¸­,&lt;br&gt;ç›¸æ¯”ä»¥å‰çš„ALAsset,æä¾›äº†æ›´å¤šçš„èµ„æºä¿¡æ¯.&lt;/p&gt;
&lt;p&gt;æœ‰å‡ ä¸ªè¦ç‚¹&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦ä½¿ç”¨[PHAsset fetchAssetâ€¦]ç³»åˆ—ç±»æ–¹æ³•è·å–.&lt;/li&gt;
&lt;li&gt;PHAssetå¯¹è±¡åªåŒ…å«åŸæ•°æ®, ä¸åŒ…å«å›¾ç‰‡æˆ–è§†é¢‘çš„æ•°æ®. è¦å›¾ç‰‡å’Œè§†é¢‘æ•°æ®, éœ€è¦ä½¿ç”¨PHImageManageråŠ è½½
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="Photos" scheme="http://www.lydsnm.top/tags/Photos/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„mvp,mvvmç†è§£</title>
    <link href="http://www.lydsnm.top/2016/03/25/%E6%88%91%E7%9A%84mvp_mvvm%E7%90%86%E8%A7%A3/"/>
    <id>http://www.lydsnm.top/2016/03/25/æˆ‘çš„mvp_mvvmç†è§£/</id>
    <published>2016-03-24T16:00:00.000Z</published>
    <updated>2018-03-04T15:41:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ§åˆ¶å™¨Controlleræ˜¯appçš„â€œèƒ¶æ°´ä»£ç â€ï¼šåè°ƒæ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„æ‰€æœ‰äº¤äº’, è¿‡äºè‡ƒè‚¿ã€‚è€Œä½œä¸ºå¯¹æ¯”çš„ Modelè¿‡äºè½»é‡çº§. ç­‰ç­‰åŸå› , åŸæœ¬çš„mvcç¼ºé™·ä½“ç°</p><h5 id="mvvm"><a href="#mvvm" class="headerlink" title="mvvm"></a>mvvm</h5><p>Model-View-ViewModel<br>åœ¨mvvmä¸­, viewå’Œview controlleræ­£å¼è”ç³»åœ¨ä¸€èµ·, å¯ä»¥è§†ä¸ºä¸€ä¸ªç»„ä»¶,<br>è§†å›¾viewä»ç„¶ä¸èƒ½ç›´æ¥å¼•ç”¨æ¨¡å‹model, controllerä¹Ÿä¸èƒ½.ä½†èƒ½å¼•ç”¨è§†å›¾æ¨¡å‹view Model<br>view Modelé€‚åˆæ”¾ç½®ç”¨æˆ·è¾“å…¥éªŒè¯é€»è¾‘,è§†å›¾æ˜¾ç¤ºé€»è¾‘, å‘èµ·ç½‘ç»œè¯·æ±‚å’Œå…¶ä»–å„ç§å„ç§çš„ä»£ç .<br>åˆšå¼€å§‹ä½¿ç”¨mvvmçš„æœ€å¥½æ–¹å¼, å¯ä»¥å¯å°†ä¸€å°éƒ¨åˆ†é€»è¾‘æ”¾å…¥è§†å›¾æ¨¡å‹, ç„¶åå½“ä½ é€æ¸ä¹ æƒ¯äºä½¿ç”¨è¿™ä¸ªèŒƒå¼çš„æ—¶å€™å†è¿ç§».</p><h5 id="mvp"><a href="#mvp" class="headerlink" title="mvp"></a>mvp</h5><p>M: é€»è¾‘Modelå±‚<br>V: è§†å›¾å±‚<br>P: protocolåè®®å±‚</p><p>Modelå±‚ç±»ä¼¼  MVVMçš„viewModel, ä¸»è¦è´Ÿè´£å­˜å‚¨æŠ½è±¡é€»è¾‘æ•°æ®, å¦å¤–Modelè¿˜æœ‰éƒ¨åˆ†å·¥ä½œå®ç°å¯¹åº”çš„åè®®å±‚åè®®. æä¾›åè®®å¯¹åº”çš„å„ç§å±æ€§ä»¥åŠæœåŠ¡.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ§åˆ¶å™¨Controlleræ˜¯appçš„â€œèƒ¶æ°´ä»£ç â€ï¼šåè°ƒæ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„æ‰€æœ‰äº¤äº’, è¿‡äºè‡ƒè‚¿ã€‚è€Œä½œä¸ºå¯¹æ¯”çš„ Modelè¿‡äºè½»é‡çº§. ç­‰ç­‰åŸå› , åŸæœ¬çš„mvcç¼ºé™·ä½“ç°&lt;/p&gt;
&lt;h5 id=&quot;mvvm&quot;&gt;&lt;a href=&quot;#mvvm&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="mvp mvvm" scheme="http://www.lydsnm.top/tags/mvp-mvvm/"/>
    
  </entry>
  
  <entry>
    <title>CocoaPodså®‰è£…å’Œä½¿ç”¨</title>
    <link href="http://www.lydsnm.top/2016/03/08/CocoaPods%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
    <id>http://www.lydsnm.top/2016/03/08/CocoaPodså®‰è£…å’Œä½¿ç”¨/</id>
    <published>2016-03-07T16:00:00.000Z</published>
    <updated>2018-03-04T15:20:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;CocoaPodsåº”è¯¥æ˜¯iOSå’ŒMacå¼€å‘ä¸­æœ€å¸¸ç”¨æœ€æœ‰åçš„ç±»åº“ç®¡ç†å·¥å…·äº†ï¼Œè¿™ç¯‡å°±æ¥æ•´ç†ä¸‹CocoaPodsçš„å®‰è£…å’Œä½¿ç”¨ã€‚<br>å¦‚æœpod update pod Setupæ…¢ è¯·ç›´æ¥è·³åˆ° <font color="10d3c4"><b>æ ‡é¢˜2.4</b></font></p><h2 id="ä¸€-CocoaPodså®‰è£…"><a href="#ä¸€-CocoaPodså®‰è£…" class="headerlink" title="ä¸€. CocoaPodså®‰è£…:"></a>ä¸€. CocoaPodså®‰è£…:</h2><h3 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h3><p>&emsp;&emsp;cocoaPodsæ˜¯ç”¨ Ruby å®ç°çš„, è¦æƒ³ä½¿ç”¨å®ƒå°±éœ€è¦æœ‰ Ruby ç¯å¢ƒ, å¹¸è¿çš„æ˜¯OS X ç³»ç»Ÿé»˜è®¤æ”¯æŒ Ruby, æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤å®‰è£… cocoaPods</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem install -n /usr/local/bin cocoapods</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;CocoaPodsæ˜¯ä»¥Ruby gemåŒ…çš„å½¢å¼è¢«å®‰è£…çš„ã€‚åœ¨å®‰è£…æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé—®æˆ‘ä»¬æ˜¯ä¸æ˜¯æ›´æ–°rakeï¼Œè¾“å…¥yå³å¯ã€‚è¿™æ˜¯å› ä¸ºrake gemåŒ…ä¼šåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­æ£€æŸ¥æ›´ç»†ï¼Œå¦‚æœæœ‰å¯ç”¨çš„æ–°ç‰ˆæœ¬å°±ä¼šå‡ºç°åˆšæ‰çš„é€‰é¡¹ã€‚<br>åœ¨å®‰è£…è¿›ç¨‹ç»“æŸçš„æ—¶å€™ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pod setup</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜ä¸€åˆ‡å®‰è£…å°±æˆåŠŸäº†ï¼<br><br></p><a id="more"></a><h3 id="2-å®‰è£…ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#2-å®‰è£…ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="2. å®‰è£…ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜:"></a>2. å®‰è£…ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜:</h3><h4 id="2-1-gem-install-cocoapods-å‘½ä»¤åŠå¤©åæ²¡ååº”"><a href="#2-1-gem-install-cocoapods-å‘½ä»¤åŠå¤©åæ²¡ååº”" class="headerlink" title="2.1 gem install cocoapods å‘½ä»¤åŠå¤©åæ²¡ååº”"></a>2.1 gem install cocoapods å‘½ä»¤åŠå¤©åæ²¡ååº”</h4><ol><li><p>é¦–å…ˆå¯ä½¿ç”¨ä»£ç†, ç»§ç»­å®‰è£…</p><p><del>2. ç”¨æ·˜å®çš„RubyGemsé•œåƒæ¥ä»£æ›¿å®˜æ–¹ç‰ˆ</del> (å·²ç»ä¸ç»´æŠ¤äº†ï¼Œæ–‡ç« æ›´æ–°äº2016-11-24)</p><p>æ‰§è¡Œä»¥ä¸‹ä»£ç :</p></li></ol><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gem sources --remove <span class="symbol">https:</span>/<span class="regexp">/rubygems.org/</span></span><br><span class="line"><span class="comment"># gem sources -a http://ruby.taobao.org/</span></span><br><span class="line">gem sources --add <span class="symbol">https:</span>/<span class="regexp">/gems.ruby-china.org/</span></span><br><span class="line">gem sources -l</span><br></pre></td></tr></table></figure><h4 id="2-2-gemç‰ˆæœ¬è¿‡è€"><a href="#2-2-gemç‰ˆæœ¬è¿‡è€" class="headerlink" title="2.2 gemç‰ˆæœ¬è¿‡è€"></a>2.2 gemç‰ˆæœ¬è¿‡è€</h4><p>&emsp;&emsp;gemæ˜¯ç®¡ç†Rubyåº“å’Œç¨‹åºçš„æ ‡å‡†åŒ…ï¼Œå¦‚æœå®ƒçš„ç‰ˆæœ¬è¿‡ä½ä¹Ÿå¯èƒ½å¯¼è‡´å®‰è£…å¤±è´¥ï¼Œè§£å†³æ–¹æ¡ˆè‡ªç„¶æ˜¯å‡çº§gemï¼Œæ‰§è¡Œä¸‹è¿°å‘½ä»¤å³å¯ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem update --system</span><br></pre></td></tr></table></figure><h4 id="2-3-pod-setup-åå¡ä½åŠå¤©ä¸ååº”"><a href="#2-3-pod-setup-åå¡ä½åŠå¤©ä¸ååº”" class="headerlink" title="2.3 pod setup åå¡ä½åŠå¤©ä¸ååº”"></a>2.3 pod setup åå¡ä½åŠå¤©ä¸ååº”</h4><p>&emsp;&emsp;å®é™…ä¸Š, è¿™æ—¶ä¹Ÿå¹¶éçœŸçš„å¡ä½äº†, åªæ˜¯pod åœ¨å®‰è£…ç¬¬ä¸‰æ–¹åº“çš„ç´¢å¼•ç›®å½•(200MB+++, è¾ƒå¤§å®¹æ˜“ä¸‹è½½å‡ºé”™).å› æ­¤æœ‰å¦‚ä¸‹æ–¹æ³•è§£å†³</p><p>1 ) æ‰‹åŠ¨ä¸‹è½½ç´¢å¼•</p><ol><li>å‰å¾€<a href="https://github.com/CocoaPods/Specs" target="_blank" rel="noopener">https://github.com/CocoaPods/Specs</a> ä¸‹è½½è¯¥ç´¢å¼•. (å¯é€šè¿‡ GitHub Desktop ä¸‹è½½)</li><li>Specs æ–‡ä»¶å¤¹æ›´å<code>master</code>ç„¶åæ‹·è¿›reposæ–‡ä»¶å¤¹ä¸‹[ç›®å½•åœ¨<code>/Users/ç”¨æˆ·å/.cocoapods/repos</code>]</li><li>å®Œå…¨é€€å‡ºç»ˆç«¯ï¼Œé‡å¯ç»ˆç«¯ï¼ŒpodåŠŸèƒ½å³å¯æ­£å¸¸ä½¿ç”¨ã€‚</li></ol><p>è§£é‡Šï¼špod setupçš„æœ¬è´¨å°±æ˜¯å°†<code>https://github.com/CocoaPods/Specsä¸Šçš„Specs</code>é¡¹ç›®cloneåˆ°<code>/Users/ç”¨æˆ·å/.cocoapods/repos</code>ç›®å½•ä¸‹ã€‚è‹¥æ­¤ç›®å½•ä¸‹å·²æœ‰Specsé¡¹ç›®ï¼Œåˆ™ä¼šå°†é¡¹ç›®æ›´æ–°åˆ°æœ€æ–°çš„çŠ¶æ€ã€‚ç”±äºSpecså¾ˆå¤§ï¼Œå®¹æ˜“å¯¼è‡´pod setupå¤±è´¥ã€‚è¿™æ—¶å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®‰è£…Specsã€‚è‹¥ç›´æ¥ä»githubä¸Šä¸‹è½½zipæ–‡ä»¶ï¼Œç”±äºç¼ºå°‘gitæ–‡ä»¶ï¼Œä¼šå¯¼è‡´cocoa podsä¸ä½¿ç”¨ã€‚è‹¥ç”¨git cloneï¼Œç”±äºæ–‡ä»¶è¿‡å¤§ï¼Œå®¹æ˜“å¯¼è‡´å¤±è´¥ã€‚ä½†æ˜¯ä½¿ç”¨GitHub Desktopè½¯ä»¶ï¼Œåˆ™ä¼šæé«˜cloneçš„æˆåŠŸç‡ï¼Œå¹¶ä¸”ä¼šç»™å‡ºcloneçš„è¿›åº¦, ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ‡æ¢åˆ°ç›®æ ‡ç›®å½•ä¸‹, æŸ¥çœ‹å…·ä½“ä¸‹è½½çš„æ–‡ä»¶å¤§å°ã€‚</p><p>2 ) Pod install æˆ– pod update å¾ˆæ…¢æ—¶, å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤å¥æ¥æ›´æ–°. è¡¨ç¤ºå¿½ç•¥å‡çº§ specs åº“ [æ­¤æ¡é€‚åˆåœ¨å·²æœ‰åº“, ä½†æœªæ›´æ–°çš„æƒ…å†µ]</p><p>å®é™…ä¸Šè¿™ä¸¤æ¡å‘½ä»¤æ˜¯å–æ¶ˆäº†repoçš„æ›´æ–°ï¼Œä»è€Œå˜å¿«äº†podçš„é€Ÿåº¦ã€‚ä½†æ˜¯ï¼Œå‡å¦‚å¼€å‘è€…æœ¬åœ°çš„repoçœŸçš„å·²ç»è¿‡æ—¶äº†ï¼ˆå°±æ˜¯ç¬¬ä¸‰æ–¹çš„åœ°å€listæœ‰ç‚¹æ—§æ—§çš„ï¼‰ï¼Œåˆ™æ— æ³•é€ƒé¿repoçš„æ›´æ–°ï¼Œæ‰€ä»¥ä½¿ç”¨è¿˜æ˜¯è¦pod repo updateï¼Œä¾ç„¶æ˜¯æ…¢çš„ä¸èƒ½å¿ã€‚</p><p>æ‰€ä»¥ï¼Œæ­¤å¤„éœ€è¦å¯¹podçš„sourceæ¢æº<br>æœ‰å¤§ç¥æä¾›äº†å‡ ä¸ªé•œåƒï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹æ³•æ¢æ‰repoçš„æº</p><p>3 ) pod repo æ¢æº</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pod repo</span><br></pre></td></tr></table></figure><p>ä¼šå‡ºç°ä»¥ä¸‹çš„å­—çœ¼:</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">- <span class="symbol">Type:</span> git (master)</span><br><span class="line">- <span class="symbol">URL:</span>  <span class="symbol">https:</span>/<span class="regexp">/github.com/</span>CocoaPods/Specs.git</span><br><span class="line">- <span class="symbol">Path:</span> /Users/donglyu/.cocoapods/repos/master</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;è¿™ä¸ªrepoè®°å½•ç€è®¸è®¸å¤šå¤šç¬¬ä¸‰æ–¹åº“çš„åœ°å€ï¼Œé»˜è®¤é€‰æ‹©äº†githubä½œä¸ºæºï¼Œå‡å¦‚å¼€å‘è€…éœ€è¦å‡çº§repoï¼Œå®é™…ä¸Šå°±æ˜¯ä»githubä¸Šé¢æŠŠä¸€ä¸ªåºå¤§æ— æ¯”çš„åœ°å€listå…‹éš†åˆ°æœ¬åœ°ä¸€ä¸ªå«ä»€ä¹ˆ .CocoaPodsä¹‹ç±»çš„éšè—æ–‡ä»¶å¤¹é‡Œé¢ã€‚<br>é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ›¿æ¢æ‰æº</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pod repo remove master</span><br><span class="line">$ pod repo add master <span class="symbol">https:</span>/<span class="regexp">/git.coding.net/hging</span><span class="regexp">/Specs.git </span></span><br><span class="line"><span class="regexp">$ pod repo update</span></span><br></pre></td></tr></table></figure><p>ç›®å‰å¯é€‰æºä¸¾ä¾‹:<br><code>source &#39;https://git.coding.net/hging/Specs.git &#39;</code><br>æ­¤æ¡ä¸å¯ç”¨çš„è¯,å¯ä»¥å†æ‰¾æ‰¾å…¶ä»–å¸¸è§çš„Gitæ‰˜ç®¡ç«™.<br>å®Œæˆäº†ä¸Šè¿°ä¸¤å¤„åœ°æ–¹æ›´æ”¹ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pod install</span><br><span class="line">$ pod update</span><br></pre></td></tr></table></figure><p>å¦‚æœæ¢æºæ–¹æ³•ä¸æˆåŠŸæˆ–è€…setup ä¸æˆåŠŸ<br>å‡ºç° <code>[!] To setup the master specs repo, please run pod setup.</code>, è¯·é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="symbol">https:</span>/<span class="regexp">/git.coding.net/</span>CocoaPods/Specs.git ~<span class="regexp">/.cocoapods/repos</span><span class="regexp">/master</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">pod setup  /</span><span class="regexp">/åŠ¡å¿…åœ¨æ‰‹åŠ¨ä¸‹è½½ä»£ç åæ‰§è¡Œä¸€æ¬¡,æ‰§è¡Œå Setup completed</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/å†æ‰§è¡Œ</span></span><br><span class="line"><span class="regexp">pod install --verbose --no-repo-update /</span><span class="regexp">/é¿å…å»æ›´æ–°äº†</span></span><br></pre></td></tr></table></figure><p><font color="#A52A2A">æ³¨æ„:</font><br>æ¯æ¬¡ç¼–å†™çš„<code>Podfile</code> ä¸­æ–‡ä»¶ä¸­éƒ½è¦ä»¥ä½ æ¢çš„æºå¼€å¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source &apos;https://git.coding.net/hging/Specs.git&apos;</span><br><span class="line">platform :ios, &apos;8.0&apos;</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><p><br></p><h2 id="2-4-é™„"><a href="#2-4-é™„" class="headerlink" title="2.4 é™„:"></a>2.4 é™„:</h2><p>&emsp;&emsp;ç”¨äº†è¿™ä¹ˆä¹…, ä¸ªäººè§‰å¾—æœ€å¥½çš„æ–¹å¼, ä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨çš„æ–¹å¼:<br>è§£å†³pod setup pod update æ—¶, ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢. ä¸”åˆæ²¡æœ‰vpnæˆ–ssä»£ç†çš„æƒ…å†µ: </p><p>å…¶å®ä¸»è¦æ…¢çš„åŸå› æ˜¯å› ä¸ºä¼šå»å®˜æ–¹githubæºæ›´æ–°å°†è¿‘200M+++çš„repo , ä¸ç„¶æ— æ³•<code>pod setup</code></p><p>å¥½æ¶ˆæ¯æ˜¯å›½å†…ç”±githubçš„repoçš„é•œåƒæº (<a href="http://git.coding.net/hging/Specs.git" target="_blank" rel="noopener">coding.net</a>). åªä¸è¿‡åšä¸€æ­¥ç§»èŠ±æ¥æœ¨<br>æ‰“å¼€ç»ˆç«¯: è¾“å…¥</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd /Users/[ä½ çš„ç”¨æˆ·å]/.cocoapods/repos</span><br><span class="line"></span><br><span class="line">git clone <span class="symbol">git:</span>/<span class="regexp">/git.coding.net/hging</span><span class="regexp">/Specs.git master</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">pod setup</span></span><br><span class="line"><span class="regexp"># ç„¶å cd åˆ°å·¥ç¨‹ä¸­, pod update</span></span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ æ¯æ¬¡æ›´æ–°repo è¿™æ ·æ“ä½œ.<br>é…åˆ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install --verbose --no-repo-update</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨.</p><hr><p><br></p><h2 id="äºŒ-ä½¿ç”¨-CocoaPods"><a href="#äºŒ-ä½¿ç”¨-CocoaPods" class="headerlink" title="äºŒ. ä½¿ç”¨ CocoaPods"></a>äºŒ. ä½¿ç”¨ CocoaPods</h2><p>å‘½ä»¤è¡Œä¸­è¾“å…¥:</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pod search JSONKit</span><br><span class="line">touch Podfile</span><br><span class="line">open -e Podfile</span><br><span class="line">platform <span class="symbol">:ios</span></span><br><span class="line"> </span><br><span class="line">pod <span class="string">'JSONKit'</span>, <span class="string">'~&gt; 1.5pre'</span></span><br><span class="line">pod install</span><br></pre></td></tr></table></figure><ul><li>Podfileä¸­å…·ä½“å†…å®¹ :</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span></span><br><span class="line"><span class="symbol">platform:</span>ios, <span class="string">'8.0'</span></span><br><span class="line"></span><br><span class="line">target <span class="string">'XXXTarget'</span> <span class="keyword">do</span></span><br><span class="line">    pod <span class="string">'AFNetworking'</span></span><br><span class="line">    pod <span class="string">'Masonry'</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä¸€äº›è¯´æ˜: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pod â€˜AFNetworkingâ€™      //ä¸æ˜¾å¼æŒ‡å®šä¾èµ–åº“ç‰ˆæœ¬ï¼Œè¡¨ç¤ºæ¯æ¬¡éƒ½è·å–æœ€æ–°ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™,  â€˜2.0â€™     //åªä½¿ç”¨2.0ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜&gt;2.0â€²     //ä½¿ç”¨é«˜äº2.0çš„ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜&gt;=2.0â€²     //ä½¿ç”¨å¤§äºæˆ–ç­‰äº2.0çš„ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜&lt;2.0â€²     //ä½¿ç”¨å°äº2.0çš„ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜&lt;=2.0â€²     //ä½¿ç”¨å°äºæˆ–ç­‰äº2.0çš„ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜~&gt;0.1.2â€²     //ä½¿ç”¨å¤§äºç­‰äº0.1.2ä½†å°äº0.2çš„ç‰ˆæœ¬ï¼Œç›¸å½“äº&gt;=0.1.2å¹¶ä¸”&lt;0.2.0</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜~&gt;0.1â€²     //ä½¿ç”¨å¤§äºç­‰äº0.1ä½†å°äº1.0çš„ç‰ˆæœ¬</span><br><span class="line">pod â€˜AFNetworkingâ€™, â€˜~&gt;0â€² //é«˜äº0çš„ç‰ˆæœ¬ï¼Œå†™è¿™ä¸ªé™åˆ¶å’Œä»€ä¹ˆéƒ½ä¸å†™æ˜¯ä¸€ä¸ªæ•ˆæœï¼Œéƒ½è¡¨ç¤ºä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>å½“å‘ç°æ— æ³•å¼•å…¥åº“æ—¶, å°è¯•ä¸‹é¢è¿™ä¸ªæ–¹æ³•<br>å¯ä»¥åœ¨target-Build Settingsä¸‹ä¿®æ”¹â€œUser Header Search Pathsâ€é¡¹ï¼Œæ–°å¢<code>${SRCROOT}</code>å¹¶é€‰æ‹©<code>rcursive</code></p><p><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;CocoaPodsåº”è¯¥æ˜¯iOSå’ŒMacå¼€å‘ä¸­æœ€å¸¸ç”¨æœ€æœ‰åçš„ç±»åº“ç®¡ç†å·¥å…·äº†ï¼Œè¿™ç¯‡å°±æ¥æ•´ç†ä¸‹CocoaPodsçš„å®‰è£…å’Œä½¿ç”¨ã€‚&lt;br&gt;å¦‚æœpod update pod Setupæ…¢ è¯·ç›´æ¥è·³åˆ° &lt;font color=&quot;10d3c4&quot;&gt;&lt;b&gt;æ ‡é¢˜2.4&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸€-CocoaPodså®‰è£…&quot;&gt;&lt;a href=&quot;#ä¸€-CocoaPodså®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;ä¸€. CocoaPodså®‰è£…:&quot;&gt;&lt;/a&gt;ä¸€. CocoaPodså®‰è£…:&lt;/h2&gt;&lt;h3 id=&quot;1-å®‰è£…&quot;&gt;&lt;a href=&quot;#1-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1. å®‰è£…&quot;&gt;&lt;/a&gt;1. å®‰è£…&lt;/h3&gt;&lt;p&gt;&amp;emsp;&amp;emsp;cocoaPodsæ˜¯ç”¨ Ruby å®ç°çš„, è¦æƒ³ä½¿ç”¨å®ƒå°±éœ€è¦æœ‰ Ruby ç¯å¢ƒ, å¹¸è¿çš„æ˜¯OS X ç³»ç»Ÿé»˜è®¤æ”¯æŒ Ruby, æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤å®‰è£… cocoaPods&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo gem install -n /usr/local/bin cocoapods&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;CocoaPodsæ˜¯ä»¥Ruby gemåŒ…çš„å½¢å¼è¢«å®‰è£…çš„ã€‚åœ¨å®‰è£…æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé—®æˆ‘ä»¬æ˜¯ä¸æ˜¯æ›´æ–°rakeï¼Œè¾“å…¥yå³å¯ã€‚è¿™æ˜¯å› ä¸ºrake gemåŒ…ä¼šåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­æ£€æŸ¥æ›´ç»†ï¼Œå¦‚æœæœ‰å¯ç”¨çš„æ–°ç‰ˆæœ¬å°±ä¼šå‡ºç°åˆšæ‰çš„é€‰é¡¹ã€‚&lt;br&gt;åœ¨å®‰è£…è¿›ç¨‹ç»“æŸçš„æ—¶å€™ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ pod setup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜ä¸€åˆ‡å®‰è£…å°±æˆåŠŸäº†ï¼&lt;br&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://www.lydsnm.top/categories/iOS/"/>
    
    
      <category term="cocoaPods" scheme="http://www.lydsnm.top/tags/cocoaPods/"/>
    
  </entry>
  
</feed>
